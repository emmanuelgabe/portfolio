# Global configuration shared across all profiles
# Profile-specific configs: application-{profile}.yml

app:
  jwt:
    # JWT secret key - MUST be set via environment variable in production
    # Generate secure secret: openssl rand -base64 64
    secret: ${JWT_SECRET:defaultSecretKeyForDevOnlyChangeInProductionMustBeAtLeast256BitsLongForHS256Algorithm}
    # Access token expiration: 15 minutes (900000 ms)
    access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION:900000}
    # Refresh token expiration: 7 days (604800000 ms)
    refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION:604800000}
    # Token issuer identifier
    issuer: ${JWT_ISSUER:portfolio-backend}
    # Token audience identifier
    audience: ${JWT_AUDIENCE:portfolio-frontend}

# File upload configuration
file:
  upload:
    upload-dir: ${FILE_UPLOAD_DIR:uploads/images}
    base-path: ${FILE_BASE_PATH:/uploads/images}
    max-file-size: ${FILE_MAX_SIZE:5242880}  # 5MB in bytes
    allowed-extensions:
      - jpg
      - jpeg
      - png
      - gif
      - webp
    allowed-mime-types:
      - image/jpeg
      - image/png
      - image/gif
      - image/webp

# CV upload configuration
cv:
  storage:
    upload-dir: ${CV_UPLOAD_DIR:uploads/cvs}
    base-path: ${CV_BASE_PATH:/uploads/cvs}
    max-file-size: ${CV_MAX_FILE_SIZE:10485760}  # 10MB in bytes
    allowed-extensions:
      - pdf
    allowed-mime-types:
      - application/pdf

spring:
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  application:
    name: portfolio-backend

  # Multipart file upload configuration
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB
      file-size-threshold: 2KB
