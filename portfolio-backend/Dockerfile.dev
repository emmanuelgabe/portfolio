# Dockerfile for local development with hot reload (Spring DevTools)
FROM gradle:8-jdk21

WORKDIR /app

# Install wget for health checks (Debian-based image)
RUN apt-get update && apt-get install -y --no-install-recommends wget && rm -rf /var/lib/apt/lists/*

# Copy build files
COPY build.gradle settings.gradle ./

# Download dependencies
RUN gradle dependencies --no-daemon || true

EXPOSE 8080 5005

CMD ["gradle", "bootRun", "--continuous", "--no-daemon"]
