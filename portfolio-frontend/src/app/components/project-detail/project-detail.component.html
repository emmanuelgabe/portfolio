<div class="container py-5">
  <!-- Back Button -->
  <div class="row mb-4">
    <div class="col">
      <button class="btn btn-outline-secondary" (click)="goBack()">
        <i class="bi bi-arrow-left me-2"></i>
        Back to Projects
      </button>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3 text-muted">Loading project details...</p>
  </div>

  <!-- Error Alert -->
  <div *ngIf="error" class="alert alert-danger" role="alert">
    <i class="bi bi-exclamation-triangle-fill me-2"></i>
    <strong>Error!</strong> {{ error }}
    <div class="mt-3">
      <button class="btn btn-outline-danger btn-sm me-2" (click)="retry()">
        <i class="bi bi-arrow-clockwise me-1"></i>
        Retry
      </button>
      <button class="btn btn-outline-secondary btn-sm" (click)="goBack()">
        <i class="bi bi-arrow-left me-1"></i>
        Back to Projects
      </button>
    </div>
  </div>

  <!-- Project Details -->
  <div *ngIf="!isLoading && !error && project" class="project-detail">
    <!-- Project Header -->
    <div class="row mb-4">
      <div class="col">
        <div class="d-flex justify-content-between align-items-start">
          <div>
            <h1 class="display-4 mb-3">{{ project.title }}</h1>
            <div class="badges mb-3">
              <span
                *ngFor="let tag of project.tags"
                class="badge rounded-pill me-2 mb-2"
                [style.background-color]="tag.color || '#6c757d'"
              >
                {{ tag.name }}
              </span>
              <span *ngIf="project.featured" class="badge bg-warning text-dark me-2 mb-2">
                <i class="bi bi-star-fill me-1"></i>
                Featured
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Project Image -->
    <div class="row mb-4" *ngIf="hasImage">
      <div class="col">
        <div class="project-image-container">
          <img
            [src]="imageSrc"
            [alt]="project.title"
            class="img-fluid rounded shadow"
          />
        </div>
      </div>
    </div>

    <!-- Project Info Cards -->
    <div class="row mb-4">
      <!-- Description Card -->
      <div class="col-lg-8 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-file-text me-2 text-primary"></i>
              Description
            </h5>
            <p class="card-text">{{ project.description }}</p>
          </div>
        </div>
      </div>

      <!-- Tech Stack Card -->
      <div class="col-lg-4 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-stack me-2 text-primary"></i>
              Tech Stack
            </h5>
            <ul class="list-unstyled tech-stack-list">
              <li *ngFor="let tech of techStackArray" class="mb-2">
                <i class="bi bi-check-circle-fill text-success me-2"></i>
                {{ tech }}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="row mb-4">
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-3">
              <i class="bi bi-link-45deg me-2 text-primary"></i>
              Links
            </h5>
            <div class="d-flex flex-wrap gap-2">
              <a
                *ngIf="project.githubUrl"
                [href]="project.githubUrl"
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-dark"
              >
                <i class="bi bi-github me-2"></i>
                View on GitHub
              </a>
              <a
                *ngIf="project.demoUrl"
                [href]="project.demoUrl"
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-success"
              >
                <i class="bi bi-box-arrow-up-right me-2"></i>
                Live Demo
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Share Buttons -->
    <div class="row mb-4">
      <div class="col">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-3">
              <i class="bi bi-share me-2 text-primary"></i>
              Share this project
            </h5>
            <div class="d-flex flex-wrap gap-2">
              <button class="btn btn-outline-primary" (click)="shareOnTwitter()">
                <i class="bi bi-twitter me-2"></i>
                Twitter
              </button>
              <button class="btn btn-outline-primary" (click)="shareOnLinkedIn()">
                <i class="bi bi-linkedin me-2"></i>
                LinkedIn
              </button>
              <button class="btn btn-outline-secondary" (click)="copyLink()">
                <i class="bi bi-clipboard me-2"></i>
                Copy Link
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Project Metadata -->
    <div class="row">
      <div class="col">
        <div class="card shadow-sm bg-light">
          <div class="card-body">
            <div class="row text-center">
              <div class="col-md-6">
                <p class="text-muted mb-1">Created</p>
                <p class="fw-bold">{{ project.createdAt | date: 'medium' }}</p>
              </div>
              <div class="col-md-6">
                <p class="text-muted mb-1">Last Updated</p>
                <p class="fw-bold">{{ project.updatedAt | date: 'medium' }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
