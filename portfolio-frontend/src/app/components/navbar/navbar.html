<nav class="navbar navbar-expand-lg fixed-top" [class.scrolled]="isScrolled">
  <div class="container">
    <!-- Logo/Brand -->
    <a class="navbar-brand" routerLink="/" (click)="closeNavbar()">
      <span class="brand-name">Emmanuel Gabe</span>
    </a>

    <!-- Toggle button for mobile -->
    <button
      class="navbar-toggler"
      type="button"
      (click)="toggleNavbar()"
      [attr.aria-expanded]="!isCollapsed"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navigation links -->
    <div class="collapse navbar-collapse" [class.show]="!isCollapsed">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a
            class="nav-link"
            href="#hero"
            (click)="scrollToSection('hero')">
            <i class="bi bi-house-door"></i> Accueil
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#about"
            (click)="scrollToSection('about')">
            <i class="bi bi-person"></i> À propos
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#skills"
            (click)="scrollToSection('skills')">
            <i class="bi bi-code-slash"></i> Compétences
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#experiences"
            (click)="scrollToSection('experiences')">
            <i class="bi bi-briefcase"></i> Expériences
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#projects"
            (click)="scrollToSection('projects')">
            <i class="bi bi-folder"></i> Portfolio
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#contact"
            (click)="scrollToSection('contact')">
            <i class="bi bi-envelope"></i> Contact
          </a>
        </li>

        <!-- Admin link (visible only when authenticated as admin) -->
        <li class="nav-item" *ngIf="isAdmin">
          <a
            class="nav-link"
            routerLink="/admin"
            (click)="closeNavbar()">
            <i class="bi bi-gear"></i> Admin
          </a>
        </li>

        <!-- Authentication section -->
        <li class="nav-item auth-section" *ngIf="!isAuthenticated">
          <a
            class="nav-link btn-login"
            routerLink="/login"
            (click)="closeNavbar()">
            <i class="bi bi-box-arrow-in-right"></i> Connexion
          </a>
        </li>

        <li class="nav-item auth-section" *ngIf="isAuthenticated">
          <div class="user-menu">
            <span class="user-name">
              <i class="bi bi-person-circle"></i> {{ currentUser?.username }}
            </span>
            <button
              class="btn-logout"
              (click)="logout()"
              title="Se déconnecter">
              <i class="bi bi-box-arrow-right"></i> Déconnexion
            </button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Spacer to prevent content from being hidden under fixed navbar -->
<div class="navbar-spacer"></div>
