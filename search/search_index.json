{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Portfolio Documentation","text":"<p>Welcome to the Portfolio project documentation. This documentation covers all aspects of the application from API reference to deployment guides.</p>"},{"location":"#quick-navigation","title":"Quick Navigation","text":"Section Description API Reference REST API endpoints, authentication, request/response formats Architecture System design, database schema, frontend architecture Features Feature documentation: blog, CV, contact, images Security Authentication, authorization, rate limiting Development Setup, testing, code quality, logging Reference Configuration, environments, error codes Deployment CI/CD pipelines, local testing Operations Health checks, monitoring"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Java 21 LTS</li> <li>Node.js 20 LTS</li> <li>Docker Desktop</li> <li>PostgreSQL 15+</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Clone repository\ngit clone https://github.com/username/portfolio.git\ncd portfolio\n\n# Backend\ncd portfolio-backend\n./gradlew bootRun\n\n# Frontend (new terminal)\ncd portfolio-frontend\nnpm install\nnpm start\n</code></pre>"},{"location":"#access-points","title":"Access Points","text":"Service URL Frontend http://localhost:4200 Backend API http://localhost:8080/api Swagger UI http://localhost:8080/swagger-ui.html Health Check http://localhost:8080/actuator/health"},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>portfolio/\n\u251c\u2500\u2500 portfolio-backend/     # Spring Boot API\n\u251c\u2500\u2500 portfolio-frontend/    # Angular SPA\n\u251c\u2500\u2500 docs/                  # Documentation\n\u251c\u2500\u2500 nginx/                 # Nginx configuration\n\u251c\u2500\u2500 scripts/               # Utility scripts\n\u2514\u2500\u2500 docker-compose*.yml    # Docker configurations\n</code></pre>"},{"location":"#documentation-categories","title":"Documentation Categories","text":""},{"location":"#api-reference","title":"API Reference","text":"<p>Complete REST API documentation organized by resource:</p> <ul> <li>Authentication - Login, token refresh, logout</li> <li>Projects - Portfolio projects CRUD</li> <li>Skills - Skills management</li> <li>Experiences - Timeline experiences</li> <li>Articles - Blog articles</li> <li>Tags - Tag management</li> <li>Contact - Contact form</li> <li>CV - CV management</li> <li>Site Configuration - Site-wide configuration</li> <li>Article Images - Article image uploads</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<p>System design and technical architecture:</p> <ul> <li>System Architecture - High-level design</li> <li>Frontend Architecture - Angular structure</li> <li>Database Schema - PostgreSQL schema</li> <li>Error Handling - Exception handling</li> </ul>"},{"location":"#features","title":"Features","text":"<p>Detailed feature documentation:</p> <ul> <li>Blog Articles - Markdown, slugs, reading time</li> <li>Site Configuration - Centralized site settings</li> <li>Experience Management - Timeline</li> <li>CV Management - CV versioning</li> <li>Contact Form - Rate-limited contact</li> <li>Image Processing - WebP, thumbnails</li> <li>File Storage - File upload system</li> </ul>"},{"location":"#security","title":"Security","text":"<p>Security implementation details:</p> <ul> <li>Authentication - JWT system overview</li> <li>JWT Implementation - Token details</li> <li>RBAC - Role-based access control</li> <li>Password Management - BCrypt</li> <li>Rate Limiting - Request limits</li> <li>SVG Sanitization - XSS prevention</li> </ul>"},{"location":"#development","title":"Development","text":"<p>Development guides and conventions:</p> <ul> <li>Setup Guide - Environment setup</li> <li>Testing Guide - Test strategy</li> <li>Git Workflow - Branch strategy</li> <li>Code Quality - Static analysis</li> <li>Logging Conventions - Log format</li> </ul>"},{"location":"#reference","title":"Reference","text":"<p>Configuration and reference material:</p> <ul> <li>Configuration - App properties</li> <li>Environments - Env-specific settings</li> <li>Dependencies - Tech stack</li> <li>Error Codes - API error reference</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>See Contributing Guide for contribution guidelines.</p>"},{"location":"contributing/","title":"Documentation Contribution Guide","text":""},{"location":"contributing/#1-overview","title":"1. Overview","text":"<p>This guide defines the minimal standards for contributing to the Portfolio Application documentation. For comprehensive style guidelines, refer to the Google Developer Documentation Style Guide.</p>"},{"location":"contributing/#2-document-structure","title":"2. Document Structure","text":""},{"location":"contributing/#21-required-header","title":"2.1 Required Header","text":"<p>Every documentation file must start with:</p> <pre><code># Document Title\n\n## Table of Contents\n\n1. [Section One](#1-section-one)\n2. [Section Two](#2-section-two)\n\n---\n\n## 1. Section One\n\nContent...\n</code></pre>"},{"location":"contributing/#22-section-numbering","title":"2.2 Section Numbering","text":"<p>Use hierarchical numbering:</p> <pre><code>## 1. Introduction\n### 1.1 Overview\n### 1.2 Prerequisites\n\n## 2. Installation\n### 2.1 Requirements\n### 2.2 Procedure\n</code></pre>"},{"location":"contributing/#3-writing-standards","title":"3. Writing Standards","text":""},{"location":"contributing/#31-automated-validation","title":"3.1 Automated Validation","text":"<p>Documentation quality is automatically validated using Vale with the Google Developer Documentation Style Guide.</p> <p>How it works: - Vale runs automatically in CI/CD on every pull request - Checks all <code>.md</code> files against style rules - Reports errors (blocking) and warnings (non-blocking) - Reviews vocabulary and terminology consistency</p> <p>Running Vale locally:</p> <pre><code># Validate all documentation\n./scripts/validate-docs.sh\n\n# Validate specific file or directory\n./scripts/validate-docs.sh docs/development/\n./scripts/validate-docs.sh README.md\n</code></pre> <p>Installation (for local validation):</p> <pre><code># macOS\nbrew install vale\n\n# Linux\nsnap install vale\n\n# Windows\nchoco install vale\n</code></pre> <p>Customizing validation: - Add accepted terms to: <code>.vale/styles/config/vocabularies/Portfolio/accept.txt</code> - Add rejected terms to: <code>.vale/styles/config/vocabularies/Portfolio/reject.txt</code> - Adjust rule severity in: <code>.vale.ini</code></p> <p>Note: The Google style guide is downloaded automatically when running Vale for the first time.</p>"},{"location":"contributing/#32-code-blocks","title":"3.2 Code Blocks","text":"<p>Always specify language:</p> <pre><code>```bash\ndocker-compose up -d\n```\n\n```java\npublic class Example {\n    // Code\n}\n```\n</code></pre>"},{"location":"contributing/#33-standard-patterns","title":"3.3 Standard Patterns","text":"<p>Prerequisites: <pre><code>## Prerequisites\n\nThe following software is required:\n- Java Development Kit (JDK) 24\n- Docker Engine 20.10+\n- Git 2.30+\n</code></pre></p> <p>Commands with Output: <pre><code>Execute the health check:\n\n```bash\ncurl http://localhost:8080/actuator/health\n```\n\nExpected response:\n\n```json\n{\n  \"status\": \"UP\"\n}\n```\n</code></pre></p> <p>Error Documentation: <pre><code>**Error:** `Connection refused`\n**Cause:** Backend service not running\n**Solution:** Restart the service using `docker restart`\n</code></pre></p> <p>Notes and Warnings: <pre><code>**Note:** This applies to production only.\n**Warning:** This operation deletes all data.\n**Important:** Create a backup first.\n</code></pre></p>"},{"location":"contributing/#4-file-conventions","title":"4. File Conventions","text":""},{"location":"contributing/#41-naming","title":"4.1 Naming","text":"<ul> <li>Use lowercase with hyphens: <code>health-check-guide.md</code></li> <li>Be descriptive: <code>database-migration-procedure.md</code></li> <li>Always use <code>.md</code> extension</li> </ul> <pre><code>\n</code></pre>"},{"location":"contributing/#6-quality-assurance","title":"6. Quality Assurance","text":""},{"location":"contributing/#61-pre-submission-checklist","title":"6.1 Pre-submission Checklist","text":"<p>Before submitting documentation changes:</p> <ol> <li> <p>Run Vale locally: <pre><code>./scripts/validate-docs.sh docs/\n</code></pre></p> </li> <li> <p>Fix errors: Address all error-level issues (required)</p> </li> <li> <p>Review warnings: Consider addressing warning-level issues (recommended)</p> </li> <li> <p>Verify formatting:</p> </li> <li>Section numbering correct</li> <li>Code blocks have language specified</li> <li> <p>Links are valid</p> </li> <li> <p>Test code samples: Ensure all commands and code examples work</p> </li> </ol>"},{"location":"contributing/#62-cicd-validation","title":"6.2 CI/CD Validation","text":"<p>The CI/CD pipeline automatically validates documentation:</p> <ul> <li>Trigger: On every push and pull request to <code>main</code>, <code>develop</code>, <code>dev</code></li> <li>Scope: All <code>.md</code> files (README, docs/, CHANGELOG)</li> <li>Tool: Vale with Google Developer Documentation Style Guide</li> <li>Result: Annotations on GitHub pull requests with suggestions</li> </ul> <p>Workflow file: <code>.github/workflows/vale-docs.yml</code></p>"},{"location":"api/","title":"API Reference Overview","text":""},{"location":"api/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Base URLs</li> <li>Authentication</li> <li>Common Headers</li> <li>Response Format</li> <li>HTTP Status Codes</li> <li>API Endpoints Overview</li> <li>Interactive Documentation</li> </ol>"},{"location":"api/#1-introduction","title":"1. Introduction","text":"<p>This document provides an overview of the Portfolio REST API. The API follows RESTful principles and uses JSON for request and response payloads.</p> <p>API Version: 1.0 Base Technology: Spring Boot 3.x REST API Authentication: JWT (JSON Web Tokens)</p>"},{"location":"api/#2-base-urls","title":"2. Base URLs","text":"<p>Base URLs vary depending on the environment:</p> Environment Base URL Port Notes Local Development <code>http://localhost:8080</code> 8080 Docker or direct execution Staging <code>http://localhost:3001</code> 3001 Docker Compose staging Production <code>https://emmanuelgabe.com</code> 443 HTTPS only <p>API Path Prefix: All endpoints are prefixed with <code>/api</code></p> <p>Example: <pre><code>Local:      http://localhost:8080/api/projects\nStaging:    http://localhost:3001/api/projects\nProduction: https://api.yoursite.com/api/projects\n</code></pre></p>"},{"location":"api/#3-authentication","title":"3. Authentication","text":"<p>The API uses JWT (JSON Web Tokens) for authentication.</p> <p>Authentication Flow: 1. Obtain tokens via <code>POST /api/auth/login</code> 2. Include access token in <code>Authorization</code> header for protected endpoints 3. Refresh expired access tokens via <code>POST /api/auth/refresh</code></p> <p>Token Types: - Access Token: Short-lived (15 minutes), used for API requests - Refresh Token: Long-lived (7 days), used to obtain new access tokens</p> <p>Protected Routes: - Public routes: <code>/api/projects</code>, <code>/api/skills</code>, <code>/api/cv/current</code> - Admin routes: <code>/api/admin/**</code> (requires <code>ROLE_ADMIN</code>)</p> <p>See authentication.md for detailed authentication documentation.</p>"},{"location":"api/#4-common-headers","title":"4. Common Headers","text":""},{"location":"api/#request-headers","title":"Request Headers","text":"<p>For Authentication Endpoints: <pre><code>Content-Type: application/json\n</code></pre></p> <p>For Protected Endpoints: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: application/json\n</code></pre></p> <p>For File Upload Endpoints: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: multipart/form-data\n</code></pre></p>"},{"location":"api/#response-headers","title":"Response Headers","text":"<pre><code>Content-Type: application/json; charset=UTF-8\n</code></pre>"},{"location":"api/#5-response-format","title":"5. Response Format","text":""},{"location":"api/#success-response","title":"Success Response","text":"<p>Standard Success (2xx): <pre><code>{\n  \"id\": 1,\n  \"title\": \"Project Name\",\n  \"description\": \"Project description\",\n  \"createdAt\": \"2025-11-15T10:30:00\"\n}\n</code></pre></p> <p>List Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Item 1\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Item 2\"\n  }\n]\n</code></pre></p>"},{"location":"api/#error-response","title":"Error Response","text":"<p>Standard Error Format: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed for field 'title': must not be blank\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Validation Error (400): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid-email\",\n      \"message\": \"must be a valid email address\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Authentication Error (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Authorization Error (403): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 403,\n  \"error\": \"Forbidden\",\n  \"message\": \"Access denied: insufficient permissions\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Not Found (404): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 123\",\n  \"path\": \"/api/admin/projects/123\"\n}\n</code></pre></p>"},{"location":"api/#6-http-status-codes","title":"6. HTTP Status Codes","text":"<p>The API uses standard HTTP status codes:</p>"},{"location":"api/#success-codes-2xx","title":"Success Codes (2xx)","text":"Code Meaning Usage <code>200 OK</code> Success GET, PUT, DELETE successful <code>201 Created</code> Resource created POST successful <code>204 No Content</code> Success without body DELETE successful (alternative)"},{"location":"api/#client-error-codes-4xx","title":"Client Error Codes (4xx)","text":"Code Meaning Usage <code>400 Bad Request</code> Invalid request Validation errors, malformed JSON <code>401 Unauthorized</code> Authentication required Missing or invalid token <code>403 Forbidden</code> Insufficient permissions Valid token but wrong role <code>404 Not Found</code> Resource not found Entity doesn't exist <code>409 Conflict</code> Conflict with current state Duplicate entry, constraint violation"},{"location":"api/#server-error-codes-5xx","title":"Server Error Codes (5xx)","text":"Code Meaning Usage <code>500 Internal Server Error</code> Server error Unexpected server-side error"},{"location":"api/#7-api-endpoints-overview","title":"7. API Endpoints Overview","text":""},{"location":"api/#71-authentication","title":"7.1 Authentication","text":"<p>Base Path: <code>/api/auth</code></p> Method Endpoint Auth Description POST <code>/login</code> Public Authenticate user POST <code>/refresh</code> Public Refresh access token POST <code>/logout</code> Required Invalidate refresh token POST <code>/change-password</code> Required Change user password <p>See authentication.md for details.</p>"},{"location":"api/#72-projects","title":"7.2 Projects","text":"<p>Base Path: <code>/api/projects</code> (public), <code>/api/admin/projects</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/projects</code> Public List all projects GET <code>/api/projects/{id}</code> Public Get project details POST <code>/api/admin/projects</code> Admin Create project PUT <code>/api/admin/projects/{id}</code> Admin Update project DELETE <code>/api/admin/projects/{id}</code> Admin Delete project POST <code>/api/admin/projects/{id}/upload-image</code> Admin Upload project image DELETE <code>/api/admin/projects/{id}/delete-image</code> Admin Delete project image <p>See projects.md for details.</p>"},{"location":"api/#73-skills","title":"7.3 Skills","text":"<p>Base Path: <code>/api/skills</code> (public), <code>/api/admin/skills</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/skills</code> Public List all skills GET <code>/api/skills/{id}</code> Public Get skill details POST <code>/api/admin/skills</code> Admin Create skill PUT <code>/api/admin/skills/{id}</code> Admin Update skill DELETE <code>/api/admin/skills/{id}</code> Admin Delete skill <p>See skills.md for details.</p>"},{"location":"api/#74-cv-management","title":"7.4 CV Management","text":"<p>Base Path: <code>/api/cv</code> (public), <code>/api/admin/cv</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/cv/current</code> Public Get current CV GET <code>/api/cv/download/{id}</code> Public Download specific CV POST <code>/api/admin/cv/upload</code> Admin Upload new CV GET <code>/api/admin/cv/all</code> Admin List all CVs PUT <code>/api/admin/cv/{id}/set-current</code> Admin Set CV as current DELETE <code>/api/admin/cv/{id}</code> Admin Delete CV <p>See cv.md for details.</p>"},{"location":"api/#75-experiences","title":"7.5 Experiences","text":"<p>Base Path: <code>/api/experiences</code></p> Method Endpoint Auth Description GET <code>/api/experiences</code> Public List all experiences GET <code>/api/experiences/{id}</code> Public Get experience details GET <code>/api/experiences/type/{type}</code> Public Get experiences by type GET <code>/api/experiences/ongoing</code> Public Get ongoing experiences GET <code>/api/experiences/recent</code> Public Get recent experiences POST <code>/api/experiences/admin</code> Admin Create experience PUT <code>/api/experiences/admin/{id}</code> Admin Update experience DELETE <code>/api/experiences/admin/{id}</code> Admin Delete experience <p>See experiences.md for details.</p>"},{"location":"api/#76-tags","title":"7.6 Tags","text":"<p>Base Path: <code>/api/tags</code></p> Method Endpoint Auth Description GET <code>/api/tags</code> Public List all tags GET <code>/api/tags/{id}</code> Public Get tag details POST <code>/api/tags/admin</code> Admin Create tag PUT <code>/api/tags/admin/{id}</code> Admin Update tag DELETE <code>/api/tags/admin/{id}</code> Admin Delete tag <p>See tags.md for details.</p>"},{"location":"api/#77-contact","title":"7.7 Contact","text":"<p>Base Path: <code>/api/contact</code></p> Method Endpoint Auth Description POST <code>/api/contact</code> Public Send contact message (rate limited) <p>See contact.md for details.</p>"},{"location":"api/#78-articles","title":"7.8 Articles","text":"<p>Base Path: <code>/api/articles</code></p> Method Endpoint Auth Description GET <code>/api/articles</code> Public List published articles GET <code>/api/articles/paginated</code> Public List articles with pagination GET <code>/api/articles/{slug}</code> Public Get article by slug GET <code>/api/articles/admin</code> Admin List all articles (including drafts) GET <code>/api/articles/admin/{id}</code> Admin Get article by ID POST <code>/api/articles/admin</code> Admin Create article PUT <code>/api/articles/admin/{id}</code> Admin Update article DELETE <code>/api/articles/admin/{id}</code> Admin Delete article PUT <code>/api/articles/admin/{id}/publish</code> Admin Publish article PUT <code>/api/articles/admin/{id}/unpublish</code> Admin Unpublish article <p>See articles-api.md for details.</p>"},{"location":"api/#79-file-upload","title":"7.9 File Upload","text":"<p>Base Path: <code>/api/admin/upload</code></p> Method Endpoint Auth Description POST <code>/api/admin/upload</code> Admin Generic file upload <p>See files.md for details.</p>"},{"location":"api/#710-site-configuration","title":"7.10 Site Configuration","text":"<p>Base Path: <code>/api/configuration</code> (public), <code>/api/admin/configuration</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/configuration</code> Public Get site configuration GET <code>/api/admin/configuration</code> Admin Get site configuration (admin) PUT <code>/api/admin/configuration</code> Admin Update site configuration POST <code>/api/admin/configuration/profile-image</code> Admin Upload profile image DELETE <code>/api/admin/configuration/profile-image</code> Admin Delete profile image <p>See site-configuration.md for details.</p>"},{"location":"api/#711-graphql-api","title":"7.11 GraphQL API","text":"<p>Base Path: <code>/graphql</code></p> Method Endpoint Auth Description POST <code>/graphql</code> Public/Admin GraphQL endpoint GET <code>/graphiql</code> Public GraphiQL interactive UI <p>See graphql.md for schema and queries.</p>"},{"location":"api/#712-search-api","title":"7.12 Search API","text":"<p>Base Path: <code>/api/admin/search</code></p> Method Endpoint Auth Description GET <code>/api/admin/search/articles</code> Admin Search articles GET <code>/api/admin/search/projects</code> Admin Search projects GET <code>/api/admin/search/experiences</code> Admin Search experiences POST <code>/api/admin/search/reindex</code> Admin Rebuild indices <p>See search.md for details.</p>"},{"location":"api/#713-audit-api","title":"7.13 Audit API","text":"<p>Base Path: <code>/api/admin/audit</code></p> Method Endpoint Auth Description GET <code>/api/admin/audit</code> Admin List audit logs GET <code>/api/admin/audit/entity/{type}/{id}</code> Admin Entity history GET <code>/api/admin/audit/stats</code> Admin Audit statistics GET <code>/api/admin/audit/export/csv</code> Admin Export to CSV GET <code>/api/admin/audit/export/json</code> Admin Export to JSON <p>See audit.md for details.</p>"},{"location":"api/#714-visitors-api","title":"7.14 Visitors API","text":"<p>Base Path: <code>/api/visitors</code> (public), <code>/api/admin/visitors</code> (admin)</p> Method Endpoint Auth Description POST <code>/api/visitors/heartbeat</code> Public Register heartbeat GET <code>/api/admin/visitors/stream</code> Admin SSE stream GET <code>/api/admin/visitors/count</code> Admin Active count GET <code>/api/admin/visitors/stats</code> Admin Visitor stats GET <code>/api/admin/visitors/daily</code> Admin Daily data <p>See visitors.md for details.</p>"},{"location":"api/#715-batch-api","title":"7.15 Batch API","text":"<p>Base Path: <code>/api/admin/batch</code></p> Method Endpoint Auth Description GET <code>/api/admin/batch/image-reprocessing/stats</code> Admin Reprocessing stats GET <code>/api/admin/batch/image-reprocessing/last</code> Admin Last job info POST <code>/api/admin/batch/image-reprocessing/run</code> Admin Run job"},{"location":"api/#716-circuit-breakers-api","title":"7.16 Circuit Breakers API","text":"<p>Base Path: <code>/api/admin/circuit-breakers</code></p> Method Endpoint Auth Description GET <code>/api/admin/circuit-breakers</code> Admin All circuit breakers GET <code>/api/admin/circuit-breakers/{name}</code> Admin Specific breaker"},{"location":"api/#717-health-check","title":"7.17 Health Check","text":"<p>Base Path: <code>/actuator</code></p> Method Endpoint Auth Description GET <code>/actuator/health</code> Public Application health status <p>Returns <code>{\"status\": \"UP\"}</code> when application is healthy.</p>"},{"location":"api/#8-interactive-documentation","title":"8. Interactive Documentation","text":""},{"location":"api/#swagger-ui","title":"Swagger UI","text":"<p>The API provides interactive documentation via Swagger UI:</p> <p>Local Development: <pre><code>http://localhost:8080/swagger-ui.html\n</code></pre></p> <p>Staging: <pre><code>http://localhost:3001/swagger-ui.html\n</code></pre></p> <p>Features: - Interactive endpoint testing - Request/response schema documentation - Authentication token management - Example values for all models</p>"},{"location":"api/#openapi-json-specification","title":"OpenAPI JSON Specification","text":"<p>Download the OpenAPI 3.0 specification:</p> <pre><code>http://localhost:8080/api-docs\n</code></pre> <p>This JSON file can be imported into tools like Postman, Insomnia, or used to generate client SDKs.</p>"},{"location":"api/#related-documentation","title":"Related Documentation","text":"<ul> <li>Authentication Guide - JWT authentication details</li> <li>Projects API - Project management endpoints</li> <li>Skills API - Skill management endpoints</li> <li>Experiences API - Experience management endpoints</li> <li>Tags API - Tag management endpoints</li> <li>Contact API - Contact form endpoint</li> <li>Articles API - Blog articles endpoints</li> <li>CV API - CV management endpoints</li> <li>Site Configuration API - Site configuration endpoints</li> <li>Files API - File upload endpoints</li> <li>Security: RBAC - Role-based access control</li> <li>CI/CD Documentation - Deployment pipeline</li> </ul>"},{"location":"api/article-images/","title":"Article Images API","text":"<p>REST API endpoints for managing images associated with blog articles.</p>"},{"location":"api/article-images/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Codes</li> </ol>"},{"location":"api/article-images/#overview","title":"Overview","text":"<p>The Article Images API provides endpoints for uploading and managing images within blog articles. Images are automatically processed (WebP conversion, thumbnail generation) upon upload.</p> <p>Base URL: <code>/api/admin/articles</code></p> <p>Authentication: All endpoints require ADMIN role.</p>"},{"location":"api/article-images/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/article-images/#upload-article-image","title":"Upload Article Image","text":"<p>Uploads an image for a specific article.</p> <pre><code>POST /api/admin/articles/{id}/images\n</code></pre> <p>Authentication: Required (ADMIN role)</p> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: multipart/form-data\n</code></pre></p> <p>Path Parameters:</p> Parameter Type Description <code>id</code> Long Article ID <p>Request Body:</p> Field Type Description <code>file</code> MultipartFile Image file (JPEG, PNG, WebP) <p>Example (cURL):</p> <pre><code>curl -X POST \"http://localhost:8080/api/admin/articles/1/images\" \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -F \"file=@/path/to/image.jpg\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": 1,\n  \"imageUrl\": \"/uploads/articles/1/abc123.webp\",\n  \"thumbnailUrl\": \"/uploads/articles/1/abc123_thumb.webp\",\n  \"uploadedAt\": \"2024-06-20T14:45:00\"\n}\n</code></pre> <p>Status Codes:</p> Code Description 201 Image uploaded successfully 400 Invalid file format or size 401 Unauthorized 403 Forbidden (not admin) 404 Article not found"},{"location":"api/article-images/#delete-article-image","title":"Delete Article Image","text":"<p>Removes an image from an article.</p> <pre><code>DELETE /api/admin/articles/{articleId}/images/{imageId}\n</code></pre> <p>Authentication: Required (ADMIN role)</p> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p> <p>Path Parameters:</p> Parameter Type Description <code>articleId</code> Long Article ID <code>imageId</code> Long Image ID <p>Response: No content (204)</p> <p>Status Codes:</p> Code Description 204 Image deleted successfully 401 Unauthorized 403 Forbidden (not admin) 404 Article or image not found"},{"location":"api/article-images/#data-models","title":"Data Models","text":""},{"location":"api/article-images/#articleimageresponse","title":"ArticleImageResponse","text":"<pre><code>{\n  \"id\": \"Long\",\n  \"imageUrl\": \"String\",\n  \"thumbnailUrl\": \"String\",\n  \"uploadedAt\": \"LocalDateTime\"\n}\n</code></pre>"},{"location":"api/article-images/#image-processing","title":"Image Processing","text":"<p>Uploaded images are automatically processed:</p> Process Description Format conversion Converted to WebP Thumbnail generation 300x300px thumbnail created Quality optimization 80% quality setting"},{"location":"api/article-images/#error-codes","title":"Error Codes","text":"Code Message Description IMG_001 Article not found Specified article does not exist IMG_002 Image not found Specified image does not exist IMG_003 Invalid file type File is not a valid image format IMG_004 File too large File exceeds maximum size limit IMG_005 Upload failed Server error during upload"},{"location":"api/article-images/#related-documentation","title":"Related Documentation","text":"<ul> <li>Articles API - Blog articles endpoints</li> <li>Image Processing - Image processing feature</li> <li>File Storage - File storage architecture</li> </ul>"},{"location":"api/articles-api/","title":"Articles API Documentation","text":"<p>REST API endpoints for managing blog articles with Markdown content, draft/publish workflow, tags, and images.</p>"},{"location":"api/articles-api/#base-url","title":"Base URL","text":"<pre><code>/api/articles\n</code></pre>"},{"location":"api/articles-api/#public-endpoints","title":"Public Endpoints","text":""},{"location":"api/articles-api/#get-all-published-articles","title":"Get All Published Articles","text":"<p>Retrieves all published articles visible to the public.</p> <p>Endpoint: <code>GET /api/articles</code></p> <p>Authentication: None required</p> <p>Response: <code>200 OK</code></p> <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Getting Started with Spring Boot\",\n    \"slug\": \"getting-started-with-spring-boot\",\n    \"content\": \"# Introduction\\n\\nThis is a comprehensive guide...\",\n    \"contentHtml\": \"&lt;h1&gt;Introduction&lt;/h1&gt;&lt;p&gt;This is a comprehensive guide...&lt;/p&gt;\",\n    \"excerpt\": \"Learn how to build REST APIs with Spring Boot\",\n    \"authorName\": \"Admin\",\n    \"draft\": false,\n    \"publishedAt\": \"2025-01-15T10:30:00\",\n    \"createdAt\": \"2025-01-10T14:20:00\",\n    \"updatedAt\": \"2025-01-15T10:30:00\",\n    \"viewsCount\": 142,\n    \"readingTimeMinutes\": 8,\n    \"tags\": [\n      {\n        \"id\": 1,\n        \"name\": \"Spring Boot\",\n        \"slug\": \"spring-boot\"\n      }\n    ],\n    \"images\": [\n      {\n        \"id\": 1,\n        \"imageUrl\": \"/uploads/articles/article-1-image-abc123.webp\",\n        \"thumbnailUrl\": \"/uploads/articles/article-1-thumb-abc123.webp\",\n        \"uploadedAt\": \"2025-01-10T15:00:00\"\n      }\n    ]\n  }\n]\n</code></pre>"},{"location":"api/articles-api/#get-published-articles-paginated","title":"Get Published Articles (Paginated)","text":"<p>Retrieves published articles with pagination support.</p> <p>Endpoint: <code>GET /api/articles/paginated</code></p> <p>Authentication: None required</p> <p>Query Parameters:</p> Parameter Type Default Description <code>page</code> integer 0 Page number (zero-indexed) <code>size</code> integer 10 Number of articles per page <code>sort</code> string publishedAt,desc Sort field and direction <p>Example: <code>GET /api/articles/paginated?page=0&amp;size=5&amp;sort=publishedAt,desc</code></p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"title\": \"Article Title\",\n      \"slug\": \"article-title\",\n      ...\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 5,\n    \"sort\": {\n      \"sorted\": true,\n      \"unsorted\": false,\n      \"empty\": false\n    },\n    \"offset\": 0,\n    \"paged\": true,\n    \"unpaged\": false\n  },\n  \"totalPages\": 3,\n  \"totalElements\": 15,\n  \"last\": false,\n  \"first\": true,\n  \"size\": 5,\n  \"number\": 0,\n  \"numberOfElements\": 5,\n  \"empty\": false\n}\n</code></pre>"},{"location":"api/articles-api/#get-article-by-slug","title":"Get Article by Slug","text":"<p>Retrieves a single published article by its URL-friendly slug. Increments view count.</p> <p>Endpoint: <code>GET /api/articles/{slug}</code></p> <p>Authentication: None required</p> <p>Path Parameters:</p> Parameter Type Description <code>slug</code> string URL-friendly article identifier <p>Example: <code>GET /api/articles/getting-started-with-spring-boot</code></p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"title\": \"Getting Started with Spring Boot\",\n  \"slug\": \"getting-started-with-spring-boot\",\n  \"content\": \"# Introduction\\n\\nThis is markdown content...\",\n  \"contentHtml\": \"&lt;h1&gt;Introduction&lt;/h1&gt;&lt;p&gt;This is markdown content...&lt;/p&gt;\",\n  \"excerpt\": \"Learn Spring Boot basics\",\n  \"authorName\": \"Admin\",\n  \"draft\": false,\n  \"publishedAt\": \"2025-01-15T10:30:00\",\n  \"createdAt\": \"2025-01-10T14:20:00\",\n  \"updatedAt\": \"2025-01-15T10:30:00\",\n  \"viewsCount\": 143,\n  \"readingTimeMinutes\": 8,\n  \"tags\": [],\n  \"images\": []\n}\n</code></pre> <p>Error Response: <code>404 Not Found</code></p> <pre><code>{\n  \"status\": 404,\n  \"message\": \"Article not found with slug: nonexistent-slug\",\n  \"timestamp\": \"2025-01-20T10:30:00\"\n}\n</code></pre>"},{"location":"api/articles-api/#admin-endpoints","title":"Admin Endpoints","text":"<p>Authentication: Required (ADMIN role)</p> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\n</code></pre></p>"},{"location":"api/articles-api/#get-all-articles-admin","title":"Get All Articles (Admin)","text":"<p>Retrieves all articles including drafts.</p> <p>Endpoint: <code>GET /api/articles/admin</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>200 OK</code></p> <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Published Article\",\n    \"draft\": false,\n    ...\n  },\n  {\n    \"id\": 2,\n    \"title\": \"Draft Article\",\n    \"draft\": true,\n    \"publishedAt\": null,\n    ...\n  }\n]\n</code></pre> <p>Error Response: <code>403 Forbidden</code></p>"},{"location":"api/articles-api/#get-all-articles-paginated-admin","title":"Get All Articles Paginated (Admin)","text":"<p>Retrieves all articles with pagination (admin only).</p> <p>Endpoint: <code>GET /api/articles/admin/paginated</code></p> <p>Authentication: ADMIN required</p> <p>Query Parameters: Same as public paginated endpoint</p> <p>Response: <code>200 OK</code> (Page object with all articles including drafts)</p>"},{"location":"api/articles-api/#get-article-by-id-admin","title":"Get Article by ID (Admin)","text":"<p>Retrieves an article by ID, including draft status.</p> <p>Endpoint: <code>GET /api/articles/admin/{id}</code></p> <p>Authentication: ADMIN required</p> <p>Path Parameters:</p> Parameter Type Description <code>id</code> integer Article database ID <p>Response: <code>200 OK</code></p> <p>Error Response: <code>404 Not Found</code></p>"},{"location":"api/articles-api/#create-article","title":"Create Article","text":"<p>Creates a new article (draft by default).</p> <p>Endpoint: <code>POST /api/articles/admin</code></p> <p>Authentication: ADMIN required</p> <p>Request Body:</p> <pre><code>{\n  \"title\": \"New Article Title\",\n  \"content\": \"# Markdown Content\\n\\nThis is the article body...\",\n  \"excerpt\": \"Short description for previews (optional)\",\n  \"tagIds\": [1, 2, 3],\n  \"draft\": true\n}\n</code></pre> <p>Field Validation:</p> Field Required Constraints <code>title</code> Yes 3-200 characters <code>content</code> Yes Not blank <code>excerpt</code> No Max 500 characters <code>tagIds</code> No Valid tag IDs <code>draft</code> No Default: true <p>Response: <code>201 Created</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"New Article Title\",\n  \"slug\": \"new-article-title\",\n  \"content\": \"# Markdown Content...\",\n  \"contentHtml\": \"&lt;h1&gt;Markdown Content&lt;/h1&gt;...\",\n  \"excerpt\": \"Short description\",\n  \"authorName\": \"Admin\",\n  \"draft\": true,\n  \"publishedAt\": null,\n  \"createdAt\": \"2025-01-20T11:00:00\",\n  \"updatedAt\": \"2025-01-20T11:00:00\",\n  \"viewsCount\": 0,\n  \"readingTimeMinutes\": 2,\n  \"tags\": [\n    {\"id\": 1, \"name\": \"Tag1\", \"slug\": \"tag1\"}\n  ],\n  \"images\": []\n}\n</code></pre> <p>Error Response: <code>400 Bad Request</code></p> <pre><code>{\n  \"status\": 400,\n  \"message\": \"Title is required\",\n  \"timestamp\": \"2025-01-20T11:00:00\"\n}\n</code></pre>"},{"location":"api/articles-api/#update-article","title":"Update Article","text":"<p>Updates an existing article. Only provided fields are updated.</p> <p>Endpoint: <code>PUT /api/articles/admin/{id}</code></p> <p>Authentication: ADMIN required</p> <p>Request Body:</p> <pre><code>{\n  \"title\": \"Updated Title\",\n  \"content\": \"Updated markdown content\",\n  \"excerpt\": \"Updated excerpt\",\n  \"tagIds\": [1, 2],\n  \"draft\": false\n}\n</code></pre> <p>Note: All fields are optional. Only provided fields will be updated.</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"Updated Title\",\n  \"slug\": \"updated-title\",\n  ...\n}\n</code></pre> <p>Error Response: <code>404 Not Found</code></p>"},{"location":"api/articles-api/#delete-article","title":"Delete Article","text":"<p>Permanently deletes an article and all associated images from filesystem.</p> <p>Endpoint: <code>DELETE /api/articles/admin/{id}</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>204 No Content</code></p> <p>Error Response: <code>404 Not Found</code></p> <p>Note: This action is irreversible. All article images are automatically deleted from the filesystem via <code>@PreRemove</code> listener.</p>"},{"location":"api/articles-api/#publish-article","title":"Publish Article","text":"<p>Publishes a draft article (sets <code>draft=false</code> and <code>publishedAt=now</code>).</p> <p>Endpoint: <code>PUT /api/articles/admin/{id}/publish</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"Article Title\",\n  \"draft\": false,\n  \"publishedAt\": \"2025-01-20T12:00:00\",\n  ...\n}\n</code></pre>"},{"location":"api/articles-api/#unpublish-article","title":"Unpublish Article","text":"<p>Unpublishes an article (sets <code>draft=true</code>).</p> <p>Endpoint: <code>PUT /api/articles/admin/{id}/unpublish</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"Article Title\",\n  \"draft\": true,\n  \"publishedAt\": \"2025-01-20T12:00:00\",\n  ...\n}\n</code></pre>"},{"location":"api/articles-api/#reorder-articles","title":"Reorder Articles","text":"<p>Reorder articles by providing an ordered list of IDs (admin only).</p> <p>Endpoint: <code>PUT /api/articles/admin/reorder</code></p> <p>Authentication: ADMIN required</p> <p>Request Body:</p> <pre><code>{\n  \"orderedIds\": [3, 1, 2, 5, 4]\n}\n</code></pre> <p>Field Validation:</p> Field Required Description <code>orderedIds</code> Yes Ordered list of article IDs <p>Response: <code>204 No Content</code></p> <p>Error Response: <code>404 Not Found</code> - Article ID not found</p> <p>Example: <pre><code>curl -X PUT \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"orderedIds\": [3, 1, 2, 5, 4]}' \\\n  http://localhost:8080/api/articles/admin/reorder\n</code></pre></p> <p>Note: This endpoint updates the <code>displayOrder</code> field for each article. The cache is automatically invalidated after reordering.</p>"},{"location":"api/articles-api/#article-image-management","title":"Article Image Management","text":""},{"location":"api/articles-api/#upload-article-image","title":"Upload Article Image","text":"<p>Uploads an image file to an article.</p> <p>Endpoint: <code>POST /api/admin/articles/{id}/images</code></p> <p>Authentication: ADMIN required</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data:</p> Field Type Description <code>file</code> File Image file (JPEG, PNG, WebP) <p>Example: <pre><code>curl -X POST \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -F \"file=@image.jpg\" \\\n  http://localhost:8080/api/admin/articles/1/images\n</code></pre></p> <p>Response: <code>201 Created</code></p> <pre><code>{\n  \"id\": 3,\n  \"imageUrl\": \"/uploads/articles/article-1-image-abc123.webp\",\n  \"thumbnailUrl\": \"/uploads/articles/article-1-thumb-abc123.webp\",\n  \"uploadedAt\": \"2025-01-20T13:00:00\"\n}\n</code></pre> <p>Image Processing: - Converted to WebP format - Optimized to max width 1200px - Thumbnail generated (300x300px crop) - Magic bytes validation (JPEG, PNG, WebP) - Path traversal protection</p> <p>Error Response: <code>400 Bad Request</code> - Invalid file format</p>"},{"location":"api/articles-api/#delete-article-image","title":"Delete Article Image","text":"<p>Deletes an image from an article and removes file from filesystem.</p> <p>Endpoint: <code>DELETE /api/admin/articles/{articleId}/images/{imageId}</code></p> <p>Authentication: ADMIN required</p> <p>Path Parameters:</p> Parameter Type Description <code>articleId</code> integer Article ID <code>imageId</code> integer Image ID <p>Response: <code>204 No Content</code></p> <p>Error Response: <code>404 Not Found</code></p>"},{"location":"api/articles-api/#data-models","title":"Data Models","text":""},{"location":"api/articles-api/#articleresponse","title":"ArticleResponse","text":"<p>Complete article data with rendered HTML.</p> Field Type Description <code>id</code> Long Article unique identifier <code>title</code> String Article title (3-200 chars) <code>slug</code> String URL-friendly identifier <code>content</code> String Markdown source content <code>contentHtml</code> String Rendered HTML from Markdown <code>excerpt</code> String Short description (max 500 chars) <code>authorName</code> String Author display name <code>draft</code> Boolean Draft status (true = unpublished) <code>publishedAt</code> DateTime Publication timestamp (null if draft) <code>createdAt</code> DateTime Creation timestamp <code>updatedAt</code> DateTime Last update timestamp <code>viewsCount</code> Integer Number of views <code>readingTimeMinutes</code> Integer Estimated reading time <code>displayOrder</code> Integer Display order (default: 0) <code>tags</code> Array[Tag] Associated tags <code>images</code> Array[Image] Uploaded images"},{"location":"api/articles-api/#business-rules","title":"Business Rules","text":""},{"location":"api/articles-api/#slug-generation","title":"Slug Generation","text":"<ul> <li>Auto-generated from title (lowercase, hyphenated)</li> <li>Unique constraint enforced</li> <li>Collision resolution: append UUID suffix (8 chars)</li> </ul>"},{"location":"api/articles-api/#reading-time-calculation","title":"Reading Time Calculation","text":"<ul> <li>Based on average reading speed: 200 words/minute</li> <li>Calculated automatically on create/update</li> </ul>"},{"location":"api/articles-api/#publication-workflow","title":"Publication Workflow","text":"<ol> <li>Create - Article created as draft (<code>draft=true</code>)</li> <li>Edit - Update content while draft</li> <li>Publish - Sets <code>draft=false</code>, <code>publishedAt=now()</code></li> <li>Unpublish - Sets <code>draft=true</code> (keeps <code>publishedAt</code>)</li> </ol>"},{"location":"api/articles-api/#view-counter","title":"View Counter","text":"<ul> <li>Incremented automatically when article accessed via slug</li> <li>Only counts public access (GET <code>/api/articles/{slug}</code>)</li> <li>Not incremented for admin access</li> </ul>"},{"location":"api/articles-api/#image-cleanup","title":"Image Cleanup","text":"<ul> <li>Images automatically deleted when article is deleted</li> <li>Handled by <code>ArticleEntityListener.@PreRemove</code></li> <li>Deletes both optimized image and thumbnail</li> </ul>"},{"location":"api/articles-api/#markdown-support","title":"Markdown Support","text":""},{"location":"api/articles-api/#supported-extensions-flexmark-gfm","title":"Supported Extensions (Flexmark GFM)","text":"<ul> <li>Tables - GitHub-style tables</li> <li>Strikethrough - <code>~~text~~</code></li> <li>Task Lists - <code>- [ ] task</code> / <code>- [x] done</code></li> <li>Autolinks - Automatic URL detection</li> </ul>"},{"location":"api/articles-api/#security","title":"Security","text":"<ul> <li>XSS protection via Flexmark sanitization</li> <li>No inline HTML execution</li> <li>Safe rendering of user content</li> </ul>"},{"location":"api/articles-api/#error-responses","title":"Error Responses","text":"<p>All errors follow consistent format:</p> <pre><code>{\n  \"status\": 404,\n  \"message\": \"Article not found with ID: 999\",\n  \"timestamp\": \"2025-01-20T14:00:00\"\n}\n</code></pre> <p>Common Status Codes: - <code>200 OK</code> - Success - <code>201 Created</code> - Resource created - <code>204 No Content</code> - Success with no response body - <code>400 Bad Request</code> - Validation error - <code>401 Unauthorized</code> - Missing/invalid JWT - <code>403 Forbidden</code> - Insufficient permissions - <code>404 Not Found</code> - Resource not found - <code>500 Internal Server Error</code> - Server error</p>"},{"location":"api/articles-api/#examples","title":"Examples","text":""},{"location":"api/articles-api/#create-and-publish-article","title":"Create and Publish Article","text":"<pre><code># 1. Create draft\nPOST /api/articles/admin\n{\n  \"title\": \"Spring Security Guide\",\n  \"content\": \"# Introduction\\n\\nSecurity basics...\",\n  \"tagIds\": [1, 2],\n  \"draft\": true\n}\n\n# 2. Upload images\nPOST /api/admin/articles/5/images\n-F \"file=@diagram.png\"\n\n# 3. Publish\nPUT /api/articles/admin/5/publish\n</code></pre>"},{"location":"api/articles-api/#paginated-public-list","title":"Paginated Public List","text":"<pre><code>GET /api/articles/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n</code></pre>"},{"location":"api/articles-api/#admin-dashboard","title":"Admin Dashboard","text":"<pre><code># Get all articles (drafts + published) with pagination\nGET /api/articles/admin/paginated?page=0&amp;size=20&amp;sort=updatedAt,desc\n</code></pre> <p>API Version: 1.0 Last Updated: 2025-01-20 Base Path: <code>/api/articles</code> Swagger UI: <code>http://localhost:8080/swagger-ui.html</code></p>"},{"location":"api/audit/","title":"Audit API","text":"<p>REST API for viewing, filtering, and exporting audit logs.</p>"},{"location":"api/audit/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Codes</li> <li>Related Documentation</li> </ol>"},{"location":"api/audit/#overview","title":"Overview","text":"<p>The Audit API provides access to the audit trail:</p> <ul> <li>View paginated audit logs with filtering</li> <li>Get entity change history</li> <li>Export logs to CSV/JSON</li> <li>View audit statistics</li> </ul> <p>Base URL: <code>/api/admin/audit</code></p> <p>Authentication: Required (ADMIN role)</p>"},{"location":"api/audit/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/audit/#get-audit-logs","title":"Get Audit Logs","text":"<pre><code>GET /api/admin/audit\n</code></pre> <p>Returns paginated audit logs with optional filtering.</p> <p>Query Parameters:</p> Parameter Type Description <code>action</code> string Filter by action (CREATE, UPDATE, DELETE, etc.) <code>entityType</code> string Filter by entity type (PROJECT, ARTICLE, etc.) <code>entityId</code> long Filter by entity ID <code>username</code> string Filter by username (case-insensitive) <code>success</code> boolean Filter by success status <code>startDate</code> datetime Filter by start date (ISO 8601) <code>endDate</code> datetime Filter by end date (ISO 8601) <code>page</code> int Page number (default: 0) <code>size</code> int Page size (default: 20) <code>sort</code> string Sort field (default: createdAt,desc) <p>Response: <pre><code>{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"action\": \"CREATE\",\n      \"entityType\": \"PROJECT\",\n      \"entityId\": 123,\n      \"entityName\": \"My Project\",\n      \"username\": \"admin\",\n      \"ipAddress\": \"192.168.1.1\",\n      \"userAgent\": \"Mozilla/5.0...\",\n      \"requestId\": \"uuid\",\n      \"oldValues\": null,\n      \"newValues\": { \"title\": \"My Project\", \"featured\": false },\n      \"changedFields\": [\"title\", \"description\"],\n      \"success\": true,\n      \"errorMessage\": null,\n      \"createdAt\": \"2024-01-15T10:30:00Z\"\n    }\n  ],\n  \"totalElements\": 100,\n  \"totalPages\": 5,\n  \"size\": 20,\n  \"number\": 0\n}\n</code></pre></p>"},{"location":"api/audit/#get-entity-history","title":"Get Entity History","text":"<pre><code>GET /api/admin/audit/entity/{entityType}/{entityId}\n</code></pre> <p>Returns complete audit history for a specific entity.</p> <p>Path Parameters:</p> Parameter Type Description <code>entityType</code> string Entity type (PROJECT, ARTICLE, etc.) <code>entityId</code> long Entity ID <p>Response: <pre><code>[\n  {\n    \"id\": 3,\n    \"action\": \"UPDATE\",\n    \"entityType\": \"PROJECT\",\n    \"entityId\": 123,\n    \"entityName\": \"My Project Updated\",\n    \"username\": \"admin\",\n    \"oldValues\": { \"title\": \"My Project\", \"featured\": false },\n    \"newValues\": { \"title\": \"My Project Updated\", \"featured\": true },\n    \"changedFields\": [\"title\", \"featured\"],\n    \"success\": true,\n    \"createdAt\": \"2024-01-16T14:00:00Z\"\n  },\n  {\n    \"id\": 1,\n    \"action\": \"CREATE\",\n    \"entityType\": \"PROJECT\",\n    \"entityId\": 123,\n    \"entityName\": \"My Project\",\n    \"username\": \"admin\",\n    \"oldValues\": null,\n    \"newValues\": { \"title\": \"My Project\" },\n    \"success\": true,\n    \"createdAt\": \"2024-01-15T10:30:00Z\"\n  }\n]\n</code></pre></p>"},{"location":"api/audit/#get-statistics","title":"Get Statistics","text":"<pre><code>GET /api/admin/audit/stats\n</code></pre> <p>Returns audit statistics for dashboard.</p> <p>Query Parameters:</p> Parameter Type Default Description <code>days</code> int 30 Number of days (1-365) <p>Response: <pre><code>{\n  \"totalLogs\": 500,\n  \"successCount\": 480,\n  \"failureCount\": 20,\n  \"actionCounts\": {\n    \"CREATE\": 150,\n    \"UPDATE\": 250,\n    \"DELETE\": 50,\n    \"LOGIN\": 40,\n    \"LOGOUT\": 10\n  },\n  \"entityTypeCounts\": {\n    \"PROJECT\": 200,\n    \"ARTICLE\": 150,\n    \"SKILL\": 100,\n    \"EXPERIENCE\": 50\n  },\n  \"dailyActivity\": [\n    { \"date\": \"2024-01-15\", \"count\": 45 },\n    { \"date\": \"2024-01-14\", \"count\": 38 }\n  ],\n  \"userActivity\": [\n    { \"username\": \"admin\", \"count\": 450 }\n  ]\n}\n</code></pre></p>"},{"location":"api/audit/#export-to-csv","title":"Export to CSV","text":"<pre><code>GET /api/admin/audit/export/csv\n</code></pre> <p>Exports audit logs to CSV format.</p> <p>Query Parameters:</p> Parameter Type Description <code>action</code> string Filter by action <code>entityType</code> string Filter by entity type <code>startDate</code> datetime Filter by start date <code>endDate</code> datetime Filter by end date <p>Response: - Content-Type: <code>text/csv; charset=UTF-8</code> - Content-Disposition: <code>attachment; filename=audit-logs.csv</code></p> <p>CSV Columns: <pre><code>timestamp,action,entityType,entityId,entityName,username,ipAddress,success,changedFields\n</code></pre></p>"},{"location":"api/audit/#export-to-json","title":"Export to JSON","text":"<pre><code>GET /api/admin/audit/export/json\n</code></pre> <p>Exports audit logs to JSON format.</p> <p>Query Parameters:</p> Parameter Type Description <code>action</code> string Filter by action <code>entityType</code> string Filter by entity type <code>startDate</code> datetime Filter by start date <code>endDate</code> datetime Filter by end date <p>Response: - Content-Type: <code>application/json</code> - Content-Disposition: <code>attachment; filename=audit-logs.json</code></p>"},{"location":"api/audit/#get-available-actions","title":"Get Available Actions","text":"<pre><code>GET /api/admin/audit/actions\n</code></pre> <p>Returns all available audit actions.</p> <p>Response: <pre><code>[\n  \"CREATE\",\n  \"UPDATE\",\n  \"DELETE\",\n  \"PUBLISH\",\n  \"UNPUBLISH\",\n  \"FEATURE\",\n  \"UNFEATURE\",\n  \"SET_CURRENT\",\n  \"LOGIN\",\n  \"LOGOUT\",\n  \"LOGIN_FAILED\",\n  \"PASSWORD_CHANGE\"\n]\n</code></pre></p>"},{"location":"api/audit/#get-available-entity-types","title":"Get Available Entity Types","text":"<pre><code>GET /api/admin/audit/entity-types\n</code></pre> <p>Returns all available entity types.</p> <p>Response: <pre><code>[\n  \"PROJECT\",\n  \"ARTICLE\",\n  \"SKILL\",\n  \"EXPERIENCE\",\n  \"TAG\",\n  \"CV\",\n  \"SITE_CONFIGURATION\",\n  \"USER\"\n]\n</code></pre></p>"},{"location":"api/audit/#data-models","title":"Data Models","text":""},{"location":"api/audit/#auditlogresponse","title":"AuditLogResponse","text":"<pre><code>{\n  \"id\": \"long\",\n  \"action\": \"string (AuditAction enum)\",\n  \"entityType\": \"string\",\n  \"entityId\": \"long (nullable)\",\n  \"entityName\": \"string (nullable)\",\n  \"username\": \"string (nullable)\",\n  \"ipAddress\": \"string (nullable)\",\n  \"userAgent\": \"string (nullable)\",\n  \"requestId\": \"string (nullable)\",\n  \"oldValues\": \"object (nullable)\",\n  \"newValues\": \"object (nullable)\",\n  \"changedFields\": \"string[] (nullable)\",\n  \"success\": \"boolean\",\n  \"errorMessage\": \"string (nullable)\",\n  \"createdAt\": \"datetime\"\n}\n</code></pre>"},{"location":"api/audit/#auditstatsresponse","title":"AuditStatsResponse","text":"<pre><code>{\n  \"totalLogs\": \"long\",\n  \"successCount\": \"long\",\n  \"failureCount\": \"long\",\n  \"actionCounts\": \"Map&lt;string, long&gt;\",\n  \"entityTypeCounts\": \"Map&lt;string, long&gt;\",\n  \"dailyActivity\": \"DailyActivity[]\",\n  \"userActivity\": \"UserActivity[]\"\n}\n</code></pre>"},{"location":"api/audit/#error-codes","title":"Error Codes","text":"Status Code Description 400 BAD_REQUEST Invalid filter parameters 401 UNAUTHORIZED Not authenticated 403 FORBIDDEN Not authorized (requires ADMIN role) 404 NOT_FOUND Entity not found"},{"location":"api/audit/#related-documentation","title":"Related Documentation","text":"<ul> <li>Audit System - Feature documentation</li> <li>Authentication - Authentication details</li> </ul>"},{"location":"api/authentication/","title":"Authentication API","text":""},{"location":"api/authentication/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Authentication Flow</li> <li>Endpoints</li> <li>3.1 Login</li> <li>3.2 Refresh Token</li> <li>3.3 Logout</li> <li>3.4 Change Password</li> <li>Token Management</li> <li>Error Handling</li> </ol>"},{"location":"api/authentication/#1-overview","title":"1. Overview","text":"<p>The Portfolio API uses JWT (JSON Web Tokens) for stateless authentication. The system provides two types of tokens:</p> <ul> <li>Access Token: Short-lived (15 minutes), used for API requests</li> <li>Refresh Token: Long-lived (7 days), used to obtain new access tokens</li> </ul> <p>Base Path: <code>/api/auth</code></p> <p>Security Features: - BCrypt password hashing - Token expiration management - Refresh token rotation - Role-based access control (RBAC)</p>"},{"location":"api/authentication/#2-authentication-flow","title":"2. Authentication Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client  \u2502                \u2502   API   \u2502                \u2502 Database \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                          \u2502                          \u2502\n     \u2502  POST /auth/login        \u2502                          \u2502\n     \u2502  (username, password)    \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502  Verify credentials      \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                          \u2502  Store refresh token     \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502  {accessToken,           \u2502                          \u2502\n     \u2502   refreshToken}          \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502  API Request             \u2502                          \u2502\n     \u2502  Authorization: Bearer   \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502  POST /auth/refresh      \u2502                          \u2502\n     \u2502  (refreshToken)          \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502  Validate &amp; rotate token \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502  {new accessToken,       \u2502                          \u2502\n     \u2502   new refreshToken}      \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502  POST /auth/logout       \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502  Invalidate token        \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502  200 OK                  \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n</code></pre>"},{"location":"api/authentication/#3-endpoints","title":"3. Endpoints","text":""},{"location":"api/authentication/#31-login","title":"3.1 Login","text":"<p>Authenticate a user and receive JWT tokens.</p> <p>Endpoint: <code>POST /api/auth/login</code></p> <p>Authentication: None (public endpoint)</p> <p>Request Body: <pre><code>{\n  \"username\": \"admin\",\n  \"password\": \"your-password\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>username</code> | string | Yes | Not blank | User's username | | <code>password</code> | string | Yes | Not blank | User's password |</p> <p>Success Response (200 OK): <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 900,\n  \"username\": \"admin\",\n  \"roles\": [\"ROLE_ADMIN\"]\n}\n</code></pre></p> <p>Response Schema: | Field | Type | Description | |-------|------|-------------| | <code>accessToken</code> | string | JWT access token (15 min validity) | | <code>refreshToken</code> | string | JWT refresh token (7 days validity) | | <code>tokenType</code> | string | Always \"Bearer\" | | <code>expiresIn</code> | number | Access token expiration in seconds (900) | | <code>username</code> | string | Authenticated user's username | | <code>roles</code> | array | User's roles (e.g., [\"ROLE_ADMIN\", \"ROLE_USER\"]) |</p> <p>Error Responses:</p> <p>Invalid Credentials (401 Unauthorized): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid username or password\",\n  \"path\": \"/api/auth/login\"\n}\n</code></pre></p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"username\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    }\n  ],\n  \"path\": \"/api/auth/login\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"admin\",\n    \"password\": \"your-password\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/auth/login', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    username: 'admin',\n    password: 'your-password'\n  })\n});\n\nconst data = await response.json();\n// Store tokens\nlocalStorage.setItem('accessToken', data.accessToken);\nlocalStorage.setItem('refreshToken', data.refreshToken);\n</code></pre></p>"},{"location":"api/authentication/#32-refresh-token","title":"3.2 Refresh Token","text":"<p>Obtain a new access token using a valid refresh token.</p> <p>Endpoint: <code>POST /api/auth/refresh</code></p> <p>Authentication: None (public endpoint, requires valid refresh token)</p> <p>Request Body: <pre><code>{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>refreshToken</code> | string | Yes | Valid refresh token from login |</p> <p>Success Response (200 OK): <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 900\n}\n</code></pre></p> <p>Response Schema: | Field | Type | Description | |-------|------|-------------| | <code>accessToken</code> | string | New JWT access token (15 min validity) | | <code>refreshToken</code> | string | New JWT refresh token (7 days validity) | | <code>tokenType</code> | string | Always \"Bearer\" | | <code>expiresIn</code> | number | Access token expiration in seconds (900) |</p> <p>Error Responses:</p> <p>Invalid Token (401 Unauthorized): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid refresh token\",\n  \"path\": \"/api/auth/refresh\"\n}\n</code></pre></p> <p>Expired Token (401 Unauthorized): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Refresh token expired\",\n  \"path\": \"/api/auth/refresh\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/refresh \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const refreshToken = localStorage.getItem('refreshToken');\n\nconst response = await fetch('http://localhost:8080/api/auth/refresh', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({ refreshToken })\n});\n\nconst data = await response.json();\n// Update stored tokens\nlocalStorage.setItem('accessToken', data.accessToken);\nlocalStorage.setItem('refreshToken', data.refreshToken);\n</code></pre></p>"},{"location":"api/authentication/#33-logout","title":"3.3 Logout","text":"<p>Invalidate a refresh token.</p> <p>Endpoint: <code>POST /api/auth/logout</code></p> <p>Authentication: Required (Bearer token)</p> <p>Request Body: <pre><code>{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>refreshToken</code> | string | Yes | Refresh token to invalidate |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Logout successful\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/auth/logout\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/logout \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const accessToken = localStorage.getItem('accessToken');\nconst refreshToken = localStorage.getItem('refreshToken');\n\nawait fetch('http://localhost:8080/api/auth/logout', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: JSON.stringify({ refreshToken })\n});\n\n// Clear local storage\nlocalStorage.removeItem('accessToken');\nlocalStorage.removeItem('refreshToken');\n</code></pre></p>"},{"location":"api/authentication/#34-change-password","title":"3.4 Change Password","text":"<p>Change the authenticated user's password.</p> <p>Endpoint: <code>POST /api/auth/change-password</code></p> <p>Authentication: Required (Bearer token)</p> <p>Request Body: <pre><code>{\n  \"currentPassword\": \"old-password\",\n  \"newPassword\": \"new-password\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>currentPassword</code> | string | Yes | Not blank | Current password | | <code>newPassword</code> | string | Yes | Min 8 chars | New password |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Password changed successfully\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Invalid Current Password (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Current password is incorrect\",\n  \"path\": \"/api/auth/change-password\"\n}\n</code></pre></p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"newPassword\",\n      \"rejectedValue\": \"short\",\n      \"message\": \"must be at least 8 characters\"\n    }\n  ],\n  \"path\": \"/api/auth/change-password\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/change-password \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"currentPassword\": \"old-password\",\n    \"newPassword\": \"new-secure-password\"\n  }'\n</code></pre></p>"},{"location":"api/authentication/#4-token-management","title":"4. Token Management","text":""},{"location":"api/authentication/#access-token","title":"Access Token","text":"<p>Validity: 15 minutes Usage: Include in <code>Authorization</code> header for all protected endpoints Format: <code>Authorization: Bearer &lt;access_token&gt;</code></p> <p>Token Structure: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"admin\",\n  \"authorities\": [\n    {\"authority\": \"ROLE_ADMIN\"}\n  ],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p>"},{"location":"api/authentication/#refresh-token","title":"Refresh Token","text":"<p>Validity: 7 days Usage: Obtain new access tokens via <code>/api/auth/refresh</code> Storage: Database (<code>refresh_tokens</code> table) with user association</p> <p>Token Structure: <pre><code>{\n  \"type\": \"refresh\",\n  \"sub\": \"admin\",\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700604800\n}\n</code></pre></p>"},{"location":"api/authentication/#token-rotation","title":"Token Rotation","text":"<p>When refreshing tokens: 1. Old refresh token is invalidated in the database 2. New refresh token is generated and stored 3. New access token is generated 4. Both tokens are returned to the client</p> <p>Best Practice: Always update both tokens in client storage after refresh.</p>"},{"location":"api/authentication/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/authentication/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Invalid credentials 401 \"Invalid username or password\" Expired access token 401 \"Token has expired\" Invalid token format 401 \"Invalid token format\" Expired refresh token 401 \"Refresh token expired\" Token not found in DB 401 \"Invalid refresh token\" Missing Authorization header 401 \"Missing or invalid Authorization header\" Wrong password (change-password) 400 \"Current password is incorrect\" Validation errors 400 \"Validation failed\" with field details"},{"location":"api/authentication/#handling-token-expiration-frontend","title":"Handling Token Expiration (Frontend)","text":"<p>Recommended Approach:</p> <pre><code>// HTTP Interceptor for automatic token refresh\nasync function fetchWithTokenRefresh(url, options = {}) {\n  const accessToken = localStorage.getItem('accessToken');\n\n  // Add access token to request\n  options.headers = {\n    ...options.headers,\n    'Authorization': `Bearer ${accessToken}`\n  };\n\n  let response = await fetch(url, options);\n\n  // If 401, try to refresh token\n  if (response.status === 401) {\n    const refreshToken = localStorage.getItem('refreshToken');\n\n    const refreshResponse = await fetch('/api/auth/refresh', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ refreshToken })\n    });\n\n    if (refreshResponse.ok) {\n      const { accessToken, refreshToken: newRefreshToken } = await refreshResponse.json();\n      localStorage.setItem('accessToken', accessToken);\n      localStorage.setItem('refreshToken', newRefreshToken);\n\n      // Retry original request\n      options.headers['Authorization'] = `Bearer ${accessToken}`;\n      response = await fetch(url, options);\n    } else {\n      // Refresh failed, redirect to login\n      window.location.href = '/login';\n    }\n  }\n\n  return response;\n}\n</code></pre>"},{"location":"api/authentication/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Security: Authentication Architecture - JWT implementation details and security considerations</li> <li>Security: RBAC - Role-based access control</li> <li>Security: Password Management - Password policies</li> </ul>"},{"location":"api/contact/","title":"Contact API","text":""},{"location":"api/contact/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 Send Contact Message</li> <li>Rate Limiting</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/contact/#1-overview","title":"1. Overview","text":"<p>The Contact API provides a public endpoint for users to send contact messages. Features built-in rate limiting to prevent spam and abuse.</p> <p>Base Path: <code>/api/contact</code></p> <p>Features: - Public endpoint (no authentication required) - Email sending functionality - IP-based rate limiting (default: 5 requests per hour) - Redis-backed rate limit tracking - Automatic cleanup after 1-hour window - Validation for all input fields</p>"},{"location":"api/contact/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/contact/#21-send-contact-message","title":"2.1 Send Contact Message","text":"<p>Send a contact form message (public endpoint with rate limiting).</p> <p>Endpoint: <code>POST /api/contact</code></p> <p>Authentication: None (public)</p> <p>Rate Limit: 5 requests per hour per IP address (configurable)</p> <p>Request Body: <pre><code>{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"subject\": \"Inquiry about your services\",\n  \"message\": \"Hello, I would like to know more about your portfolio projects and availability for freelance work.\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>name</code> | string | Yes | 2-100 chars | Sender's full name | | <code>email</code> | string | Yes | Valid email, max 100 chars | Sender's email address | | <code>subject</code> | string | Yes | 3-200 chars | Message subject line | | <code>message</code> | string | Yes | 10-5000 chars | Message body |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Your message has been sent successfully. We will get back to you soon.\",\n  \"success\": true,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"Name is required\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid-email\",\n      \"message\": \"Email must be valid\"\n    },\n    {\n      \"field\": \"subject\",\n      \"rejectedValue\": \"Hi\",\n      \"message\": \"Subject must be between 3 and 200 characters\"\n    },\n    {\n      \"field\": \"message\",\n      \"rejectedValue\": \"Short\",\n      \"message\": \"Message must be between 10 and 5000 characters\"\n    }\n  ],\n  \"path\": \"/api/contact\"\n}\n</code></pre></p> <p>Rate Limit Exceeded (429 Too Many Requests): <pre><code>{\n  \"message\": \"Rate limit exceeded. You can send maximum 5 messages per hour. Please try again later.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Email Send Failure (500 Internal Server Error): <pre><code>{\n  \"message\": \"Failed to send email. Please try again later or contact us directly.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/contact \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"subject\": \"Inquiry about your services\",\n    \"message\": \"Hello, I would like to know more about your portfolio projects.\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/contact', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    subject: 'Inquiry about your services',\n    message: 'Hello, I would like to know more about your portfolio projects.'\n  })\n});\n\nconst data = await response.json();\n\nif (response.status === 429) {\n  alert('Rate limit exceeded. Please try again later.');\n} else if (data.success) {\n  alert('Message sent successfully!');\n} else {\n  alert('Failed to send message: ' + data.message);\n}\n</code></pre></p>"},{"location":"api/contact/#3-rate-limiting","title":"3. Rate Limiting","text":""},{"location":"api/contact/#overview","title":"Overview","text":"<p>The Contact API implements IP-based rate limiting to prevent spam and abuse. Uses Redis for distributed rate limit tracking.</p>"},{"location":"api/contact/#configuration","title":"Configuration","text":"<p>Default Limits: - Maximum Requests: 5 requests per hour per IP - Window Size: 1 hour (60 minutes) - Reset: Automatic after 1 hour</p> <p>Configuration Property: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Configurable in application.yml\n</code></pre></p>"},{"location":"api/contact/#how-rate-limiting-works","title":"How Rate Limiting Works","text":"<ol> <li>IP Address Extraction: Client IP address extracted from <code>HttpServletRequest</code></li> <li>Supports X-Forwarded-For header for proxied requests</li> <li> <p>Uses RemoteAddr as fallback</p> </li> <li> <p>Redis Counter:</p> </li> <li>Key format: <code>rate_limit:contact:{ip}</code></li> <li>Value: Request count</li> <li> <p>Expiration: 1 hour from first request</p> </li> <li> <p>Request Flow:</p> </li> <li>Extract client IP address</li> <li>Increment Redis counter for IP</li> <li>Check if count exceeds limit</li> <li>If exceeded: Return 429 Too Many Requests</li> <li>If allowed: Process contact request</li> <li> <p>Set 1-hour expiration on first request</p> </li> <li> <p>Atomic Operations:</p> </li> <li>Counter increment is atomic (thread-safe)</li> <li>Expiration set only on first request (count == 1)</li> <li>Prevents race conditions in distributed environments</li> </ol>"},{"location":"api/contact/#rate-limit-headers","title":"Rate Limit Headers","text":"<p>The current implementation does not include rate limit headers in responses. Consider adding these headers for better client experience: - <code>X-RateLimit-Limit</code> - Maximum requests per hour - <code>X-RateLimit-Remaining</code> - Remaining requests in current window - <code>X-RateLimit-Reset</code> - Timestamp when the rate limit resets</p>"},{"location":"api/contact/#redis-storage","title":"Redis Storage","text":"<p>Key: <code>rate_limit:contact:{ip}</code></p> <p>Value: Request count (Long)</p> <p>TTL: 1 hour (3600 seconds)</p> <p>Example Redis entries: <pre><code>rate_limit:contact:192.168.1.100 = 3  (TTL: 2400 seconds remaining)\nrate_limit:contact:10.0.0.50 = 5      (TTL: 1800 seconds remaining)\nrate_limit:contact:172.16.0.1 = 1     (TTL: 3599 seconds remaining)\n</code></pre></p>"},{"location":"api/contact/#4-data-models","title":"4. Data Models","text":""},{"location":"api/contact/#contactrequest","title":"ContactRequest","text":"Field Type Required Constraints Description <code>name</code> string Yes 2-100 chars Sender's full name <code>email</code> string Yes Valid email format, max 100 chars Sender's email address <code>subject</code> string Yes 3-200 chars Message subject line <code>message</code> string Yes 10-5000 chars Message body <p>Validation Rules: - name: Cannot be blank, minimum 2 characters to prevent single-letter names - email: Must match valid email regex pattern (RFC 5322 compliant) - subject: Minimum 3 characters to ensure meaningful subject - message: Minimum 10 characters to prevent spam, maximum 5000 to prevent abuse</p> <p>Example ContactRequest: <pre><code>{\n  \"name\": \"Jane Smith\",\n  \"email\": \"jane.smith@example.com\",\n  \"subject\": \"Question about collaboration\",\n  \"message\": \"I came across your portfolio and I'm impressed with your work on microservices architecture. Would you be available for a consulting project?\"\n}\n</code></pre></p>"},{"location":"api/contact/#contactresponse","title":"ContactResponse","text":"Field Type Nullable Description <code>message</code> string No Response message (success or error description) <code>success</code> boolean No True if email sent successfully, false otherwise <code>timestamp</code> datetime No Response timestamp (ISO 8601 format) <p>Factory Methods: <pre><code>// Success response\nContactResponse.success(\"Your message has been sent successfully.\")\n\n// Error response\nContactResponse.error(\"Rate limit exceeded. Please try again later.\")\n</code></pre></p> <p>Example Success Response: <pre><code>{\n  \"message\": \"Your message has been sent successfully. We will get back to you soon.\",\n  \"success\": true,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Example Error Response: <pre><code>{\n  \"message\": \"Failed to send email. Please try again later.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.456\"\n}\n</code></pre></p>"},{"location":"api/contact/#5-business-rules","title":"5. Business Rules","text":""},{"location":"api/contact/#message-validation","title":"Message Validation","text":"<ol> <li>Name Requirements:</li> <li>Minimum 2 characters (prevents single-letter entries)</li> <li>Maximum 100 characters (prevents abuse)</li> <li> <p>Must not be blank or whitespace-only</p> </li> <li> <p>Email Requirements:</p> </li> <li>Must be valid email format (RFC 5322 compliant)</li> <li>Maximum 100 characters</li> <li> <p>Must not be blank</p> </li> <li> <p>Subject Requirements:</p> </li> <li>Minimum 3 characters (ensures meaningful subject)</li> <li>Maximum 200 characters</li> <li> <p>Must not be blank or whitespace-only</p> </li> <li> <p>Message Requirements:</p> </li> <li>Minimum 10 characters (prevents spam)</li> <li>Maximum 5000 characters (prevents abuse)</li> <li>Must not be blank or whitespace-only</li> </ol>"},{"location":"api/contact/#rate-limiting-rules","title":"Rate Limiting Rules","text":"<ol> <li>IP-Based Throttling:</li> <li>Each IP address has independent quota</li> <li>Quota resets automatically after 1 hour</li> <li> <p>Counter persists in Redis (survives application restarts)</p> </li> <li> <p>Default Quota:</p> </li> <li>5 requests per hour per IP address</li> <li> <p>Configurable via <code>app.rate-limit.contact.max-requests-per-hour</code></p> </li> <li> <p>Rate Limit Enforcement:</p> </li> <li>Checked before processing request</li> <li>If exceeded: 429 Too Many Requests returned immediately</li> <li> <p>If allowed: Request processed normally</p> </li> <li> <p>Window Sliding:</p> </li> <li>Fixed 1-hour window from first request</li> <li>Counter expires automatically after 1 hour</li> <li>New window starts on next request after expiration</li> </ol>"},{"location":"api/contact/#email-handling","title":"Email Handling","text":"<ol> <li>Synchronous Processing: Email sent synchronously (blocks request until complete)</li> <li>Error Handling: Email send failures return 500 Internal Server Error</li> <li>No Retry Logic: Failed sends are not retried automatically</li> <li>No Persistence: Contact messages are not stored in database (sent via email only)</li> </ol>"},{"location":"api/contact/#6-error-handling","title":"6. Error Handling","text":""},{"location":"api/contact/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Response Format Example Rate limit exceeded 429 ContactResponse <code>{\"message\": \"Rate limit exceeded...\", \"success\": false}</code> Missing required field 400 Validation Error Field-specific validation errors Invalid email format 400 Validation Error <code>\"Email must be valid\"</code> Message too short 400 Validation Error <code>\"Message must be between 10 and 5000 characters\"</code> Email send failure 500 ContactResponse <code>{\"message\": \"Failed to send email...\", \"success\": false}</code>"},{"location":"api/contact/#validation-error-response-structure","title":"Validation Error Response Structure","text":"<pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"J\",\n      \"message\": \"Name must be between 2 and 100 characters\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid\",\n      \"message\": \"Email must be valid\"\n    },\n    {\n      \"field\": \"subject\",\n      \"rejectedValue\": \"Hi\",\n      \"message\": \"Subject must be between 3 and 200 characters\"\n    },\n    {\n      \"field\": \"message\",\n      \"rejectedValue\": \"Hello\",\n      \"message\": \"Message must be between 10 and 5000 characters\"\n    }\n  ],\n  \"path\": \"/api/contact\"\n}\n</code></pre>"},{"location":"api/contact/#rate-limit-error-response","title":"Rate Limit Error Response","text":"<p>Status Code: 429 Too Many Requests</p> <p>Response Body: <pre><code>{\n  \"message\": \"Rate limit exceeded. You can send maximum 5 messages per hour. Please try again later.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Client Handling: 1. Display user-friendly error message 2. Show remaining time until reset (if available) 3. Prevent form resubmission 4. Consider implementing exponential backoff for retries</p>"},{"location":"api/contact/#email-send-failure-response","title":"Email Send Failure Response","text":"<p>Status Code: 500 Internal Server Error</p> <p>Response Body: <pre><code>{\n  \"message\": \"Failed to send email. Please try again later or contact us directly.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Possible Causes: - Email server unavailable - Network connectivity issues - Authentication failure with email provider - Invalid email configuration</p>"},{"location":"api/contact/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Features: Contact Form - Contact form feature details</li> <li>Security: Rate Limiting - Rate limiting implementation</li> <li>Reference: Configuration Properties - Configuration options</li> </ul>"},{"location":"api/cv/","title":"CV Management API","text":""},{"location":"api/cv/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 Get Current CV</li> <li>2.2 Download CV</li> <li>2.3 Upload CV</li> <li>2.4 List All CVs</li> <li>2.5 Set Current CV</li> <li>2.6 Delete CV</li> <li>Data Models</li> <li>Versioning System</li> <li>Error Handling</li> </ol>"},{"location":"api/cv/#1-overview","title":"1. Overview","text":"<p>The CV Management API provides endpoints for uploading, managing, and versioning CV/resume files.</p> <p>Base Paths: - Public: <code>/api/cv</code> - Admin: <code>/api/admin/cv</code></p> <p>Features: - CV upload with PDF validation - Version control system - Single \"current\" CV designation - User tracking (who uploaded which CV) - Public access to current CV - Admin-only upload and management</p>"},{"location":"api/cv/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/cv/#21-get-current-cv","title":"2.1 Get Current CV","text":"<p>Retrieve the currently active CV (public endpoint).</p> <p>Endpoint: <code>GET /api/cv/current</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 3,\n  \"filename\": \"cv_emmanuel_gabe_2025.pdf\",\n  \"filePath\": \"/uploads/cvs/cv_3_1700000000.pdf\",\n  \"uploadedAt\": \"2025-11-19T10:30:00\",\n  \"isCurrent\": true,\n  \"uploadedBy\": {\n    \"id\": 1,\n    \"username\": \"admin\"\n  }\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"No current CV available\",\n  \"path\": \"/api/cv/current\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/cv/current\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/cv/current');\nif (response.ok) {\n  const currentCv = await response.json();\n  console.log('Current CV:', currentCv.filename);\n} else {\n  console.log('No CV available');\n}\n</code></pre></p>"},{"location":"api/cv/#22-download-cv","title":"2.2 Download CV","text":"<p>Download a specific CV file (public endpoint).</p> <p>Endpoint: <code>GET /api/cv/download/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | CV ID to download |</p> <p>Success Response (200 OK): - Content-Type: <code>application/pdf</code> - Content-Disposition: <code>attachment; filename=\"cv_emmanuel_gabe_2025.pdf\"</code> - Body: Binary PDF file</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"CV not found with id: 999\",\n  \"path\": \"/api/cv/download/999\"\n}\n</code></pre></p> <p>File Not Found (500 Internal Server Error): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"message\": \"CV file not found on disk\",\n  \"path\": \"/api/cv/download/3\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code># Download CV\ncurl -X GET http://localhost:8080/api/cv/download/3 \\\n  --output cv_download.pdf\n\n# Download current CV (chain requests)\nCV_ID=$(curl -s http://localhost:8080/api/cv/current | jq -r '.id')\ncurl -X GET http://localhost:8080/api/cv/download/$CV_ID \\\n  --output current_cv.pdf\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>// Download CV with progress\nasync function downloadCv(cvId) {\n  const response = await fetch(`http://localhost:8080/api/cv/download/${cvId}`);\n\n  if (!response.ok) {\n    throw new Error('CV not found');\n  }\n\n  const blob = await response.blob();\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = response.headers.get('Content-Disposition')\n    ?.split('filename=')[1]\n    ?.replace(/\"/g, '') || 'cv.pdf';\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  window.URL.revokeObjectURL(url);\n}\n\n// Usage\nawait downloadCv(3);\n</code></pre></p>"},{"location":"api/cv/#23-upload-cv","title":"2.3 Upload CV","text":"<p>Upload a new CV (admin only).</p> <p>Endpoint: <code>POST /api/admin/cv/upload</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>file</code> | file | Yes | PDF file (CV/resume) |</p> <p>File Constraints: - Max Size: 10 MB - Supported MIME Type: <code>application/pdf</code> only - Validation: Magic bytes validation (checks actual file content, not extension)</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 4,\n  \"filename\": \"cv_emmanuel_gabe_2025_v2.pdf\",\n  \"filePath\": \"/uploads/cvs/cv_4_1700001000.pdf\",\n  \"uploadedAt\": \"2025-11-19T15:30:00\",\n  \"isCurrent\": false,\n  \"uploadedBy\": {\n    \"id\": 1,\n    \"username\": \"admin\"\n  }\n}\n</code></pre></p> <p>Processing Details: - File stored in <code>uploads/cvs/</code> directory - File renamed to <code>cv_{id}_{timestamp}.pdf</code> - Original filename preserved in <code>filename</code> field - <code>isCurrent</code> set to <code>false</code> by default (use \"Set Current CV\" endpoint to activate) - Upload tracked to authenticated user</p> <p>Error Responses:</p> <p>Invalid File Type (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid file type. Only PDF files are allowed\",\n  \"path\": \"/api/admin/cv/upload\"\n}\n</code></pre></p> <p>File Too Large (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File size exceeds maximum allowed size (10 MB)\",\n  \"path\": \"/api/admin/cv/upload\"\n}\n</code></pre></p> <p>No File Provided (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File is required\",\n  \"path\": \"/api/admin/cv/upload\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/cv/upload \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -F \"file=@/path/to/cv_emmanuel_gabe.pdf\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', cvFileInput.files[0]);\n\nconst response = await fetch('http://localhost:8080/api/admin/cv/upload', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: formData\n});\n\nconst uploadedCv = await response.json();\nconsole.log('CV uploaded:', uploadedCv.filename);\nconsole.log('CV ID:', uploadedCv.id);\n</code></pre></p>"},{"location":"api/cv/#24-list-all-cvs","title":"2.4 List All CVs","text":"<p>Retrieve all uploaded CVs (admin only).</p> <p>Endpoint: <code>GET /api/admin/cv/all</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 4,\n    \"filename\": \"cv_emmanuel_gabe_2025_v2.pdf\",\n    \"filePath\": \"/uploads/cvs/cv_4_1700001000.pdf\",\n    \"uploadedAt\": \"2025-11-19T15:30:00\",\n    \"isCurrent\": true,\n    \"uploadedBy\": {\n      \"id\": 1,\n      \"username\": \"admin\"\n    }\n  },\n  {\n    \"id\": 3,\n    \"filename\": \"cv_emmanuel_gabe_2025.pdf\",\n    \"filePath\": \"/uploads/cvs/cv_3_1700000000.pdf\",\n    \"uploadedAt\": \"2025-11-18T10:30:00\",\n    \"isCurrent\": false,\n    \"uploadedBy\": {\n      \"id\": 1,\n      \"username\": \"admin\"\n    }\n  },\n  {\n    \"id\": 2,\n    \"filename\": \"cv_emmanuel_gabe_2024.pdf\",\n    \"filePath\": \"/uploads/cvs/cv_2_1699000000.pdf\",\n    \"uploadedAt\": \"2025-11-01T09:00:00\",\n    \"isCurrent\": false,\n    \"uploadedBy\": {\n      \"id\": 2,\n      \"username\": \"editor\"\n    }\n  }\n]\n</code></pre></p> <p>Note: CVs are ordered by upload date (most recent first).</p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/admin/cv/all \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/cv/#25-set-current-cv","title":"2.5 Set Current CV","text":"<p>Set a specific CV as the current active CV (admin only).</p> <p>Endpoint: <code>PUT /api/admin/cv/{id}/set-current</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | CV ID to set as current |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 4,\n  \"filename\": \"cv_emmanuel_gabe_2025_v2.pdf\",\n  \"filePath\": \"/uploads/cvs/cv_4_1700001000.pdf\",\n  \"uploadedAt\": \"2025-11-19T15:30:00\",\n  \"isCurrent\": true,\n  \"uploadedBy\": {\n    \"id\": 1,\n    \"username\": \"admin\"\n  }\n}\n</code></pre></p> <p>Business Rule: Only ONE CV can be current at any time. Setting a CV as current automatically unsets all other CVs.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"CV not found with id: 999\",\n  \"path\": \"/api/admin/cv/999/set-current\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/cv/4/set-current \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p> <p>Example Workflow (JavaScript): <pre><code>// 1. Upload new CV\nconst formData = new FormData();\nformData.append('file', newCvFile);\n\nconst uploadResponse = await fetch('http://localhost:8080/api/admin/cv/upload', {\n  method: 'POST',\n  headers: { 'Authorization': `Bearer ${accessToken}` },\n  body: formData\n});\n\nconst newCv = await uploadResponse.json();\n\n// 2. Set as current\nawait fetch(`http://localhost:8080/api/admin/cv/${newCv.id}/set-current`, {\n  method: 'PUT',\n  headers: { 'Authorization': `Bearer ${accessToken}` }\n});\n\nconsole.log('New CV is now active');\n</code></pre></p>"},{"location":"api/cv/#26-delete-cv","title":"2.6 Delete CV","text":"<p>Delete a CV (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/cv/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | CV ID to delete |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"CV deleted successfully\"\n}\n</code></pre></p> <p>Business Rule: You can delete the current CV. If deleted, there will be no current CV until another is set.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"CV not found with id: 999\",\n  \"path\": \"/api/admin/cv/999\"\n}\n</code></pre></p> <p>Note: Deleting a CV: - Removes the database record - Deletes the physical PDF file from disk - If it was the current CV, there will be no current CV</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/cv/2 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/cv/#3-data-models","title":"3. Data Models","text":""},{"location":"api/cv/#cvresponse","title":"CvResponse","text":"Field Type Nullable Description <code>id</code> integer No CV ID <code>filename</code> string No Original filename (e.g., \"cv_john_doe.pdf\") <code>filePath</code> string No Server file path (e.g., \"/uploads/cvs/cv_3_1700000000.pdf\") <code>uploadedAt</code> datetime No Upload timestamp <code>isCurrent</code> boolean No Whether this is the active CV <code>uploadedBy</code> object No User who uploaded the CV"},{"location":"api/cv/#userresponse-nested-in-cvresponse","title":"UserResponse (Nested in CvResponse)","text":"Field Type Description <code>id</code> integer User ID <code>username</code> string Username"},{"location":"api/cv/#4-versioning-system","title":"4. Versioning System","text":""},{"location":"api/cv/#how-versioning-works","title":"How Versioning Works","text":"<ol> <li>Multiple CVs Allowed: You can upload multiple CV versions</li> <li>One Current CV: Only one CV can be marked as \"current\" at any time</li> <li>Automatic Deactivation: Setting a CV as current automatically deactivates all others</li> <li>Historical Tracking: All previous CVs remain accessible unless explicitly deleted</li> <li>User Tracking: Each CV tracks which admin user uploaded it</li> </ol>"},{"location":"api/cv/#typical-workflow","title":"Typical Workflow","text":"<pre><code>1. Upload CV v1 \u2192 isCurrent: false\n2. Set CV v1 as current \u2192 isCurrent: true\n3. Upload CV v2 \u2192 isCurrent: false (v1 still current)\n4. Set CV v2 as current \u2192 v2.isCurrent: true, v1.isCurrent: false\n5. Upload CV v3 \u2192 isCurrent: false (v2 still current)\n6. Delete CV v1 \u2192 Only v2 (current) and v3 remain\n</code></pre>"},{"location":"api/cv/#database-constraint","title":"Database Constraint","text":"<p>UNIQUE Constraint: Only one row can have <code>is_current = true</code></p> <pre><code>CREATE UNIQUE INDEX unique_current_cv ON cvs (is_current) WHERE is_current = true;\n</code></pre> <p>This ensures data integrity at the database level.</p>"},{"location":"api/cv/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/cv/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message CV not found 404 \"CV not found with id: {id}\" No current CV exists 404 \"No current CV available\" File not PDF 400 \"Invalid file type. Only PDF files are allowed\" File too large 400 \"File size exceeds maximum allowed size (10 MB)\" No file provided 400 \"File is required\" Physical file missing 500 \"CV file not found on disk\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/cv/#frontend-file-validation","title":"Frontend File Validation","text":"<p>Recommended Pre-Upload Validation: <pre><code>function validateCvFile(file) {\n  const errors = [];\n\n  // Check file type\n  if (file.type !== 'application/pdf') {\n    errors.push('Only PDF files are allowed');\n  }\n\n  // Check file size (10 MB = 10 * 1024 * 1024 bytes)\n  const maxSize = 10 * 1024 * 1024;\n  if (file.size &gt; maxSize) {\n    errors.push('File size must be less than 10 MB');\n  }\n\n  // Check if file exists\n  if (!file || file.size === 0) {\n    errors.push('File is required');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n\n// Usage\nconst validation = validateCvFile(fileInput.files[0]);\nif (!validation.valid) {\n  alert(validation.errors.join('\\n'));\n} else {\n  // Proceed with upload\n}\n</code></pre></p>"},{"location":"api/cv/#handling-download-errors","title":"Handling Download Errors","text":"<pre><code>async function safeDownloadCv(cvId) {\n  try {\n    const response = await fetch(`http://localhost:8080/api/cv/download/${cvId}`);\n\n    if (response.status === 404) {\n      console.error('CV not found');\n      return null;\n    }\n\n    if (response.status === 500) {\n      console.error('CV file missing on server');\n      return null;\n    }\n\n    if (!response.ok) {\n      throw new Error(`Download failed: ${response.statusText}`);\n    }\n\n    const blob = await response.blob();\n    return blob;\n  } catch (error) {\n    console.error('Download error:', error);\n    return null;\n  }\n}\n</code></pre>"},{"location":"api/cv/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Files API - Generic file upload</li> <li>Features: CV Management - CV system architecture</li> <li>Features: File Storage - File storage details</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/experiences/","title":"Experiences API","text":""},{"location":"api/experiences/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List All Experiences</li> <li>2.2 Get Experience by ID</li> <li>2.3 Create Experience</li> <li>2.4 Update Experience</li> <li>2.5 Delete Experience</li> <li>2.6 Reorder Experiences</li> <li>2.7 Get Experiences by Type</li> <li>2.8 Get Ongoing Experiences</li> <li>2.9 Get Recent Experiences</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/experiences/#1-overview","title":"1. Overview","text":"<p>The Experiences API provides endpoints for managing professional, educational, certification, and volunteering experiences. Used to build a timeline of career and educational milestones.</p> <p>Base Paths: - Public: <code>/api/experiences</code> - Admin: <code>/api/admin/experiences</code></p> <p>Features: - Full CRUD operations for experiences - Five experience types: WORK, STAGE, EDUCATION, CERTIFICATION, VOLUNTEERING - Ongoing experiences tracking (null endDate) - Manual display order with reorder endpoint - Type-based filtering - Recent experiences retrieval with configurable limit - Sorting by display order then start date descending - Public read access, admin-only write access</p>"},{"location":"api/experiences/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/experiences/#21-list-all-experiences","title":"2.1 List All Experiences","text":"<p>Retrieve all experiences ordered by display order then start date descending (public endpoint).</p> <p>Endpoint: <code>GET /api/experiences</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes. Mentoring junior developers and conducting code reviews.\",\n    \"type\": \"WORK\",\n    \"showMonths\": true,\n    \"displayOrder\": 0,\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  },\n  {\n    \"id\": 2,\n    \"company\": \"Tech University\",\n    \"role\": \"Master's Degree in Computer Science\",\n    \"startDate\": \"2020-09-01\",\n    \"endDate\": \"2022-06-30\",\n    \"description\": \"Specialized in distributed systems and cloud computing. Thesis on microservices optimization strategies.\",\n    \"type\": \"EDUCATION\",\n    \"showMonths\": true,\n    \"displayOrder\": 1,\n    \"ongoing\": false,\n    \"createdAt\": \"2025-10-15T08:20:00\",\n    \"updatedAt\": \"2025-10-15T08:20:00\"\n  },\n  {\n    \"id\": 3,\n    \"company\": null,\n    \"role\": null,\n    \"startDate\": null,\n    \"endDate\": null,\n    \"description\": \"Contributed to open-source projects and community development initiatives.\",\n    \"type\": null,\n    \"showMonths\": true,\n    \"displayOrder\": 2,\n    \"ongoing\": true,\n    \"createdAt\": \"2025-10-10T14:00:00\",\n    \"updatedAt\": \"2025-10-10T14:00:00\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/experiences\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/experiences');\nconst experiences = await response.json();\n</code></pre></p>"},{"location":"api/experiences/#22-get-experience-by-id","title":"2.2 Get Experience by ID","text":"<p>Retrieve a single experience by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/experiences/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Experience ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes. Mentoring junior developers and conducting code reviews.\",\n  \"type\": \"WORK\",\n  \"showMonths\": true,\n  \"displayOrder\": 0,\n  \"ongoing\": true,\n  \"createdAt\": \"2025-11-01T10:30:00\",\n  \"updatedAt\": \"2025-11-01T10:30:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/experiences/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/experiences/1\n</code></pre></p>"},{"location":"api/experiences/#23-create-experience","title":"2.3 Create Experience","text":"<p>Create a new experience (admin only).</p> <p>Endpoint: <code>POST /api/admin/experiences</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes.\",\n  \"type\": \"WORK\",\n  \"showMonths\": true\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>company</code> | string | No | max 200 chars | Company or organization name | | <code>role</code> | string | No | max 200 chars | Job title, degree, or certification name | | <code>startDate</code> | date | No | ISO 8601, past/present | Experience start date | | <code>endDate</code> | date | No | ISO 8601, past/present | Experience end date (null for ongoing) | | <code>description</code> | string | Yes | 10-2000 chars | Detailed description | | <code>type</code> | enum | No | See Experience Types | WORK, STAGE, EDUCATION, CERTIFICATION, VOLUNTEERING | | <code>showMonths</code> | boolean | No | Default true | Display months in date range |</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 4,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes.\",\n  \"type\": \"WORK\",\n  \"showMonths\": true,\n  \"displayOrder\": null,\n  \"ongoing\": true,\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"description\",\n      \"rejectedValue\": \"Too short\",\n      \"message\": \"Description must be between 10 and 2000 characters\"\n    },\n    {\n      \"field\": \"startDate\",\n      \"rejectedValue\": \"2030-01-01\",\n      \"message\": \"Start date cannot be in the future\"\n    }\n  ],\n  \"path\": \"/api/admin/experiences\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/experiences\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/experiences \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"showMonths\": true\n  }'\n</code></pre></p>"},{"location":"api/experiences/#24-update-experience","title":"2.4 Update Experience","text":"<p>Update an existing experience (admin only).</p> <p>Endpoint: <code>PUT /api/admin/experiences/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Experience ID to update |</p> <p>Request Body: <pre><code>{\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Lead Software Architect\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": \"2025-12-31\",\n  \"description\": \"Promoted to Lead Architect. Designing enterprise-scale systems and leading technical strategy.\",\n  \"type\": \"WORK\",\n  \"showMonths\": true\n}\n</code></pre></p> <p>Request Schema: Same as Create Experience, all fields are optional (partial updates supported).</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Lead Software Architect\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": \"2025-12-31\",\n  \"description\": \"Promoted to Lead Architect. Designing enterprise-scale systems and leading technical strategy.\",\n  \"type\": \"WORK\",\n  \"showMonths\": true,\n  \"displayOrder\": 0,\n  \"ongoing\": false,\n  \"createdAt\": \"2025-11-01T10:30:00\",\n  \"updatedAt\": \"2025-11-19T16:45:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/admin/experiences/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/experiences/1 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"role\": \"Lead Software Architect\",\n    \"description\": \"Promoted to Lead Architect.\"\n  }'\n</code></pre></p>"},{"location":"api/experiences/#25-delete-experience","title":"2.5 Delete Experience","text":"<p>Delete an experience (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/experiences/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Experience ID to delete |</p> <p>Success Response (204 No Content): No response body.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/admin/experiences/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/experiences/1 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/experiences/#26-reorder-experiences","title":"2.6 Reorder Experiences","text":"<p>Reorder experiences by providing an ordered list of IDs (admin only).</p> <p>Endpoint: <code>POST /api/admin/experiences/reorder</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"orderedIds\": [3, 1, 2, 5, 4]\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>orderedIds</code> | array | Yes | Ordered list of experience IDs |</p> <p>Success Response (204 No Content): Empty body</p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2026-01-15T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"orderedIds\",\n      \"message\": \"must not be null\"\n    }\n  ],\n  \"path\": \"/api/admin/experiences/reorder\"\n}\n</code></pre></p> <p>Experience Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2026-01-15T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/admin/experiences/reorder\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/experiences/reorder \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\"orderedIds\": [3, 1, 2, 5, 4]}'\n</code></pre></p> <p>Note: This endpoint updates the <code>displayOrder</code> field for each experience. The cache is automatically invalidated after reordering.</p>"},{"location":"api/experiences/#27-get-experiences-by-type","title":"2.7 Get Experiences by Type","text":"<p>Retrieve experiences filtered by type (public endpoint).</p> <p>Endpoint: <code>GET /api/experiences/type/{type}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>type</code> | enum | Experience type: WORK, STAGE, EDUCATION, CERTIFICATION, VOLUNTEERING |</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"showMonths\": true,\n    \"displayOrder\": 0,\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  }\n]\n</code></pre></p> <p>Error Response (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid experience type: INVALID_TYPE\",\n  \"path\": \"/api/experiences/type/INVALID_TYPE\"\n}\n</code></pre></p> <p>Example Requests (curl): <pre><code># Get all work experiences\ncurl -X GET http://localhost:8080/api/experiences/type/WORK\n\n# Get all internship experiences\ncurl -X GET http://localhost:8080/api/experiences/type/STAGE\n\n# Get all education experiences\ncurl -X GET http://localhost:8080/api/experiences/type/EDUCATION\n\n# Get all certifications\ncurl -X GET http://localhost:8080/api/experiences/type/CERTIFICATION\n\n# Get all volunteering experiences\ncurl -X GET http://localhost:8080/api/experiences/type/VOLUNTEERING\n</code></pre></p>"},{"location":"api/experiences/#28-get-ongoing-experiences","title":"2.8 Get Ongoing Experiences","text":"<p>Retrieve all ongoing experiences (where endDate is null).</p> <p>Endpoint: <code>GET /api/experiences/ongoing</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"showMonths\": true,\n    \"displayOrder\": 0,\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  },\n  {\n    \"id\": 5,\n    \"company\": \"Local Tech Community\",\n    \"role\": \"Volunteer Mentor\",\n    \"startDate\": \"2024-06-01\",\n    \"endDate\": null,\n    \"description\": \"Mentoring aspiring developers in web development and software engineering best practices.\",\n    \"type\": \"VOLUNTEERING\",\n    \"showMonths\": true,\n    \"displayOrder\": 1,\n    \"ongoing\": true,\n    \"createdAt\": \"2025-10-05T12:15:00\",\n    \"updatedAt\": \"2025-10-05T12:15:00\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/experiences/ongoing\n</code></pre></p>"},{"location":"api/experiences/#29-get-recent-experiences","title":"2.9 Get Recent Experiences","text":"<p>Retrieve the N most recent experiences ordered by start date descending. Used for displaying a summary on the home page.</p> <p>Endpoint: <code>GET /api/experiences/recent</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: | Parameter | Type | Required | Default | Description | |-----------|------|----------|---------|-------------| | <code>limit</code> | integer | No | 3 | Maximum number of experiences to return |</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"showMonths\": true,\n    \"displayOrder\": 0,\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  },\n  {\n    \"id\": 3,\n    \"company\": \"Oracle\",\n    \"role\": \"Oracle Certified Professional Java SE 17 Developer\",\n    \"startDate\": \"2023-05-10\",\n    \"endDate\": \"2023-05-10\",\n    \"description\": \"Certified in advanced Java programming concepts.\",\n    \"type\": \"CERTIFICATION\",\n    \"showMonths\": true,\n    \"displayOrder\": null,\n    \"ongoing\": false,\n    \"createdAt\": \"2025-10-10T14:00:00\",\n    \"updatedAt\": \"2025-10-10T14:00:00\"\n  }\n]\n</code></pre></p> <p>Example Requests (curl): <pre><code># Get 3 most recent experiences (default)\ncurl -X GET http://localhost:8080/api/experiences/recent\n\n# Get 5 most recent experiences\ncurl -X GET \"http://localhost:8080/api/experiences/recent?limit=5\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>// Get 3 most recent experiences for home page\nconst response = await fetch('http://localhost:8080/api/experiences/recent?limit=3');\nconst recentExperiences = await response.json();\n</code></pre></p>"},{"location":"api/experiences/#3-data-models","title":"3. Data Models","text":""},{"location":"api/experiences/#experienceresponse","title":"ExperienceResponse","text":"Field Type Nullable Description <code>id</code> integer No Experience ID <code>company</code> string Yes Company or organization name (max 200 chars) <code>role</code> string Yes Job title, degree, or certification name (max 200 chars) <code>startDate</code> date Yes Experience start date (ISO 8601 format) <code>endDate</code> date Yes Experience end date (null for ongoing) <code>description</code> string No Detailed description (10-2000 chars) <code>type</code> enum Yes Experience type (see below) <code>showMonths</code> boolean No Show months in the displayed date range <code>displayOrder</code> integer Yes Manual display order <code>ongoing</code> boolean No True if endDate is null <code>createdAt</code> datetime No Creation timestamp <code>updatedAt</code> datetime No Last update timestamp"},{"location":"api/experiences/#experience-types","title":"Experience Types","text":"Type Description Use Cases <code>WORK</code> Professional work experience Jobs, freelance projects <code>STAGE</code> Internship experience Internships, trainee positions <code>EDUCATION</code> Educational experience Degrees, diplomas, courses <code>CERTIFICATION</code> Professional certifications Technical certifications, qualifications <code>VOLUNTEERING</code> Volunteer work Community service, open source contributions"},{"location":"api/experiences/#4-business-rules","title":"4. Business Rules","text":""},{"location":"api/experiences/#experience-creation","title":"Experience Creation","text":"<ol> <li>Optional Fields: <code>company</code>, <code>role</code>, <code>startDate</code>, and <code>type</code> are optional</li> <li>Required Field: Only <code>description</code> is required (10-2000 chars)</li> <li>Date Validation: Start and end dates must be in the past or present (not future)</li> <li>Date Logic: End date cannot be before start date (validated server-side)</li> <li>Ongoing Experiences: Set <code>endDate</code> to <code>null</code> for ongoing experiences</li> <li>Show Months: Defaults to <code>true</code> if not specified</li> </ol>"},{"location":"api/experiences/#experience-sorting","title":"Experience Sorting","text":"<ol> <li>Default Order: Sorted by <code>displayOrder</code> ascending, then <code>startDate</code> descending</li> <li>Display Order: Experiences with <code>displayOrder</code> set appear first</li> <li>Null Display Order: Experiences without <code>displayOrder</code> are sorted by <code>startDate</code></li> </ol>"},{"location":"api/experiences/#partial-updates","title":"Partial Updates","text":"<ol> <li>UpdateExperienceRequest: All fields are optional</li> <li>Null Handling: Only provided fields are updated (null values ignored using MapStruct's NullValuePropertyMappingStrategy.IGNORE)</li> <li>Empty Strings: Empty strings for <code>company</code> and <code>role</code> are normalized to <code>null</code></li> <li>Date Validation: If updating dates, same validation rules apply</li> </ol>"},{"location":"api/experiences/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/experiences/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Experience not found 404 \"Experience not found with id: {id}\" Missing description 400 \"Description is required\" Invalid experience type 400 \"Invalid experience type: {type}\" Start date in future 400 \"Start date cannot be in the future\" End date in future 400 \"End date cannot be in the future\" End date before start date 400 \"End date cannot be before start date\" Description too short 400 \"Description must be between 10 and 2000 characters\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/experiences/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Skills API - Skills management</li> <li>Projects API - Projects management</li> <li>Features: Experience Management - Experience feature details</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/files/","title":"File Upload API","text":""},{"location":"api/files/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 Generic File Upload</li> <li>File Validation</li> <li>Supported File Types</li> <li>Error Handling</li> </ol>"},{"location":"api/files/#1-overview","title":"1. Overview","text":"<p>The File Upload API provides a generic endpoint for uploading files with security validation.</p> <p>Base Path: <code>/api/admin/upload</code></p> <p>Features: - Generic file upload for admin users - MIME type validation using magic bytes - File size limits - Configurable upload paths - Security-first validation</p> <p>Note: This is a generic upload endpoint. For specific use cases, prefer dedicated endpoints: - Project images: <code>POST /api/admin/projects/{id}/upload-image</code> - CV files: <code>POST /api/admin/cv/upload</code></p>"},{"location":"api/files/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/files/#21-generic-file-upload","title":"2.1 Generic File Upload","text":"<p>Upload a file to the server (admin only).</p> <p>Endpoint: <code>POST /api/admin/upload</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>file</code> | file | Yes | File to upload |</p> <p>File Constraints: - Max Size: 10 MB (configurable) - Supported MIME Types: See Supported File Types - Validation Method: Magic bytes validation (not extension-based)</p> <p>Success Response (200 OK): <pre><code>{\n  \"filename\": \"document_1700000000.pdf\",\n  \"filePath\": \"/uploads/document_1700000000.pdf\",\n  \"fileSize\": 245760,\n  \"mimeType\": \"application/pdf\",\n  \"uploadedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Response Schema: | Field | Type | Description | |-------|------|-------------| | <code>filename</code> | string | Generated filename with timestamp | | <code>filePath</code> | string | Server file path (relative to upload root) | | <code>fileSize</code> | integer | File size in bytes | | <code>mimeType</code> | string | Detected MIME type | | <code>uploadedAt</code> | datetime | Upload timestamp |</p> <p>Error Responses:</p> <p>Invalid File Type (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid file type: text/html. Supported types: PDF, JPEG, PNG, WebP\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>File Too Large (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File size exceeds maximum allowed size (10 MB)\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>No File Provided (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File is required\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/upload \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -F \"file=@/path/to/document.pdf\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nconst response = await fetch('http://localhost:8080/api/admin/upload', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: formData\n});\n\nconst uploadedFile = await response.json();\nconsole.log('File uploaded:', uploadedFile.filename);\nconsole.log('File path:', uploadedFile.filePath);\nconsole.log('File size:', uploadedFile.fileSize, 'bytes');\n</code></pre></p> <p>Example with Progress Tracking (JavaScript): <pre><code>async function uploadFileWithProgress(file, onProgress) {\n  return new Promise((resolve, reject) =&gt; {\n    const xhr = new XMLHttpRequest();\n    const formData = new FormData();\n    formData.append('file', file);\n\n    // Progress tracking\n    xhr.upload.addEventListener('progress', (e) =&gt; {\n      if (e.lengthComputable) {\n        const percentComplete = (e.loaded / e.total) * 100;\n        onProgress(percentComplete);\n      }\n    });\n\n    // Success handler\n    xhr.addEventListener('load', () =&gt; {\n      if (xhr.status === 200) {\n        resolve(JSON.parse(xhr.responseText));\n      } else {\n        reject(new Error(`Upload failed: ${xhr.statusText}`));\n      }\n    });\n\n    // Error handler\n    xhr.addEventListener('error', () =&gt; {\n      reject(new Error('Upload failed'));\n    });\n\n    // Send request\n    xhr.open('POST', 'http://localhost:8080/api/admin/upload');\n    xhr.setRequestHeader('Authorization', `Bearer ${accessToken}`);\n    xhr.send(formData);\n  });\n}\n\n// Usage\nawait uploadFileWithProgress(file, (progress) =&gt; {\n  console.log(`Upload progress: ${progress.toFixed(2)}%`);\n});\n</code></pre></p>"},{"location":"api/files/#3-file-validation","title":"3. File Validation","text":""},{"location":"api/files/#magic-bytes-validation","title":"Magic Bytes Validation","text":"<p>The API validates files using magic bytes (file signatures), not file extensions. This prevents malicious files from being disguised with fake extensions.</p> <p>Example: <pre><code>Filename: innocent.pdf\nActual content: HTML file (magic bytes: 3C 21 44 4F 43 54 59 50 45)\nResult: REJECTED (Invalid MIME type detected)\n</code></pre></p> <p>Validation Process: 1. Read first bytes of uploaded file 2. Detect actual MIME type from magic bytes 3. Compare against whitelist of allowed types 4. Reject if MIME type not allowed</p>"},{"location":"api/files/#file-size-limits","title":"File Size Limits","text":"<p>Default: 10 MB (10,485,760 bytes)</p> <p>Configuration (application.yml): <pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre></p> <p>Override for Specific Endpoints: - Project images: 10 MB - CV files: 10 MB - Generic uploads: 10 MB</p>"},{"location":"api/files/#4-supported-file-types","title":"4. Supported File Types","text":"<p>The following MIME types are supported:</p>"},{"location":"api/files/#documents","title":"Documents","text":"MIME Type File Extension Description <code>application/pdf</code> .pdf PDF documents"},{"location":"api/files/#images","title":"Images","text":"MIME Type File Extension Description <code>image/jpeg</code> .jpg, .jpeg JPEG images <code>image/png</code> .png PNG images <code>image/webp</code> .webp WebP images <p>Note: Images uploaded via generic endpoint are NOT automatically converted to WebP. For automatic WebP conversion and thumbnails, use the dedicated project image upload endpoint.</p>"},{"location":"api/files/#unsupported-types","title":"Unsupported Types","text":"<p>The following types are explicitly blocked:</p> Type Reason Executables (.exe, .bat, .sh) Security risk Scripts (.js, .py, .rb) Security risk Archives (.zip, .rar, .tar) Potential for malicious content Office files (.docx, .xlsx) Not needed for portfolio HTML files (.html, .htm) XSS risk"},{"location":"api/files/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/files/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Invalid MIME type 400 \"Invalid file type: {type}. Supported types: PDF, JPEG, PNG, WebP\" File too large 400 \"File size exceeds maximum allowed size (10 MB)\" No file provided 400 \"File is required\" Empty file 400 \"File is empty\" Malformed multipart request 400 \"Invalid multipart request\" Disk full 500 \"Failed to store file: insufficient disk space\" Permission denied 500 \"Failed to store file: permission denied\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/files/#frontend-validation","title":"Frontend Validation","text":"<p>Recommended Pre-Upload Checks: <pre><code>const ALLOWED_MIME_TYPES = [\n  'application/pdf',\n  'image/jpeg',\n  'image/png',\n  'image/webp'\n];\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10 MB\n\nfunction validateFile(file) {\n  const errors = [];\n\n  // Check if file exists\n  if (!file) {\n    errors.push('File is required');\n    return { valid: false, errors };\n  }\n\n  // Check file size\n  if (file.size === 0) {\n    errors.push('File is empty');\n  }\n\n  if (file.size &gt; MAX_FILE_SIZE) {\n    errors.push(`File size must be less than ${MAX_FILE_SIZE / 1024 / 1024} MB`);\n  }\n\n  // Check MIME type\n  if (!ALLOWED_MIME_TYPES.includes(file.type)) {\n    errors.push(`Invalid file type: ${file.type}. Allowed types: PDF, JPEG, PNG, WebP`);\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n\n// Usage\nconst validation = validateFile(fileInput.files[0]);\nif (!validation.valid) {\n  alert('Validation errors:\\n' + validation.errors.join('\\n'));\n} else {\n  // Proceed with upload\n  await uploadFile(fileInput.files[0]);\n}\n</code></pre></p>"},{"location":"api/files/#handling-upload-errors","title":"Handling Upload Errors","text":"<pre><code>async function safeUploadFile(file) {\n  // Client-side validation\n  const validation = validateFile(file);\n  if (!validation.valid) {\n    return {\n      success: false,\n      errors: validation.errors\n    };\n  }\n\n  // Upload\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await fetch('http://localhost:8080/api/admin/upload', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('accessToken')}`\n      },\n      body: formData\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      return {\n        success: false,\n        errors: [error.message]\n      };\n    }\n\n    const result = await response.json();\n    return {\n      success: true,\n      data: result\n    };\n  } catch (error) {\n    return {\n      success: false,\n      errors: ['Network error: ' + error.message]\n    };\n  }\n}\n\n// Usage\nconst result = await safeUploadFile(file);\nif (result.success) {\n  console.log('Upload successful:', result.data);\n} else {\n  console.error('Upload failed:', result.errors);\n}\n</code></pre>"},{"location":"api/files/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Projects API - Project image upload (specialized)</li> <li>CV API - CV upload (specialized)</li> <li>Features: File Storage - File storage architecture</li> <li>Features: Image Processing - Image optimization</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/graphql/","title":"GraphQL API","text":"<p>GraphQL API alternative to REST with Relay-style pagination.</p>"},{"location":"api/graphql/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoint</li> <li>Schema Types</li> <li>Queries</li> <li>Mutations</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"api/graphql/#overview","title":"Overview","text":"<p>The GraphQL API provides an alternative to REST:</p> <ul> <li>Schema-first approach</li> <li>Relay Connection pagination</li> <li>Filtering and sorting</li> <li>Full CRUD operations for admin</li> </ul> <p>Key characteristics: - Single endpoint <code>/graphql</code> - GraphiQL UI available at <code>/graphiql</code> - Authentication via JWT Bearer token - Admin mutations require ADMIN role</p>"},{"location":"api/graphql/#endpoint","title":"Endpoint","text":"<pre><code>POST /graphql\n</code></pre> <p>Headers: <pre><code>Content-Type: application/json\nAuthorization: Bearer &lt;token&gt;  (for admin mutations)\n</code></pre></p> <p>Request body: <pre><code>{\n  \"query\": \"query { ... }\",\n  \"variables\": { }\n}\n</code></pre></p>"},{"location":"api/graphql/#schema-types","title":"Schema Types","text":""},{"location":"api/graphql/#core-types","title":"Core Types","text":"Type Description <code>Project</code> Portfolio project with images and tags <code>Article</code> Blog article with content and tags <code>Skill</code> Technical skill with category <code>Experience</code> Work/education experience <code>Tag</code> Categorization tag <code>SiteConfiguration</code> Site-wide settings <code>Cv</code> CV document"},{"location":"api/graphql/#pagination-relay","title":"Pagination (Relay)","text":"Type Description <code>PageInfo</code> hasNextPage, hasPreviousPage, cursors, totals <code>ProjectConnection</code> Paginated projects with edges <code>ArticleConnection</code> Paginated articles with edges <code>ProjectEdge</code> node + cursor <code>ArticleEdge</code> node + cursor"},{"location":"api/graphql/#enums","title":"Enums","text":"Enum Values <code>SkillCategory</code> FRONTEND, BACKEND, DATABASE, DEVOPS, TOOLS <code>ExperienceType</code> WORK, EDUCATION, CERTIFICATION, VOLUNTEERING <code>IconType</code> FONT_AWESOME, CUSTOM_SVG <code>ImageStatus</code> PROCESSING, READY, FAILED <code>SortDirection</code> ASC, DESC"},{"location":"api/graphql/#queries","title":"Queries","text":""},{"location":"api/graphql/#projects","title":"Projects","text":"<pre><code># Paginated projects with filtering\nquery {\n  projects(\n    filter: { featured: true, tagIds: [1, 2] }\n    sort: { field: CREATED_AT, direction: DESC }\n    page: { page: 0, size: 10 }\n  ) {\n    edges {\n      node {\n        id\n        title\n        description\n        tags { name }\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      totalElements\n    }\n  }\n}\n\n# Single project\nquery {\n  project(id: 1) {\n    id\n    title\n    description\n    images { imageUrl }\n  }\n}\n\n# Featured projects\nquery {\n  featuredProjects {\n    id\n    title\n  }\n}\n</code></pre>"},{"location":"api/graphql/#articles","title":"Articles","text":"<pre><code># Paginated articles\nquery {\n  articles(\n    filter: { tagIds: [1] }\n    sort: { field: PUBLISHED_AT, direction: DESC }\n    page: { page: 0, size: 10 }\n  ) {\n    edges {\n      node {\n        id\n        title\n        slug\n        excerpt\n        publishedAt\n      }\n    }\n    pageInfo {\n      totalElements\n    }\n  }\n}\n\n# Article by slug\nquery {\n  articleBySlug(slug: \"my-article\") {\n    id\n    title\n    contentHtml\n    tags { name }\n  }\n}\n</code></pre>"},{"location":"api/graphql/#skills","title":"Skills","text":"<pre><code># All skills\nquery {\n  skills {\n    id\n    name\n    category\n  }\n}\n\n# Skills grouped by category\nquery {\n  skillsByCategory {\n    category\n    categoryDisplayName\n    skills {\n      id\n      name\n      icon\n    }\n  }\n}\n</code></pre>"},{"location":"api/graphql/#experiences","title":"Experiences","text":"<pre><code># Filtered experiences\nquery {\n  experiences(filter: { type: WORK }) {\n    id\n    company\n    role\n    startDate\n    endDate\n  }\n}\n\n# Experiences grouped by type\nquery {\n  experiencesByType {\n    type\n    experiences {\n      id\n      company\n      role\n    }\n  }\n}\n\n# Recent experiences\nquery {\n  recentExperiences(limit: 3) {\n    id\n    company\n    role\n  }\n}\n</code></pre>"},{"location":"api/graphql/#other-queries","title":"Other Queries","text":"<pre><code># Tags\nquery { tags { id name color } }\n\n# Site configuration\nquery { siteConfiguration { fullName email heroTitle } }\n\n# Current CV\nquery { currentCv { id fileName fileUrl } }\n\n# Search\nquery { search(query: \"spring\") { projects { title } articles { title } totalCount } }\n</code></pre>"},{"location":"api/graphql/#mutations","title":"Mutations","text":""},{"location":"api/graphql/#projects-admin","title":"Projects (Admin)","text":"<pre><code>mutation {\n  createProject(input: {\n    title: \"New Project\"\n    description: \"Description\"\n    techStack: \"Angular, Spring\"\n    tagIds: [1, 2]\n  }) {\n    id\n    title\n  }\n}\n\nmutation {\n  updateProject(id: 1, input: {\n    title: \"Updated Title\"\n    featured: true\n  }) {\n    id\n    title\n    featured\n  }\n}\n\nmutation {\n  deleteProject(id: 1)\n}\n</code></pre>"},{"location":"api/graphql/#articles-admin","title":"Articles (Admin)","text":"<pre><code>mutation {\n  createArticle(input: {\n    title: \"New Article\"\n    content: \"# Markdown content...\"\n    excerpt: \"Summary\"\n    draft: true\n    tagIds: [1]\n  }) {\n    id\n    title\n    slug\n  }\n}\n\nmutation { publishArticle(id: 1) { id draft publishedAt } }\nmutation { unpublishArticle(id: 1) { id draft } }\n</code></pre>"},{"location":"api/graphql/#contact-public","title":"Contact (Public)","text":"<pre><code>mutation {\n  sendContactMessage(input: {\n    name: \"John Doe\"\n    email: \"john@example.com\"\n    subject: \"Inquiry\"\n    message: \"Hello...\"\n  }) {\n    success\n    message\n  }\n}\n</code></pre>"},{"location":"api/graphql/#configuration","title":"Configuration","text":""},{"location":"api/graphql/#application-properties","title":"Application Properties","text":"<pre><code>spring:\n  graphql:\n    graphiql:\n      enabled: ${GRAPHQL_GRAPHIQL_ENABLED:true}\n      path: /graphiql\n    schema:\n      locations: classpath:graphql/\n      printer:\n        enabled: ${GRAPHQL_SCHEMA_PRINTER_ENABLED:true}\n      introspection:\n        enabled: ${GRAPHQL_INTROSPECTION_ENABLED:true}\n</code></pre>"},{"location":"api/graphql/#environment-configuration","title":"Environment Configuration","text":"Setting Dev Staging Prod <code>graphiql.enabled</code> <code>true</code> <code>false</code> <code>false</code> <code>schema.printer.enabled</code> <code>true</code> <code>false</code> <code>false</code> <code>schema.introspection.enabled</code> <code>true</code> <code>false</code> <code>false</code>"},{"location":"api/graphql/#environment-variables","title":"Environment Variables","text":"Variable Description Default (Dev) Default (Prod/Staging) <code>GRAPHQL_GRAPHIQL_ENABLED</code> Enable GraphiQL interactive UI <code>true</code> <code>false</code> <code>GRAPHQL_SCHEMA_PRINTER_ENABLED</code> Enable schema printer endpoint <code>true</code> <code>false</code> <code>GRAPHQL_INTROSPECTION_ENABLED</code> Enable schema introspection queries <code>true</code> <code>false</code>"},{"location":"api/graphql/#security-notes","title":"Security Notes","text":"<ul> <li>Introspection exposes the full API schema - disabled in production by default</li> <li>GraphiQL provides an interactive query interface - disabled in production</li> <li>Schema Printer outputs the SDL schema - disabled in production</li> <li>To temporarily enable in production, set the environment variable to <code>true</code></li> </ul>"},{"location":"api/graphql/#graphiql-ui","title":"GraphiQL UI","text":"<p>Available at <code>/graphiql</code> when enabled (development only). Provides: - Interactive query builder - Schema documentation - Query history - Variable editor</p>"},{"location":"api/graphql/#related-documentation","title":"Related Documentation","text":"<ul> <li>Search API - REST search endpoints</li> <li>Authentication - JWT authentication</li> </ul>"},{"location":"api/projects/","title":"Projects API","text":""},{"location":"api/projects/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List Projects</li> <li>2.2 Get Project by ID</li> <li>2.3 Create Project</li> <li>2.4 Update Project</li> <li>2.5 Delete Project</li> <li>2.6 Upload Project Image</li> <li>2.7 Delete Project Image</li> <li>2.8 Reorder Projects</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/projects/#1-overview","title":"1. Overview","text":"<p>The Projects API provides endpoints for managing portfolio projects, including CRUD operations and image management.</p> <p>Base Paths: - Public: <code>/api/projects</code> - Admin: <code>/api/admin/projects</code></p> <p>Features: - Full CRUD operations for projects - Image upload with WebP optimization - Automatic thumbnail generation (400x300px) - Many-to-many relationship with tags - Featured project flag - Public and admin access levels</p>"},{"location":"api/projects/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/projects/#21-list-projects","title":"2.1 List Projects","text":"<p>Retrieve all projects (public endpoint).</p> <p>Endpoint: <code>GET /api/projects</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Portfolio Website\",\n    \"description\": \"Full-stack portfolio application with Angular and Spring Boot\",\n    \"shortDescription\": \"Personal portfolio with admin dashboard\",\n    \"featured\": true,\n    \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n    \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n    \"githubUrl\": \"https://github.com/user/portfolio\",\n    \"liveUrl\": \"https://portfolio.example.com\",\n    \"tags\": [\n      {\n        \"id\": 1,\n        \"name\": \"Angular\",\n        \"color\": \"#DD0031\"\n      },\n      {\n        \"id\": 2,\n        \"name\": \"Spring Boot\",\n        \"color\": \"#6DB33F\"\n      }\n    ],\n    \"createdAt\": \"2025-11-15T10:30:00\",\n    \"updatedAt\": \"2025-11-19T14:20:00\"\n  },\n  {\n    \"id\": 2,\n    \"title\": \"E-Commerce Platform\",\n    \"description\": \"Online shopping platform with payment integration\",\n    \"shortDescription\": \"Full-featured e-commerce solution\",\n    \"featured\": false,\n    \"imageUrl\": null,\n    \"thumbnailUrl\": null,\n    \"githubUrl\": \"https://github.com/user/ecommerce\",\n    \"liveUrl\": null,\n    \"tags\": [\n      {\n        \"id\": 3,\n        \"name\": \"React\",\n        \"color\": \"#61DAFB\"\n      }\n    ],\n    \"createdAt\": \"2025-11-10T08:15:00\",\n    \"updatedAt\": \"2025-11-10T08:15:00\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/projects\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/projects');\nconst projects = await response.json();\n</code></pre></p>"},{"location":"api/projects/#22-get-project-by-id","title":"2.2 Get Project by ID","text":"<p>Retrieve a single project by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/projects/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"title\": \"Portfolio Website\",\n  \"description\": \"Full-stack portfolio application with Angular and Spring Boot. Features include admin dashboard, JWT authentication, CV management, and project showcase.\",\n  \"shortDescription\": \"Personal portfolio with admin dashboard\",\n  \"featured\": true,\n  \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n  \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n  \"githubUrl\": \"https://github.com/user/portfolio\",\n  \"liveUrl\": \"https://portfolio.example.com\",\n  \"tags\": [\n    {\n      \"id\": 1,\n      \"name\": \"Angular\",\n      \"color\": \"#DD0031\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Spring Boot\",\n      \"color\": \"#6DB33F\"\n    }\n  ],\n  \"createdAt\": \"2025-11-15T10:30:00\",\n  \"updatedAt\": \"2025-11-19T14:20:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/projects/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/projects/1\n</code></pre></p>"},{"location":"api/projects/#23-create-project","title":"2.3 Create Project","text":"<p>Create a new project (admin only).</p> <p>Endpoint: <code>POST /api/admin/projects</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"title\": \"New Project\",\n  \"description\": \"Detailed description of the project\",\n  \"shortDescription\": \"Brief summary\",\n  \"featured\": false,\n  \"githubUrl\": \"https://github.com/user/new-project\",\n  \"liveUrl\": \"https://new-project.example.com\",\n  \"tagIds\": [1, 2, 3]\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>title</code> | string | Yes | 1-200 chars | Project title | | <code>description</code> | string | Yes | Not blank | Full description | | <code>shortDescription</code> | string | No | Max 500 chars | Brief summary | | <code>featured</code> | boolean | No | Default: false | Featured flag | | <code>githubUrl</code> | string | No | Valid URL | GitHub repository | | <code>liveUrl</code> | string | No | Valid URL | Live demo URL | | <code>tagIds</code> | array | No | Valid tag IDs | Associated tags |</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 3,\n  \"title\": \"New Project\",\n  \"description\": \"Detailed description of the project\",\n  \"shortDescription\": \"Brief summary\",\n  \"featured\": false,\n  \"imageUrl\": null,\n  \"thumbnailUrl\": null,\n  \"githubUrl\": \"https://github.com/user/new-project\",\n  \"liveUrl\": \"https://new-project.example.com\",\n  \"tags\": [\n    {\n      \"id\": 1,\n      \"name\": \"Angular\",\n      \"color\": \"#DD0031\"\n    }\n  ],\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Tag Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/projects \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"title\": \"New Project\",\n    \"description\": \"Detailed description\",\n    \"shortDescription\": \"Brief summary\",\n    \"featured\": false,\n    \"githubUrl\": \"https://github.com/user/new-project\",\n    \"tagIds\": [1, 2]\n  }'\n</code></pre></p>"},{"location":"api/projects/#24-update-project","title":"2.4 Update Project","text":"<p>Update an existing project (admin only).</p> <p>Endpoint: <code>PUT /api/admin/projects/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID to update |</p> <p>Request Body: <pre><code>{\n  \"title\": \"Updated Project Title\",\n  \"description\": \"Updated detailed description\",\n  \"shortDescription\": \"Updated summary\",\n  \"featured\": true,\n  \"githubUrl\": \"https://github.com/user/updated-project\",\n  \"liveUrl\": \"https://updated-project.example.com\",\n  \"tagIds\": [1, 3]\n}\n</code></pre></p> <p>Request Schema: Same as Create Project</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"title\": \"Updated Project Title\",\n  \"description\": \"Updated detailed description\",\n  \"shortDescription\": \"Updated summary\",\n  \"featured\": true,\n  \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n  \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n  \"githubUrl\": \"https://github.com/user/updated-project\",\n  \"liveUrl\": \"https://updated-project.example.com\",\n  \"tags\": [\n    {\n      \"id\": 1,\n      \"name\": \"Angular\",\n      \"color\": \"#DD0031\"\n    },\n    {\n      \"id\": 3,\n      \"name\": \"React\",\n      \"color\": \"#61DAFB\"\n    }\n  ],\n  \"createdAt\": \"2025-11-15T10:30:00\",\n  \"updatedAt\": \"2025-11-19T16:45:00\"\n}\n</code></pre></p> <p>Error Responses: Same as Create Project, plus:</p> <p>Project Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/projects/1 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"title\": \"Updated Project Title\",\n    \"description\": \"Updated description\",\n    \"featured\": true,\n    \"tagIds\": [1, 3]\n  }'\n</code></pre></p>"},{"location":"api/projects/#25-delete-project","title":"2.5 Delete Project","text":"<p>Delete a project (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/projects/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID to delete |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Project deleted successfully\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999\"\n}\n</code></pre></p> <p>Note: Deleting a project also removes: - Associated project images (main image and thumbnail) - Project-tag relationships (tags themselves are NOT deleted)</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/projects/1 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/projects/#26-upload-project-image","title":"2.6 Upload Project Image","text":"<p>Upload an image for a project with automatic WebP conversion and thumbnail generation.</p> <p>Endpoint: <code>POST /api/admin/projects/{id}/upload-image</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID |</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>file</code> | file | Yes | Image file (JPEG, PNG, WebP) |</p> <p>File Constraints: - Max Size: 10 MB - Supported MIME Types: <code>image/jpeg</code>, <code>image/png</code>, <code>image/webp</code> - Validation: Magic bytes validation (not extension-based)</p> <p>Success Response (200 OK): <pre><code>{\n  \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n  \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n  \"message\": \"Image uploaded successfully\"\n}\n</code></pre></p> <p>Processing Details: - Original image converted to WebP format (quality: 0.85) - Thumbnail generated at 400x300px (quality: 0.8) - Old images automatically deleted - Files named: <code>project_{id}_{timestamp}.webp</code></p> <p>Error Responses:</p> <p>Invalid File Type (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid file type. Supported types: JPEG, PNG, WebP\",\n  \"path\": \"/api/admin/projects/1/upload-image\"\n}\n</code></pre></p> <p>File Too Large (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File size exceeds maximum allowed size (10 MB)\",\n  \"path\": \"/api/admin/projects/1/upload-image\"\n}\n</code></pre></p> <p>Project Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999/upload-image\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/projects/1/upload-image \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -F \"file=@/path/to/project-image.jpg\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nconst response = await fetch('http://localhost:8080/api/admin/projects/1/upload-image', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: formData\n});\n\nconst data = await response.json();\nconsole.log('Image URL:', data.imageUrl);\nconsole.log('Thumbnail URL:', data.thumbnailUrl);\n</code></pre></p>"},{"location":"api/projects/#27-delete-project-image","title":"2.7 Delete Project Image","text":"<p>Delete a project's image and thumbnail.</p> <p>Endpoint: <code>DELETE /api/admin/projects/{id}/delete-image</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Image deleted successfully\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999/delete-image\"\n}\n</code></pre></p> <p>Note: This endpoint: - Deletes both main image and thumbnail files from disk - Sets <code>imageUrl</code> and <code>thumbnailUrl</code> to <code>null</code> in database - Returns success even if no image exists</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/projects/1/delete-image \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/projects/#28-reorder-projects","title":"2.8 Reorder Projects","text":"<p>Reorder projects by providing an ordered list of IDs (admin only).</p> <p>Endpoint: <code>PUT /api/admin/projects/reorder</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"orderedIds\": [3, 1, 2, 5, 4]\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>orderedIds</code> | array | Yes | Ordered list of project IDs |</p> <p>Success Response (204 No Content): Empty body</p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2026-01-15T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"orderedIds\",\n      \"message\": \"must not be null\"\n    }\n  ],\n  \"path\": \"/api/admin/projects/reorder\"\n}\n</code></pre></p> <p>Project Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2026-01-15T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/reorder\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/projects/reorder \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\"orderedIds\": [3, 1, 2, 5, 4]}'\n</code></pre></p> <p>Note: This endpoint updates the <code>displayOrder</code> field for each project. The cache is automatically invalidated after reordering.</p>"},{"location":"api/projects/#3-data-models","title":"3. Data Models","text":""},{"location":"api/projects/#projectresponse","title":"ProjectResponse","text":"Field Type Nullable Description <code>id</code> integer No Project ID <code>title</code> string No Project title (max 200 chars) <code>description</code> string No Full description <code>shortDescription</code> string Yes Brief summary (max 500 chars) <code>featured</code> boolean No Featured flag (default: false) <code>imageUrl</code> string Yes Full-size image URL <code>thumbnailUrl</code> string Yes Thumbnail image URL (400x300px) <code>githubUrl</code> string Yes GitHub repository URL <code>liveUrl</code> string Yes Live demo URL <code>displayOrder</code> integer No Display order (default: 0) <code>tags</code> array No Associated tags (can be empty) <code>createdAt</code> datetime No Creation timestamp <code>updatedAt</code> datetime No Last update timestamp"},{"location":"api/projects/#tagresponse","title":"TagResponse","text":"Field Type Description <code>id</code> integer Tag ID <code>name</code> string Tag name <code>color</code> string Hex color code (e.g., \"#DD0031\")"},{"location":"api/projects/#4-business-rules","title":"4. Business Rules","text":""},{"location":"api/projects/#project-creation","title":"Project Creation","text":"<ol> <li>Title Uniqueness: Not enforced (multiple projects can have the same title)</li> <li>Tags: Tags must exist before associating with project</li> <li>Featured Flag: Multiple projects can be featured</li> <li>URLs: Optional but must be valid URLs if provided</li> <li>Images: Projects can be created without images</li> </ol>"},{"location":"api/projects/#image-management","title":"Image Management","text":"<ol> <li>One Image per Project: Uploading a new image deletes the old one</li> <li>WebP Conversion: All images converted to WebP regardless of input format</li> <li>Automatic Thumbnails: Thumbnail generated automatically on upload</li> <li>File Naming: <code>project_{id}_{timestamp}.webp</code> ensures uniqueness</li> <li>Storage Location: <code>uploads/projects/</code> directory</li> </ol>"},{"location":"api/projects/#project-deletion","title":"Project Deletion","text":"<ol> <li>Cascade: Deleting a project deletes its images from disk</li> <li>Tags: Tags are NOT deleted when project is deleted</li> <li>Relationships: Project-tag relationships are removed</li> </ol>"},{"location":"api/projects/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/projects/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Project not found 404 \"Project not found with id: {id}\" Tag not found 404 \"Tag not found with id: {id}\" Missing required field 400 Validation error with field details Invalid URL format 400 \"must be a valid URL\" Invalid image type 400 \"Invalid file type. Supported types: JPEG, PNG, WebP\" Image too large 400 \"File size exceeds maximum allowed size (10 MB)\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/projects/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"description\",\n      \"rejectedValue\": null,\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"githubUrl\",\n      \"rejectedValue\": \"not-a-url\",\n      \"message\": \"must be a valid URL\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p>"},{"location":"api/projects/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Skills API - Skills management</li> <li>Files API - Generic file upload</li> <li>Features: Image Processing - Image optimization details</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/search/","title":"Search API","text":"<p>REST API for full-text search across articles, projects, and experiences.</p>"},{"location":"api/search/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Codes</li> <li>Related Documentation</li> </ol>"},{"location":"api/search/#overview","title":"Overview","text":"<p>The Search API provides full-text search capabilities:</p> <ul> <li>Search articles by title, content, excerpt, tags</li> <li>Search projects by title, description, tech stack, tags</li> <li>Search experiences by company, role, description</li> <li>Manual reindex trigger</li> </ul> <p>Base URL: <code>/api/admin/search</code></p> <p>Authentication: Required (ADMIN role)</p>"},{"location":"api/search/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/search/#search-articles","title":"Search Articles","text":"<pre><code>GET /api/admin/search/articles?q={query}\n</code></pre> <p>Full-text search across article title, content, excerpt, and tags.</p> <p>Query Parameters:</p> Parameter Type Required Description <code>q</code> string Yes Search query (2-100 characters) <p>Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Getting Started with Spring Boot\",\n    \"slug\": \"getting-started-with-spring-boot\",\n    \"excerpt\": \"A comprehensive guide...\",\n    \"draft\": false,\n    \"publishedAt\": \"2024-01-15T10:00:00Z\",\n    \"tags\": [\"java\", \"spring\"]\n  }\n]\n</code></pre></p>"},{"location":"api/search/#search-projects","title":"Search Projects","text":"<pre><code>GET /api/admin/search/projects?q={query}\n</code></pre> <p>Full-text search across project title, description, tech stack, and tags.</p> <p>Query Parameters:</p> Parameter Type Required Description <code>q</code> string Yes Search query (2-100 characters) <p>Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Portfolio Application\",\n    \"description\": \"Full-stack web application...\",\n    \"techStack\": \"Angular, Spring Boot, PostgreSQL\",\n    \"featured\": true,\n    \"tags\": [\"angular\", \"spring-boot\"]\n  }\n]\n</code></pre></p>"},{"location":"api/search/#search-experiences","title":"Search Experiences","text":"<pre><code>GET /api/admin/search/experiences?q={query}\n</code></pre> <p>Full-text search across experience company, role, and description.</p> <p>Query Parameters:</p> Parameter Type Required Description <code>q</code> string Yes Search query (2-100 characters) <p>Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Tech Company\",\n    \"role\": \"Senior Developer\",\n    \"type\": \"WORK\",\n    \"startDate\": \"2022-01-01\",\n    \"endDate\": null\n  }\n]\n</code></pre></p>"},{"location":"api/search/#rebuild-indices","title":"Rebuild Indices","text":"<pre><code>POST /api/admin/search/reindex\n</code></pre> <p>Rebuilds all search indices from database. Use when indices are out of sync.</p> <p>Response: <pre><code>{\n  \"totalIndexed\": 150,\n  \"message\": \"Reindex completed successfully\"\n}\n</code></pre></p>"},{"location":"api/search/#data-models","title":"Data Models","text":""},{"location":"api/search/#articlesearchresult","title":"ArticleSearchResult","text":"<pre><code>{\n  \"id\": \"long\",\n  \"title\": \"string\",\n  \"slug\": \"string\",\n  \"excerpt\": \"string (nullable)\",\n  \"draft\": \"boolean\",\n  \"publishedAt\": \"datetime (nullable)\",\n  \"tags\": \"string[]\"\n}\n</code></pre>"},{"location":"api/search/#projectsearchresult","title":"ProjectSearchResult","text":"<pre><code>{\n  \"id\": \"long\",\n  \"title\": \"string\",\n  \"description\": \"string\",\n  \"techStack\": \"string (nullable)\",\n  \"featured\": \"boolean\",\n  \"tags\": \"string[]\"\n}\n</code></pre>"},{"location":"api/search/#experiencesearchresult","title":"ExperienceSearchResult","text":"<pre><code>{\n  \"id\": \"long\",\n  \"company\": \"string\",\n  \"role\": \"string\",\n  \"type\": \"string (WORK|EDUCATION|CERTIFICATION|VOLUNTEERING)\",\n  \"startDate\": \"date\",\n  \"endDate\": \"date (nullable)\"\n}\n</code></pre>"},{"location":"api/search/#error-codes","title":"Error Codes","text":"Status Code Description 400 BAD_REQUEST Query too short or too long 401 UNAUTHORIZED Not authenticated 403 FORBIDDEN Not authorized (requires ADMIN role)"},{"location":"api/search/#related-documentation","title":"Related Documentation","text":"<ul> <li>Full-Text Search - Feature documentation</li> <li>GraphQL API - GraphQL search query</li> </ul>"},{"location":"api/site-configuration/","title":"Site Configuration API","text":"<p>REST API endpoints for managing site-wide configuration including identity, hero section, SEO metadata, and social links.</p>"},{"location":"api/site-configuration/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Public Endpoints</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Handling</li> </ul>"},{"location":"api/site-configuration/#overview","title":"Overview","text":"<p>The Site Configuration API manages all configurable site settings:</p> <ul> <li>Personal Identity: Full name and email</li> <li>Hero Section: Landing page title and description</li> <li>SEO Metadata: Site title and meta description</li> <li>Social Links: GitHub and LinkedIn URLs</li> <li>Profile Image: Profile photo upload and management</li> </ul> <p>Base URLs: - Public: <code>/api/configuration</code> - Admin: <code>/api/admin/configuration</code></p> <p>Authentication: - Public endpoints: No authentication required - Admin endpoints: JWT Bearer token with ADMIN role</p>"},{"location":"api/site-configuration/#public-endpoints","title":"Public Endpoints","text":""},{"location":"api/site-configuration/#get-site-configuration","title":"Get Site Configuration","text":"<p>Retrieves the current site configuration for public display.</p> <pre><code>GET /api/configuration\n</code></pre> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes et performantes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe, developpeur backend specialise en Java et Spring Boot.\",\n  \"profileImageUrl\": \"/uploads/profile/profile.webp\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\",\n  \"createdAt\": \"2024-01-15T10:30:00\",\n  \"updatedAt\": \"2024-06-20T14:45:00\"\n}\n</code></pre> <p>cURL Example:</p> <pre><code>curl -X GET http://localhost:8080/api/configuration\n</code></pre> <p>JavaScript Example:</p> <pre><code>const response = await fetch('/api/configuration');\nconst config = await response.json();\n</code></pre>"},{"location":"api/site-configuration/#admin-endpoints","title":"Admin Endpoints","text":"<p>All admin endpoints require authentication with JWT Bearer token.</p>"},{"location":"api/site-configuration/#get-site-configuration-admin","title":"Get Site Configuration (Admin)","text":"<p>Retrieves the site configuration for admin editing.</p> <pre><code>GET /api/admin/configuration\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\n</code></pre></p> <p>Response: <code>200 OK</code></p> <p>Returns the same structure as the public endpoint.</p>"},{"location":"api/site-configuration/#update-site-configuration","title":"Update Site Configuration","text":"<p>Updates the site configuration fields.</p> <pre><code>PUT /api/admin/configuration\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\nContent-Type: application/json\n</code></pre></p> <p>Request Body:</p> <pre><code>{\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes et performantes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe, developpeur backend.\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\"\n}\n</code></pre> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes et performantes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe, developpeur backend.\",\n  \"profileImageUrl\": \"/uploads/profile/profile.webp\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\",\n  \"createdAt\": \"2024-01-15T10:30:00\",\n  \"updatedAt\": \"2024-06-20T15:00:00\"\n}\n</code></pre> <p>cURL Example:</p> <pre><code>curl -X PUT http://localhost:8080/api/admin/configuration \\\n  -H \"Authorization: Bearer &lt;jwt_token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"fullName\": \"Emmanuel Gabe\",\n    \"email\": \"contact@emmanuelgabe.com\",\n    \"heroTitle\": \"Developpeur Backend\",\n    \"heroDescription\": \"Je cree des applications web modernes.\",\n    \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n    \"seoDescription\": \"Portfolio de Emmanuel Gabe.\",\n    \"githubUrl\": \"https://github.com/emmanuelgabe\",\n    \"linkedinUrl\": \"https://linkedin.com/in/egabe\"\n  }'\n</code></pre>"},{"location":"api/site-configuration/#upload-profile-image","title":"Upload Profile Image","text":"<p>Uploads or replaces the profile image. Images are automatically converted to WebP format.</p> <pre><code>POST /api/admin/configuration/profile-image\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\nContent-Type: multipart/form-data\n</code></pre></p> <p>Request Body: - <code>file</code>: Image file (JPEG, PNG, GIF, WebP)</p> <p>Constraints: - Maximum file size: 5MB - Allowed formats: JPEG, PNG, GIF, WebP - Output format: WebP (automatic conversion)</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe.\",\n  \"profileImageUrl\": \"/uploads/profile/profile.webp\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\",\n  \"createdAt\": \"2024-01-15T10:30:00\",\n  \"updatedAt\": \"2024-06-20T15:10:00\"\n}\n</code></pre> <p>cURL Example:</p> <pre><code>curl -X POST http://localhost:8080/api/admin/configuration/profile-image \\\n  -H \"Authorization: Bearer &lt;jwt_token&gt;\" \\\n  -F \"file=@/path/to/profile.jpg\"\n</code></pre>"},{"location":"api/site-configuration/#delete-profile-image","title":"Delete Profile Image","text":"<p>Removes the current profile image.</p> <pre><code>DELETE /api/admin/configuration/profile-image\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\n</code></pre></p> <p>Response: <code>200 OK</code></p> <p>Returns the updated configuration with <code>profileImageUrl</code> set to <code>null</code>.</p> <p>cURL Example:</p> <pre><code>curl -X DELETE http://localhost:8080/api/admin/configuration/profile-image \\\n  -H \"Authorization: Bearer &lt;jwt_token&gt;\"\n</code></pre>"},{"location":"api/site-configuration/#data-models","title":"Data Models","text":""},{"location":"api/site-configuration/#siteconfigurationresponse","title":"SiteConfigurationResponse","text":"<p>Response model for site configuration.</p> Field Type Description <code>id</code> Long Configuration ID (always 1) <code>fullName</code> String Full name displayed on site <code>email</code> String Contact email address <code>heroTitle</code> String Hero section title <code>heroDescription</code> String Hero section description <code>siteTitle</code> String Browser tab title <code>seoDescription</code> String Meta description for SEO <code>profileImageUrl</code> String Profile image URL (nullable) <code>githubUrl</code> String GitHub profile URL <code>linkedinUrl</code> String LinkedIn profile URL <code>createdAt</code> String ISO 8601 creation timestamp <code>updatedAt</code> String ISO 8601 last update timestamp"},{"location":"api/site-configuration/#updatesiteconfigurationrequest","title":"UpdateSiteConfigurationRequest","text":"<p>Request model for updating site configuration.</p> Field Type Required Validation <code>fullName</code> String Yes 2-100 characters <code>email</code> String Yes Valid email, max 255 characters <code>heroTitle</code> String Yes 3-200 characters <code>heroDescription</code> String Yes 10-1000 characters <code>siteTitle</code> String Yes 3-100 characters <code>seoDescription</code> String Yes 10-300 characters <code>githubUrl</code> String Yes Valid URL, max 500 characters <code>linkedinUrl</code> String Yes Valid URL, max 500 characters"},{"location":"api/site-configuration/#error-handling","title":"Error Handling","text":""},{"location":"api/site-configuration/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  \"error\": \"Error code\",\n  \"message\": \"Human-readable error message\",\n  \"timestamp\": \"2024-06-20T15:00:00\"\n}\n</code></pre>"},{"location":"api/site-configuration/#error-codes","title":"Error Codes","text":"Code HTTP Status Description <code>CONFIG_001</code> 404 Site configuration not found <code>CONFIG_002</code> 400 Invalid configuration data <code>CONFIG_003</code> 400 Profile image upload failed <code>VALIDATION_ERROR</code> 400 Request validation failed <code>UNAUTHORIZED</code> 401 Missing or invalid JWT token <code>FORBIDDEN</code> 403 Insufficient permissions"},{"location":"api/site-configuration/#validation-errors","title":"Validation Errors","text":"<p>When validation fails, the response includes field-specific errors:</p> <pre><code>{\n  \"error\": \"VALIDATION_ERROR\",\n  \"message\": \"Validation failed\",\n  \"errors\": {\n    \"fullName\": \"Full name must be between 2 and 100 characters\",\n    \"email\": \"Email must be valid\"\n  },\n  \"timestamp\": \"2024-06-20T15:00:00\"\n}\n</code></pre>"},{"location":"api/site-configuration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Site Configuration Feature - Architecture and implementation details</li> <li>Image Processing - WebP conversion and optimization</li> <li>Authentication API - JWT token management</li> </ul>"},{"location":"api/skills/","title":"Skills API","text":""},{"location":"api/skills/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List Skills</li> <li>2.2 Get Skill by ID</li> <li>2.3 Create Skill</li> <li>2.4 Update Skill</li> <li>2.5 Delete Skill</li> <li>2.6 Reorder Skills</li> <li>Data Models</li> <li>Skill Categories</li> <li>Error Handling</li> </ol>"},{"location":"api/skills/#1-overview","title":"1. Overview","text":"<p>The Skills API provides endpoints for managing technical skills with categorization.</p> <p>Base Paths: - Public: <code>/api/skills</code> - Admin: <code>/api/admin/skills</code></p> <p>Features: - Full CRUD operations for skills - Categorization system (PROGRAMMING, FRAMEWORK, DATABASE, etc.) - Public and admin access levels - Predefined skill categories</p>"},{"location":"api/skills/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/skills/#21-list-skills","title":"2.1 List Skills","text":"<p>Retrieve all skills (public endpoint).</p> <p>Endpoint: <code>GET /api/skills</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Java\",\n    \"category\": \"PROGRAMMING\",\n    \"createdAt\": \"2025-11-10T10:00:00\",\n    \"updatedAt\": \"2025-11-10T10:00:00\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Spring Boot\",\n    \"category\": \"FRAMEWORK\",\n    \"createdAt\": \"2025-11-10T10:05:00\",\n    \"updatedAt\": \"2025-11-10T10:05:00\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"PostgreSQL\",\n    \"category\": \"DATABASE\",\n    \"createdAt\": \"2025-11-10T10:10:00\",\n    \"updatedAt\": \"2025-11-10T10:10:00\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"Docker\",\n    \"category\": \"TOOL\",\n    \"createdAt\": \"2025-11-10T10:15:00\",\n    \"updatedAt\": \"2025-11-10T10:15:00\"\n  }\n]\n</code></pre></p> <p>Note: Skills are typically grouped by category in the frontend.</p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/skills\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/skills');\nconst skills = await response.json();\n\n// Group by category\nconst groupedSkills = skills.reduce((acc, skill) =&gt; {\n  if (!acc[skill.category]) acc[skill.category] = [];\n  acc[skill.category].push(skill);\n  return acc;\n}, {});\n</code></pre></p>"},{"location":"api/skills/#22-get-skill-by-id","title":"2.2 Get Skill by ID","text":"<p>Retrieve a single skill by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/skills/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Skill ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"name\": \"Java\",\n  \"category\": \"PROGRAMMING\",\n  \"createdAt\": \"2025-11-10T10:00:00\",\n  \"updatedAt\": \"2025-11-10T10:00:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/skills/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/skills/1\n</code></pre></p>"},{"location":"api/skills/#23-create-skill","title":"2.3 Create Skill","text":"<p>Create a new skill (admin only).</p> <p>Endpoint: <code>POST /api/admin/skills</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"name\": \"TypeScript\",\n  \"category\": \"PROGRAMMING\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>name</code> | string | Yes | 1-100 chars, not blank | Skill name | | <code>category</code> | string | Yes | Valid category enum | Skill category |</p> <p>Valid Categories: See Skill Categories section.</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 15,\n  \"name\": \"TypeScript\",\n  \"category\": \"PROGRAMMING\",\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    }\n  ],\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p> <p>Invalid Category (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid category: INVALID_CATEGORY. Valid categories: PROGRAMMING, FRAMEWORK, DATABASE, TOOL, LANGUAGE, CLOUD, DEVOPS, METHODOLOGY, TESTING\",\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/skills \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"TypeScript\",\n    \"category\": \"PROGRAMMING\"\n  }'\n</code></pre></p>"},{"location":"api/skills/#24-update-skill","title":"2.4 Update Skill","text":"<p>Update an existing skill (admin only).</p> <p>Endpoint: <code>PUT /api/admin/skills/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Skill ID to update |</p> <p>Request Body: <pre><code>{\n  \"name\": \"TypeScript 5\",\n  \"category\": \"PROGRAMMING\"\n}\n</code></pre></p> <p>Request Schema: Same as Create Skill</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 15,\n  \"name\": \"TypeScript 5\",\n  \"category\": \"PROGRAMMING\",\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T16:45:00\"\n}\n</code></pre></p> <p>Error Responses: Same as Create Skill, plus:</p> <p>Skill Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/admin/skills/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/skills/15 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"TypeScript 5\",\n    \"category\": \"PROGRAMMING\"\n  }'\n</code></pre></p>"},{"location":"api/skills/#25-delete-skill","title":"2.5 Delete Skill","text":"<p>Delete a skill (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/skills/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Skill ID to delete |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Skill deleted successfully\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/admin/skills/999\"\n}\n</code></pre></p> <p>Note: Deleting a skill does NOT affect projects or other entities. Skills are standalone entities.</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/skills/15 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/skills/#26-reorder-skills","title":"2.6 Reorder Skills","text":"<p>Reorder skills by providing an ordered list of IDs (admin only).</p> <p>Endpoint: <code>PUT /api/admin/skills/reorder</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"orderedIds\": [3, 1, 2, 5, 4]\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>orderedIds</code> | array | Yes | Ordered list of skill IDs |</p> <p>Success Response (204 No Content): Empty body</p> <p>Error Responses:</p> <p>Skill Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2026-01-15T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/admin/skills/reorder\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/skills/reorder \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\"orderedIds\": [3, 1, 2, 5, 4]}'\n</code></pre></p> <p>Note: This endpoint updates the <code>displayOrder</code> field for each skill. The cache is automatically invalidated after reordering.</p>"},{"location":"api/skills/#3-data-models","title":"3. Data Models","text":""},{"location":"api/skills/#skillresponse","title":"SkillResponse","text":"Field Type Nullable Description <code>id</code> integer No Skill ID <code>name</code> string No Skill name (max 100 chars) <code>category</code> string No Skill category (enum) <code>displayOrder</code> integer No Display order (default: 0) <code>createdAt</code> datetime No Creation timestamp <code>updatedAt</code> datetime No Last update timestamp"},{"location":"api/skills/#createskillrequest-updateskillrequest","title":"CreateSkillRequest / UpdateSkillRequest","text":"Field Type Required Constraints Description <code>name</code> string Yes 1-100 chars, not blank Skill name <code>category</code> string Yes Valid category enum Skill category"},{"location":"api/skills/#4-skill-categories","title":"4. Skill Categories","text":"<p>The system supports the following predefined categories:</p> Category Description Examples <code>PROGRAMMING</code> Programming languages Java, Python, TypeScript, JavaScript, C++, Go <code>FRAMEWORK</code> Frameworks and libraries Spring Boot, Angular, React, Vue.js, Django <code>DATABASE</code> Database systems PostgreSQL, MySQL, MongoDB, Redis, Oracle <code>TOOL</code> Development tools Docker, Git, Maven, Gradle, npm, IntelliJ <code>LANGUAGE</code> Human languages English, French, Spanish, German <code>CLOUD</code> Cloud platforms AWS, Azure, Google Cloud, Heroku <code>DEVOPS</code> DevOps tools and practices Kubernetes, Jenkins, GitLab CI, Ansible <code>METHODOLOGY</code> Development methodologies Agile, Scrum, TDD, DDD, Clean Architecture <code>TESTING</code> Testing tools and frameworks JUnit, Jasmine, Karma, Selenium, Postman <p>Example Category Usage: <pre><code>{\n  \"name\": \"Spring Boot\",\n  \"category\": \"FRAMEWORK\"\n}\n</code></pre></p> <p>Invalid Category Example: <pre><code>{\n  \"name\": \"Invalid Skill\",\n  \"category\": \"INVALID_CATEGORY\"\n}\n</code></pre> Response: <code>400 Bad Request</code> with error message listing valid categories.</p>"},{"location":"api/skills/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/skills/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Skill not found 404 \"Skill not found with id: {id}\" Missing required field 400 Validation error with field details Invalid category 400 \"Invalid category: {category}. Valid categories: ...\" Name too long 400 \"size must be between 0 and 100\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/skills/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"category\",\n      \"rejectedValue\": null,\n      \"message\": \"must not be null\"\n    }\n  ],\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p>"},{"location":"api/skills/#frontend-category-validation","title":"Frontend Category Validation","text":"<p>Recommended Approach: <pre><code>const VALID_CATEGORIES = [\n  'PROGRAMMING',\n  'FRAMEWORK',\n  'DATABASE',\n  'TOOL',\n  'LANGUAGE',\n  'CLOUD',\n  'DEVOPS',\n  'METHODOLOGY',\n  'TESTING'\n];\n\nfunction validateSkillCategory(category) {\n  return VALID_CATEGORIES.includes(category);\n}\n\n// Usage\nconst skill = {\n  name: 'Spring Boot',\n  category: 'FRAMEWORK'\n};\n\nif (!validateSkillCategory(skill.category)) {\n  throw new Error(`Invalid category: ${skill.category}`);\n}\n</code></pre></p>"},{"location":"api/skills/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Projects API - Projects management</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/tags/","title":"Tags API","text":""},{"location":"api/tags/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List All Tags</li> <li>2.2 Get Tag by ID</li> <li>2.3 Create Tag</li> <li>2.4 Update Tag</li> <li>2.5 Delete Tag</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/tags/#1-overview","title":"1. Overview","text":"<p>The Tags API provides endpoints for managing tags used to categorize articles and projects. Tags enable content organization and filtering across the portfolio.</p> <p>Base Paths: - Public: <code>/api/tags</code> - Admin: <code>/api/tags/admin</code></p> <p>Features: - Full CRUD operations for tags - Unique tag names (case-sensitive) - Hex color code validation - Many-to-many relationships with articles and projects - Public read access, admin-only write access</p>"},{"location":"api/tags/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/tags/#21-list-all-tags","title":"2.1 List All Tags","text":"<p>Retrieve all tags (public endpoint).</p> <p>Endpoint: <code>GET /api/tags</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Angular\",\n    \"color\": \"#DD0031\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Spring Boot\",\n    \"color\": \"#6DB33F\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Java\",\n    \"color\": \"#007396\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"TypeScript\",\n    \"color\": \"#3178C6\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/tags\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/tags');\nconst tags = await response.json();\n</code></pre></p>"},{"location":"api/tags/#22-get-tag-by-id","title":"2.2 Get Tag by ID","text":"<p>Retrieve a single tag by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/tags/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Tag ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"name\": \"Angular\",\n  \"color\": \"#DD0031\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/tags/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/tags/1\n</code></pre></p>"},{"location":"api/tags/#23-create-tag","title":"2.3 Create Tag","text":"<p>Create a new tag (admin only).</p> <p>Endpoint: <code>POST /api/tags/admin</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"name\": \"React\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>name</code> | string | Yes | 2-50 chars, unique | Tag name (case-sensitive) | | <code>color</code> | string | Yes | Hex color code | Color in format #RGB or #RRGGBB |</p> <p>Color Format: - Must start with <code>#</code> - Supports 3-digit shorthand: <code>#RGB</code> (e.g., <code>#F00</code>) - Supports 6-digit full format: <code>#RRGGBB</code> (e.g., <code>#FF0000</code>) - Accepts uppercase and lowercase hex digits (A-F, a-f)</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 5,\n  \"name\": \"React\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"Tag name is required\"\n    },\n    {\n      \"field\": \"color\",\n      \"rejectedValue\": \"red\",\n      \"message\": \"Color must be a valid hex color code (e.g., #FF5733)\"\n    }\n  ],\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Duplicate Tag Name (409 Conflict): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 409,\n  \"error\": \"Conflict\",\n  \"message\": \"Tag with name 'Angular' already exists\",\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/tags/admin \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"React\",\n    \"color\": \"#61DAFB\"\n  }'\n</code></pre></p>"},{"location":"api/tags/#24-update-tag","title":"2.4 Update Tag","text":"<p>Update an existing tag (admin only).</p> <p>Endpoint: <code>PUT /api/tags/admin/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Tag ID to update |</p> <p>Request Body: <pre><code>{\n  \"name\": \"React.js\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Request Schema: Same as Create Tag, but all fields are optional (partial updates supported).</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 5,\n  \"name\": \"React.js\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Tag Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/tags/admin/999\"\n}\n</code></pre></p> <p>Duplicate Tag Name (409 Conflict): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 409,\n  \"error\": \"Conflict\",\n  \"message\": \"Tag with name 'Angular' already exists\",\n  \"path\": \"/api/tags/admin/5\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/tags/admin/5 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"React.js\"\n  }'\n</code></pre></p>"},{"location":"api/tags/#25-delete-tag","title":"2.5 Delete Tag","text":"<p>Delete a tag (admin only).</p> <p>Endpoint: <code>DELETE /api/tags/admin/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Tag ID to delete |</p> <p>Success Response (204 No Content): No response body.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/tags/admin/999\"\n}\n</code></pre></p> <p>Note: Deleting a tag: - Removes the tag from all associated articles and projects - Does NOT delete the articles or projects themselves - Updates the many-to-many relationship tables automatically</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/tags/admin/5 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/tags/#3-data-models","title":"3. Data Models","text":""},{"location":"api/tags/#tagresponse","title":"TagResponse","text":"Field Type Nullable Description <code>id</code> integer No Tag ID <code>name</code> string No Tag name (2-50 chars, unique) <code>color</code> string No Hex color code (#RGB or #RRGGBB) <p>Example TagResponse: <pre><code>{\n  \"id\": 1,\n  \"name\": \"Angular\",\n  \"color\": \"#DD0031\"\n}\n</code></pre></p>"},{"location":"api/tags/#4-business-rules","title":"4. Business Rules","text":""},{"location":"api/tags/#tag-creation","title":"Tag Creation","text":"<ol> <li>Unique Names: Tag names must be unique (case-sensitive)</li> <li>\"Angular\" and \"angular\" are considered different tags</li> <li> <p>Duplicate check enforced at database level (unique constraint)</p> </li> <li> <p>Color Validation: Colors must be valid hex codes</p> </li> <li>Valid: <code>#FF0000</code>, <code>#F00</code>, <code>#61DAFB</code>, <code>#6DB33F</code></li> <li> <p>Invalid: <code>red</code>, <code>#GGGGGG</code>, <code>FF0000</code> (missing #), <code>#12345</code> (wrong length)</p> </li> <li> <p>Name Length: Tag names must be meaningful (2-50 characters)</p> </li> <li>Minimum 2 characters prevents single-letter tags</li> <li>Maximum 50 characters ensures UI compatibility</li> </ol>"},{"location":"api/tags/#tag-relationships","title":"Tag Relationships","text":"<ol> <li>Many-to-Many with Projects: A tag can be associated with multiple projects, and a project can have multiple tags</li> <li>Many-to-Many with Articles: A tag can be associated with multiple articles, and an article can have multiple tags</li> <li>Cascade Delete: Deleting a tag removes the associations but not the related entities</li> </ol>"},{"location":"api/tags/#partial-updates","title":"Partial Updates","text":"<ol> <li>UpdateTagRequest: All fields are optional</li> <li>Null Handling: Only provided fields are updated (null values ignored using MapStruct's NullValuePropertyMappingStrategy.IGNORE)</li> <li>Uniqueness Check: When updating name, must still be unique (excluding the current tag)</li> </ol>"},{"location":"api/tags/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/tags/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Tag not found 404 \"Tag not found with id: {id}\" Missing required field 400 Field-specific validation message Duplicate tag name 409 \"Tag with name '{name}' already exists\" Invalid hex color 400 \"Color must be a valid hex color code (e.g., #FF5733)\" Name too short 400 \"Tag name must be between 2 and 50 characters\" Name too long 400 \"Tag name must be between 2 and 50 characters\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/tags/#hex-color-validation","title":"Hex Color Validation","text":"<p>Valid hex color formats: <pre><code>#RGB     - 3-digit shorthand (e.g., #F00 for red)\n#RRGGBB  - 6-digit full format (e.g., #FF0000 for red)\n</code></pre></p> <p>Examples of valid colors: - <code>#F00</code> \u2192 Red (shorthand) - <code>#FF0000</code> \u2192 Red (full) - <code>#61DAFB</code> \u2192 Light blue - <code>#6DB33F</code> \u2192 Green - <code>#DD0031</code> \u2192 Red</p> <p>Examples of invalid colors: - <code>red</code> \u2192 Not hex format - <code>#GGGGGG</code> \u2192 Invalid hex digits - <code>FF0000</code> \u2192 Missing # prefix - <code>#12345</code> \u2192 Wrong length (5 digits) - <code>#1234567</code> \u2192 Wrong length (7 digits)</p>"},{"location":"api/tags/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"A\",\n      \"message\": \"Tag name must be between 2 and 50 characters\"\n    },\n    {\n      \"field\": \"color\",\n      \"rejectedValue\": \"blue\",\n      \"message\": \"Color must be a valid hex color code (e.g., #FF5733)\"\n    }\n  ],\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p>"},{"location":"api/tags/#handling-duplicate-tag-names","title":"Handling Duplicate Tag Names","text":"<p>When attempting to create or update a tag with a name that already exists:</p> <p>Error Response (409 Conflict): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 409,\n  \"error\": \"Conflict\",\n  \"message\": \"Tag with name 'Angular' already exists\",\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Important Notes: - Tag names are case-sensitive (\"Angular\" != \"angular\") - Unique constraint enforced at database level - Check for existing tags before creation to provide better UX</p>"},{"location":"api/tags/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Projects API - Projects using tags</li> <li>Articles API - Articles using tags</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/visitors/","title":"Visitors API","text":"<p>REST API for visitor tracking and real-time analytics.</p>"},{"location":"api/visitors/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Public Endpoints</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Codes</li> <li>Related Documentation</li> </ol>"},{"location":"api/visitors/#overview","title":"Overview","text":"<p>The Visitors API provides:</p> <ul> <li>Public heartbeat endpoint for anonymous tracking</li> <li>Admin endpoints for real-time statistics</li> <li>SSE stream for live dashboard updates</li> <li>Historical visitor data for charts</li> </ul> <p>Authentication: - Public endpoints: No authentication - Admin endpoints: JWT Bearer token (ADMIN role)</p>"},{"location":"api/visitors/#public-endpoints","title":"Public Endpoints","text":""},{"location":"api/visitors/#register-heartbeat","title":"Register Heartbeat","text":"<pre><code>POST /api/visitors/heartbeat\n</code></pre> <p>Registers a visitor heartbeat to track active sessions.</p> <p>Headers:</p> Header Type Required Description <code>X-Session-Id</code> string Yes UUID session identifier <p>Response: <code>200 OK</code> (empty body)</p> <p>Notes: - Call every 30 seconds from frontend - Session expires after 60 seconds without heartbeat - No request body required</p>"},{"location":"api/visitors/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/visitors/#get-active-users-count","title":"Get Active Users Count","text":"<pre><code>GET /api/admin/visitors/count\n</code></pre> <p>Returns current active visitors count.</p> <p>Response: <pre><code>{\n  \"count\": 42,\n  \"timestamp\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"api/visitors/#get-visitor-statistics","title":"Get Visitor Statistics","text":"<pre><code>GET /api/admin/visitors/stats\n</code></pre> <p>Returns active count and last month's total visitors.</p> <p>Response: <pre><code>{\n  \"activeCount\": 42,\n  \"lastMonthCount\": 1250,\n  \"timestamp\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre></p> <p>Calculation: - <code>activeCount</code>: Current Redis session count - <code>lastMonthCount</code>: Sum of unique visitors from DailyStats (previous full month)</p>"},{"location":"api/visitors/#get-daily-visitor-data","title":"Get Daily Visitor Data","text":"<pre><code>GET /api/admin/visitors/daily\n</code></pre> <p>Returns unique visitors per day for the last 7 days.</p> <p>Response: <pre><code>[\n  { \"date\": \"2024-01-09\", \"count\": 145 },\n  { \"date\": \"2024-01-10\", \"count\": 167 },\n  { \"date\": \"2024-01-11\", \"count\": 189 },\n  { \"date\": \"2024-01-12\", \"count\": 134 },\n  { \"date\": \"2024-01-13\", \"count\": 98 },\n  { \"date\": \"2024-01-14\", \"count\": 112 },\n  { \"date\": \"2024-01-15\", \"count\": 156 }\n]\n</code></pre></p> <p>Notes: - Returns 7 days from oldest to newest - Missing days have count = 0 - Data sourced from DailyStats table</p>"},{"location":"api/visitors/#stream-active-users-sse","title":"Stream Active Users (SSE)","text":"<pre><code>GET /api/admin/visitors/stream\nContent-Type: text/event-stream\n</code></pre> <p>Server-Sent Events stream for real-time active users count.</p> <p>Event Format: <pre><code>event: active-users\ndata: {\"count\":42,\"timestamp\":\"2024-01-15T10:30:00Z\"}\n\nevent: active-users\ndata: {\"count\":45,\"timestamp\":\"2024-01-15T10:30:30Z\"}\n</code></pre></p> <p>Behavior: - Initial count sent immediately on connection - Updates broadcast every 30 seconds - Connection kept alive indefinitely - Automatic cleanup on client disconnect</p> <p>Client Implementation: <pre><code>const response = await fetch('/api/admin/visitors/stream', {\n  headers: {\n    Authorization: `Bearer ${token}`,\n    Accept: 'text/event-stream',\n  },\n});\n\nconst reader = response.body.getReader();\nconst decoder = new TextDecoder();\n\nwhile (true) {\n  const { done, value } = await reader.read();\n  if (done) break;\n\n  const text = decoder.decode(value);\n  // Parse SSE format and extract data\n}\n</code></pre></p>"},{"location":"api/visitors/#data-models","title":"Data Models","text":""},{"location":"api/visitors/#activeusersresponse","title":"ActiveUsersResponse","text":"<pre><code>{\n  \"count\": \"integer\",\n  \"timestamp\": \"datetime (ISO 8601)\"\n}\n</code></pre>"},{"location":"api/visitors/#visitorstatsresponse","title":"VisitorStatsResponse","text":"<pre><code>{\n  \"activeCount\": \"integer\",\n  \"lastMonthCount\": \"long\",\n  \"timestamp\": \"datetime (ISO 8601)\"\n}\n</code></pre>"},{"location":"api/visitors/#dailyvisitordata","title":"DailyVisitorData","text":"<pre><code>{\n  \"date\": \"date (YYYY-MM-DD)\",\n  \"count\": \"long\"\n}\n</code></pre>"},{"location":"api/visitors/#error-codes","title":"Error Codes","text":"Status Code Description 400 BAD_REQUEST Missing X-Session-Id header 401 UNAUTHORIZED Not authenticated (admin endpoints) 403 FORBIDDEN Not authorized (requires ADMIN role)"},{"location":"api/visitors/#related-documentation","title":"Related Documentation","text":"<ul> <li>Visitor Tracking - Feature documentation</li> <li>Authentication - JWT authentication</li> </ul>"},{"location":"architecture/","title":"Architecture Documentation","text":""},{"location":"architecture/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>System Architecture</li> <li>Component Documentation</li> </ol>"},{"location":"architecture/#1-introduction","title":"1. Introduction","text":"<p>This section provides documentation of the Portfolio application architecture. The application follows a modern three-tier architecture with Angular frontend, Spring Boot backend, and PostgreSQL database.</p> <p>Architecture Overview: - Frontend: Angular 18+ standalone components (SPA) - Backend: Spring Boot 3.4+ REST API (Java 21) - Database: PostgreSQL 17 with Flyway migrations - Messaging: RabbitMQ for async processing - Event Streaming: Apache Kafka for event-driven architecture - Search: Elasticsearch for full-text search - Deployment: Docker Compose containerization - Proxy: Nginx reverse proxy</p> <p>Key Architectural Principles: - Separation of concerns (frontend/backend/database) - Stateless application servers (JWT authentication) - RESTful and GraphQL API design - Event-driven architecture (Kafka) - Asynchronous processing (RabbitMQ) - Container-based deployment - Environment-specific configuration</p>"},{"location":"architecture/#2-system-architecture","title":"2. System Architecture","text":""},{"location":"architecture/#21-high-level-overview","title":"2.1 High-Level Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                              CLIENTS                                         \u2502\n\u2502                    (Browser, Mobile, API Consumers)                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           NGINX (Reverse Proxy)                              \u2502\n\u2502                    SSL Termination, Load Balancing, Static Files             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u25bc                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      ANGULAR FRONTEND        \u2502   \u2502      SPRING BOOT BACKEND     \u2502\n\u2502         (Port 4200)          \u2502   \u2502         (Port 8080)          \u2502\n\u2502                              \u2502   \u2502                              \u2502\n\u2502  - Standalone Components     \u2502   \u2502  - REST API + GraphQL API    \u2502\n\u2502  - PWA Support               \u2502   \u2502  - JWT Authentication        \u2502\n\u2502  - i18n (10 languages)       \u2502   \u2502  - Spring Batch Jobs         \u2502\n\u2502  - Chart.js Dashboards       \u2502   \u2502  - Circuit Breaker           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u25bc                           \u25bc                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      POSTGRESQL          \u2502   \u2502        REDIS             \u2502   \u2502     ELASTICSEARCH        \u2502\n\u2502      (Port 5432)         \u2502   \u2502      (Port 6379)         \u2502   \u2502      (Port 9200)         \u2502\n\u2502                          \u2502   \u2502                          \u2502   \u2502                          \u2502\n\u2502  - 14 tables             \u2502   \u2502  - Rate Limiting         \u2502   \u2502  - Full-text Search      \u2502\n\u2502  - Flyway V1-V25         \u2502   \u2502  - Session Cache         \u2502   \u2502  - Articles &amp; Projects   \u2502\n\u2502  - Audit Logs            \u2502   \u2502  - Visitor Tracking      \u2502   \u2502                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u25bc                           \u25bc                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       RABBITMQ           \u2502   \u2502        KAFKA             \u2502   \u2502      MONITORING          \u2502\n\u2502      (Port 5672)         \u2502   \u2502      (Port 9092)         \u2502   \u2502                          \u2502\n\u2502                          \u2502   \u2502                          \u2502   \u2502  - Prometheus (:9090)    \u2502\n\u2502  - Email Queue           \u2502   \u2502  - Admin Events Topic    \u2502   \u2502  - Grafana (:3001)       \u2502\n\u2502  - Image Processing      \u2502   \u2502  - Analytics Events      \u2502   \u2502  - Loki (:3100)          \u2502\n\u2502  - Audit Logging         \u2502   \u2502  - Activity Events       \u2502   \u2502  - Sentry (cloud)        \u2502\n\u2502  - Dead Letter Queue     \u2502   \u2502                          \u2502   \u2502                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#22-key-components","title":"2.2 Key Components","text":"Component Port Purpose Nginx 80/443 Reverse proxy, SSL termination, static files Angular SPA 4200 Frontend application Spring Boot API 8080 Backend REST/GraphQL API PostgreSQL 5432 Primary database Redis 6379 Cache, rate limiting, sessions Elasticsearch 9200 Full-text search RabbitMQ 5672/15672 Message queue Kafka 9092 Event streaming Prometheus 9090 Metrics collection Grafana 3001 Dashboards Loki 3100 Log aggregation"},{"location":"architecture/#23-environments","title":"2.3 Environments","text":"<ul> <li>Local development: Direct execution</li> <li>Docker development: docker-compose</li> <li>Staging: docker-compose with staging profile</li> <li>Production: Containerized deployment</li> </ul>"},{"location":"architecture/#3-component-documentation","title":"3. Component Documentation","text":""},{"location":"architecture/#31-frontend-architecture","title":"3.1 Frontend Architecture","text":"<p>File: frontend-architecture.md</p> <p>Angular 18+ architecture with standalone components, routing, state management, and HTTP communication.</p> <p>Topics: - Standalone components (no NgModules) - Route configuration with nested admin routes - Service-based state management - HTTP interceptors (JWT, Retry, Logging) - Functional guards (authGuard, adminGuard)</p>"},{"location":"architecture/#32-backend-architecture","title":"3.2 Backend Architecture","text":"<p>Topics: REST API design, service layer, security, validation</p> <p>Layers: <pre><code>Controller Layer \u2192 Service Layer \u2192 Repository Layer \u2192 Database\n     \u2193                 \u2193\n  Validation      Business Logic\n</code></pre></p> <p>Key Components: - Controllers (<code>@RestController</code>) for JSON responses - Services (<code>@Service</code>) with transaction management - Repositories (JPA) with custom queries - Spring Security with JWT authentication</p>"},{"location":"architecture/#33-database-schema","title":"3.3 Database Schema","text":"<p>File: database-schema.md</p> <p>Complete PostgreSQL database schema with Flyway migrations.</p> <p>Topics: - 25 Flyway migrations (V1-V25) - 14 database tables - Entity relationships - Indexes and constraints</p>"},{"location":"architecture/#34-error-handling","title":"3.4 Error Handling","text":"<p>File: error-handling.md</p> <p>Centralized exception handling with GlobalExceptionHandler.</p> <p>Exception Mapping:</p> Exception HTTP Status Use Case <code>ResourceNotFoundException</code> 404 Entity not found <code>DuplicateResourceException</code> 409 Unique constraint violation <code>MethodArgumentNotValidException</code> 400 Validation errors <code>UnauthorizedException</code> 401 Invalid/expired JWT <code>AccessDeniedException</code> 403 Insufficient permissions <code>RateLimitExceededException</code> 429 Rate limit exceeded"},{"location":"architecture/#35-messaging-architecture","title":"3.5 Messaging Architecture","text":"<p>File: messaging.md</p> <p>RabbitMQ-based asynchronous message processing.</p> <p>Key Components: - Portfolio Exchange (direct routing) - Email, Image Processing, Audit queues - Dead Letter Exchange for failed messages</p>"},{"location":"architecture/#36-event-streaming-architecture","title":"3.6 Event Streaming Architecture","text":"<p>File: event-streaming.md</p> <p>Kafka-based event-driven architecture.</p> <p>Topics: - <code>admin.events</code> - Admin CRUD operations - <code>analytics.events</code> - Page views, downloads - <code>activity.events</code> - Login, session tracking</p>"},{"location":"architecture/#37-caching-architecture","title":"3.7 Caching Architecture","text":"<p>File: ../features/caching.md</p> <p>Multi-level caching for performance optimization.</p> Layer Technology Purpose TTL L1 (Local) Caffeine In-memory cache 5-10 min L2 (Distributed) Redis Shared cache, sessions 1-24 hours"},{"location":"architecture/#38-resilience-architecture","title":"3.8 Resilience Architecture","text":"<p>File: ../features/circuit-breaker.md</p> <p>Fault tolerance patterns for external service calls.</p> Pattern Use Case Configuration Circuit Breaker External API calls 5 failures, 60s wait Retry Transient failures 3 retries, exponential backoff Rate Limiter API protection Request limits per second"},{"location":"architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Documentation - REST API endpoints</li> <li>Features Documentation - Feature implementations</li> <li>Security: JWT Implementation - Authentication details</li> <li>Security: RBAC - Role-based access control</li> <li>Reference: Configuration Properties - Configuration</li> <li>Development: Setup - Development environment setup</li> <li>Deployment: CI/CD - Deployment pipeline</li> </ul>"},{"location":"architecture/architecture/","title":"Application Architecture Reference","text":"<p>Detailed architecture overview of the Portfolio application.</p>"},{"location":"architecture/architecture/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>System Architecture</li> <li>Component Details</li> <li>Data Flow</li> <li>Infrastructure Services</li> </ol>"},{"location":"architecture/architecture/#1-overview","title":"1. Overview","text":"<p>The Portfolio Application is a full-stack web application built with a modern three-tier architecture. The system uses containerization for deployment and follows microservices principles with clear separation of concerns.</p>"},{"location":"architecture/architecture/#11-architecture-principles","title":"1.1 Architecture Principles","text":"<p>Design Principles: - Separation of concerns - Stateless application servers - Database as single source of truth - Environment-specific configuration - Container-based deployment - Health check integration at all layers</p>"},{"location":"architecture/architecture/#12-technology-stack","title":"1.2 Technology Stack","text":"Layer Technology Version Frontend Angular 18 LTS Backend Spring Boot (Java) 3.4+ (Java 21) Database PostgreSQL 17 Cache Redis 7 Message Queue RabbitMQ 3.12 Event Streaming Kafka 3.5 Search Elasticsearch 8.x Reverse Proxy Nginx 1.27 Containerization Docker &amp; Docker Compose 20.10+ CI/CD GitHub Actions N/A"},{"location":"architecture/architecture/#2-system-architecture","title":"2. System Architecture","text":""},{"location":"architecture/architecture/#21-high-level-architecture","title":"2.1 High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                            CLIENT                                \u2502\n\u2502                    (Web Browser / Mobile)                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502 HTTPS/HTTP\n                             \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         NGINX                                    \u2502\n\u2502                   (Reverse Proxy / Load Balancer)                \u2502\n\u2502  - SSL Termination                                              \u2502\n\u2502  - Static File Serving                                          \u2502\n\u2502  - Request Routing                                              \u2502\n\u2502  - Health Check Aggregation                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502                         \u2502\n               \u2502 /                       \u2502 /api/*\n               \u2502                         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      FRONTEND           \u2502   \u2502         BACKEND                    \u2502\n\u2502   Angular Application   \u2502   \u2502    Spring Boot Application         \u2502\n\u2502  - SPA (Single Page)    \u2502   \u2502  - REST API + GraphQL API          \u2502\n\u2502  - Responsive UI        \u2502   \u2502  - Business Logic                  \u2502\n\u2502  - PWA Support          \u2502   \u2502  - Spring Security (JWT)           \u2502\n\u2502  Port: 4200             \u2502   \u2502  - Spring Batch Jobs               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502  - Circuit Breaker (Resilience4j)  \u2502\n                              \u2502  Port: 8080                         \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                           \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502                                \u2502                       \u2502\n          \u25bc                                \u25bc                       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   POSTGRESQL    \u2502            \u2502     REDIS       \u2502    \u2502  ELASTICSEARCH  \u2502\n\u2502   Port: 5432    \u2502            \u2502   Port: 6379    \u2502    \u2502   Port: 9200    \u2502\n\u2502 - Data Storage  \u2502            \u2502 - Caching       \u2502    \u2502 - Full-text     \u2502\n\u2502 - ACID          \u2502            \u2502 - Rate Limiting \u2502    \u2502   Search        \u2502\n\u2502 - Audit Logs    \u2502            \u2502 - Sessions      \u2502    \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502\n          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502                                                        \u2502\n          \u25bc                                                        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       RABBITMQ          \u2502                          \u2502      KAFKA      \u2502\n\u2502     Port: 5672/15672    \u2502                          \u2502   Port: 9092    \u2502\n\u2502 - Email Queue           \u2502                          \u2502 - Admin Events  \u2502\n\u2502 - Image Processing      \u2502                          \u2502 - Analytics     \u2502\n\u2502 - Audit Logging         \u2502                          \u2502 - Activity      \u2502\n\u2502 - Dead Letter Queue     \u2502                          \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/architecture/#3-component-details","title":"3. Component Details","text":""},{"location":"architecture/architecture/#31-frontend-angular","title":"3.1 Frontend (Angular)","text":"<p>Responsibilities: - User interface rendering - Client-side routing - State management - API communication - PWA offline support</p>"},{"location":"architecture/architecture/#32-backend-spring-boot","title":"3.2 Backend (Spring Boot)","text":"<p>Responsibilities: - REST and GraphQL API - Business logic - Authentication (JWT) - Database operations - Background jobs (Spring Batch) - External service integration</p>"},{"location":"architecture/architecture/#33-nginx","title":"3.3 Nginx","text":"<p>Responsibilities: - SSL termination - Static file serving - API routing - Load balancing - Health check aggregation</p>"},{"location":"architecture/architecture/#4-data-flow","title":"4. Data Flow","text":""},{"location":"architecture/architecture/#41-request-flow","title":"4.1 Request Flow","text":"<pre><code>Client \u2192 Nginx \u2192 Backend \u2192 Database\n                   \u2193\n                 Redis (cache check)\n                   \u2193\n              PostgreSQL (if not cached)\n</code></pre>"},{"location":"architecture/architecture/#42-event-flow","title":"4.2 Event Flow","text":"<pre><code>User Action \u2192 Backend Service \u2192 Kafka Producer\n                                    \u2193\n                              Kafka Topic\n                                    \u2193\n                             Kafka Consumer \u2192 Database/Analytics\n</code></pre>"},{"location":"architecture/architecture/#43-async-processing-flow","title":"4.3 Async Processing Flow","text":"<pre><code>API Request \u2192 RabbitMQ Producer\n                    \u2193\n              RabbitMQ Queue\n                    \u2193\n              Consumer \u2192 SMTP/Image Processing/Audit\n</code></pre>"},{"location":"architecture/architecture/#5-infrastructure-services","title":"5. Infrastructure Services","text":""},{"location":"architecture/architecture/#51-service-ports","title":"5.1 Service Ports","text":"Service Port Protocol Nginx 80/443 HTTP/HTTPS Frontend 4200 HTTP Backend 8080 HTTP PostgreSQL 5432 TCP Redis 6379 TCP RabbitMQ 5672 AMQP RabbitMQ Management 15672 HTTP Kafka 9092 TCP Elasticsearch 9200 HTTP Prometheus 9090 HTTP Grafana 3001 HTTP Loki 3100 HTTP"},{"location":"architecture/architecture/#52-service-dependencies","title":"5.2 Service Dependencies","text":"<pre><code>Backend depends on:\n\u251c\u2500\u2500 PostgreSQL (required)\n\u251c\u2500\u2500 Redis (required for rate limiting)\n\u251c\u2500\u2500 RabbitMQ (required for async)\n\u251c\u2500\u2500 Elasticsearch (optional, fallback to JPA)\n\u2514\u2500\u2500 Kafka (optional, feature flag)\n</code></pre>"},{"location":"architecture/architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture README - Architecture documentation index</li> <li>Database Schema - PostgreSQL schema</li> <li>Frontend Architecture - Angular architecture</li> <li>Error Handling - Exception handling</li> <li>Messaging - RabbitMQ configuration</li> <li>Event Streaming - Kafka configuration</li> </ul>"},{"location":"architecture/database-schema/","title":"Database Schema","text":""},{"location":"architecture/database-schema/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Schema Diagram</li> <li>Core Entities</li> <li>Authentication and Security</li> <li>Content Management</li> <li>Many-to-Many Relationships</li> <li>Indexes and Constraints</li> <li>Migration History</li> </ol>"},{"location":"architecture/database-schema/#1-overview","title":"1. Overview","text":"<p>The portfolio database uses PostgreSQL with Flyway for version-controlled schema migrations. Designed for scalability, data integrity, and query performance.</p> <p>Database Features: - Automated timestamps with <code>CURRENT_TIMESTAMP</code> - Cascading deletes for referential integrity - Check constraints for data validation - Comprehensive indexing strategy - UUID-based refresh tokens - Support for draft/publish workflows</p> <p>Migration Tool: Flyway (V1-V30 migrations applied)</p>"},{"location":"architecture/database-schema/#2-schema-diagram","title":"2. Schema Diagram","text":""},{"location":"architecture/database-schema/#entity-relationships","title":"Entity Relationships","text":"<pre><code>users \u2500\u2500\u252c\u2500\u2500 1:N \u2500\u2500 refresh_tokens\n        \u251c\u2500\u2500 1:N \u2500\u2500 cvs\n        \u251c\u2500\u2500 1:N \u2500\u2500 articles\n        \u2514\u2500\u2500 1:N \u2500\u2500 audit_logs\n\nprojects \u2500\u2500\u252c\u2500\u2500 M:N \u2500\u2500 tags (via project_tags)\n           \u2514\u2500\u2500 1:N \u2500\u2500 project_images\n\narticles \u2500\u2500\u252c\u2500\u2500 M:N \u2500\u2500 tags (via article_tags)\n           \u2514\u2500\u2500 1:N \u2500\u2500 article_images\n\nexperiences (independent entity)\n\nskills (independent entity)\n\nsite_configuration (singleton entity)\n\naudit_logs (audit trail entity)\n\ndaily_stats (analytics entity)\n</code></pre>"},{"location":"architecture/database-schema/#3-core-entities","title":"3. Core Entities","text":""},{"location":"architecture/database-schema/#projects-table","title":"Projects Table","text":"<p>Purpose: Portfolio projects with images and metadata</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key title VARCHAR(100) NOT NULL Project title description TEXT NOT NULL Unlimited Markdown description tech_stack VARCHAR(500) NOT NULL Technologies used github_url VARCHAR(255) Nullable GitHub repository URL image_url VARCHAR(255) Nullable Project image (WebP) thumbnail_url VARCHAR(255) Nullable Thumbnail (400x300px) demo_url VARCHAR(255) Nullable Live demo URL featured BOOLEAN NOT NULL, DEFAULT false Homepage featured flag display_order INTEGER NOT NULL, DEFAULT 0, CHECK &gt;= 0 Display order created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Indexes: - <code>idx_projects_featured</code> - Filter featured projects - <code>idx_projects_title</code> - Search by title - <code>idx_projects_created_at DESC</code> - Chronological sorting - <code>idx_projects_display_order</code> - Ordered display</p>"},{"location":"architecture/database-schema/#tags-table","title":"Tags Table","text":"<p>Purpose: Technology tags for projects and articles</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key name VARCHAR(50) NOT NULL, UNIQUE Tag name color VARCHAR(7) NOT NULL, CHECK hex format Hex color code (#RGB or #RRGGBB) <p>Constraints: <pre><code>CHECK (color ~ '^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$')\n</code></pre></p> <p>Indexes: - <code>idx_tags_name</code> - Name lookups</p>"},{"location":"architecture/database-schema/#skills-table","title":"Skills Table","text":"<p>Purpose: Technical skills with categories and proficiency</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key name VARCHAR(50) NOT NULL Skill name icon VARCHAR(50) NOT NULL Bootstrap Icons class name color VARCHAR(7) NOT NULL, CHECK hex Hex color code category VARCHAR(20) NOT NULL, CHECK enum FRONTEND, BACKEND, DATABASE, DEVOPS, TOOLS display_order INTEGER NOT NULL, DEFAULT 0, CHECK &gt;= 0 Display order created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (category IN ('FRONTEND', 'BACKEND', 'DATABASE', 'DEVOPS', 'TOOLS'))\nCHECK (display_order &gt;= 0)\n</code></pre></p> <p>Indexes: - <code>idx_skills_display_order</code> - Ordered display - <code>idx_skills_category</code> - Filter by category - <code>idx_skills_name</code> - Name lookups</p>"},{"location":"architecture/database-schema/#experiences-table","title":"Experiences Table","text":"<p>Purpose: Professional, educational, certification, and volunteering experiences</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key company VARCHAR(200) Nullable Company or institution name role VARCHAR(200) Nullable Job title, degree, or certification start_date DATE Nullable Experience start date end_date DATE Nullable End date (NULL = ongoing) description TEXT NOT NULL Detailed Markdown description type VARCHAR(50) Nullable, CHECK enum WORK, STAGE, EDUCATION, CERTIFICATION, VOLUNTEERING show_months BOOLEAN NOT NULL, DEFAULT true Display months in dates (vs year only) display_order INTEGER NOT NULL, DEFAULT 0, CHECK &gt;= 0 Manual sorting order created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (type IN ('WORK', 'STAGE', 'EDUCATION', 'CERTIFICATION', 'VOLUNTEERING'))\nCHECK (end_date IS NULL OR end_date &gt;= start_date)\nCHECK (display_order &gt;= 0)\n</code></pre></p> <p>Indexes: - <code>idx_experiences_start_date DESC</code> - Chronological sorting - <code>idx_experiences_type</code> - Filter by type - <code>idx_experiences_ongoing WHERE end_date IS NULL</code> - Ongoing experiences (partial index) - <code>idx_experiences_display_order</code> - Ordered display</p>"},{"location":"architecture/database-schema/#4-authentication-and-security","title":"4. Authentication and Security","text":""},{"location":"architecture/database-schema/#users-table","title":"Users Table","text":"<p>Purpose: Authenticated users with role-based access control</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key username VARCHAR(50) NOT NULL, UNIQUE, CHECK &gt;= 3 chars Username email VARCHAR(100) NOT NULL, UNIQUE, CHECK email format Email address password VARCHAR(255) NOT NULL BCrypt hashed password role VARCHAR(20) NOT NULL, DEFAULT 'ROLE_GUEST' ROLE_ADMIN or ROLE_GUEST enabled BOOLEAN NOT NULL, DEFAULT true Account status account_non_expired BOOLEAN NOT NULL, DEFAULT true Account expiration account_non_locked BOOLEAN NOT NULL, DEFAULT true Account lock status credentials_non_expired BOOLEAN NOT NULL, DEFAULT true Password expiration created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (role IN ('ROLE_ADMIN', 'ROLE_GUEST'))\nCHECK (char_length(username) &gt;= 3)\nCHECK (email ~ '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$')\n</code></pre></p> <p>Indexes: - <code>idx_users_username</code> - Login lookups - <code>idx_users_email</code> - Email lookups - <code>idx_users_role</code> - Role filtering - <code>idx_users_enabled</code> - Active users</p> <p>Seed Data: Default admin user (username: <code>admin</code>, password: <code>Admin123!</code>)</p>"},{"location":"architecture/database-schema/#refresh-tokens-table","title":"Refresh Tokens Table","text":"<p>Purpose: JWT refresh tokens for secure token rotation</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key token VARCHAR(255) NOT NULL, UNIQUE UUID refresh token user_id BIGINT NOT NULL, FK \u2192 users(id) CASCADE Token owner expiry_date TIMESTAMP NOT NULL Token expiration revoked BOOLEAN NOT NULL, DEFAULT false Revocation flag created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp <p>Indexes: - <code>idx_refresh_tokens_token</code> - Token lookups - <code>idx_refresh_tokens_user_id</code> - User's tokens - <code>idx_refresh_tokens_expiry_date</code> - Expiration checks - <code>idx_refresh_tokens_revoked</code> - Active tokens</p>"},{"location":"architecture/database-schema/#cvs-table","title":"CVs Table","text":"<p>Purpose: Version-controlled CV uploads</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key user_id BIGINT NOT NULL, FK \u2192 users(id) CASCADE CV owner file_name VARCHAR(255) NOT NULL Stored filename original_file_name VARCHAR(255) NOT NULL Original upload name file_url VARCHAR(255) NOT NULL CV file URL file_size BIGINT NOT NULL File size in bytes uploaded_at TIMESTAMP NOT NULL, DEFAULT NOW Upload timestamp current BOOLEAN NOT NULL, DEFAULT false Current CV flag <p>Constraints: <pre><code>UNIQUE INDEX idx_cvs_user_current ON cvs(user_id) WHERE current = true\n-- Ensures only ONE current CV per user\n</code></pre></p> <p>Indexes: - <code>idx_cvs_user_id</code> - User's CVs - <code>idx_cvs_current</code> - Current CVs - <code>idx_cvs_user_current</code> - Unique current CV per user (partial)</p>"},{"location":"architecture/database-schema/#audit-logs-table","title":"Audit Logs Table","text":"<p>Purpose: Comprehensive audit trail for administrative actions</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key action VARCHAR(50) NOT NULL Action type (CREATE, UPDATE, DELETE, PUBLISH, LOGIN) entity_type VARCHAR(100) NOT NULL Entity type (Project, Article, Skill, etc.) entity_id BIGINT Nullable Entity primary key entity_name VARCHAR(255) Nullable Human-readable entity name user_id BIGINT FK \u2192 users(id) SET NULL Action performer username VARCHAR(50) NOT NULL Username at time of action user_role VARCHAR(20) Nullable User role at time of action ip_address VARCHAR(45) Nullable Client IP address user_agent VARCHAR(500) Nullable Client user agent old_values JSONB Nullable Previous state (UPDATE/DELETE) new_values JSONB Nullable New state (CREATE/UPDATE) changed_fields TEXT[] Nullable Array of modified field names request_method VARCHAR(10) Nullable HTTP method request_uri VARCHAR(500) Nullable Request URI request_id VARCHAR(36) Nullable UUID for request correlation success BOOLEAN NOT NULL, DEFAULT true Action success indicator error_message TEXT Nullable Error message if failed created_at TIMESTAMP NOT NULL, DEFAULT NOW Action timestamp <p>Indexes: - <code>idx_audit_logs_action</code> - Filter by action type - <code>idx_audit_logs_entity</code> - Entity type and ID lookups - <code>idx_audit_logs_user</code> - User's audit trail - <code>idx_audit_logs_username</code> - Username lookups - <code>idx_audit_logs_created_at DESC</code> - Chronological sorting - <code>idx_audit_logs_success</code> - Filter by success/failure - <code>idx_audit_logs_old_values</code> - GIN index for JSONB queries - <code>idx_audit_logs_new_values</code> - GIN index for JSONB queries</p>"},{"location":"architecture/database-schema/#daily-stats-table","title":"Daily Stats Table","text":"<p>Purpose: Aggregated daily statistics for portfolio metrics</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key stats_date DATE NOT NULL, UNIQUE Statistics date total_projects BIGINT NOT NULL, DEFAULT 0 Total projects count total_articles BIGINT NOT NULL, DEFAULT 0 Total articles count published_articles BIGINT NOT NULL, DEFAULT 0 Published articles count draft_articles BIGINT NOT NULL, DEFAULT 0 Draft articles count total_skills BIGINT NOT NULL, DEFAULT 0 Total skills count total_experiences BIGINT NOT NULL, DEFAULT 0 Total experiences count total_tags BIGINT NOT NULL, DEFAULT 0 Total tags count total_project_images BIGINT NOT NULL, DEFAULT 0 Project images count total_article_images BIGINT NOT NULL, DEFAULT 0 Article images count contact_submissions BIGINT NOT NULL, DEFAULT 0 Contact form submissions unique_visitors BIGINT NOT NULL, DEFAULT 0 Unique visitors count audit_events_count BIGINT NOT NULL, DEFAULT 0 Audit events count failed_audit_events BIGINT NOT NULL, DEFAULT 0 Failed audit events created_at TIMESTAMP NOT NULL, DEFAULT NOW Record creation timestamp <p>Indexes: - <code>idx_daily_stats_date DESC</code> - Chronological sorting</p>"},{"location":"architecture/database-schema/#5-content-management","title":"5. Content Management","text":""},{"location":"architecture/database-schema/#articles-table","title":"Articles Table","text":"<p>Purpose: Blog articles with Markdown content</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key title VARCHAR(200) NOT NULL Article title slug VARCHAR(200) NOT NULL, UNIQUE URL-friendly identifier content TEXT NOT NULL Markdown source excerpt VARCHAR(500) Nullable Short summary author_id BIGINT NOT NULL, FK \u2192 users(id) RESTRICT Article author draft BOOLEAN NOT NULL, DEFAULT true Draft status published_at TIMESTAMP Nullable Publication timestamp reading_time_minutes INTEGER Nullable Estimated reading time display_order INTEGER NOT NULL, DEFAULT 0, CHECK &gt;= 0 Display order created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Indexes: - <code>idx_articles_slug</code> - Slug lookups - <code>idx_articles_published DESC WHERE draft = false</code> - Published articles (partial) - <code>idx_articles_draft</code> - Draft filtering - <code>idx_articles_author</code> - Author's articles - <code>idx_articles_display_order</code> - Ordered display</p>"},{"location":"architecture/database-schema/#article-images-table","title":"Article Images Table","text":"<p>Purpose: Images embedded in articles</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key article_id BIGINT NOT NULL, FK \u2192 articles(id) CASCADE Parent article image_url VARCHAR(255) NOT NULL Image URL thumbnail_url VARCHAR(255) Nullable Thumbnail URL uploaded_at TIMESTAMP NOT NULL, DEFAULT NOW Upload timestamp <p>Indexes: - <code>idx_article_images_article</code> - Article's images</p>"},{"location":"architecture/database-schema/#site-configuration-table","title":"Site Configuration Table","text":"<p>Purpose: Centralized site-wide configuration (singleton pattern)</p> Column Type Constraints Description id BIGSERIAL PK, CHECK (id = 1) Always 1 (singleton) full_name VARCHAR(100) NOT NULL Site owner's name email VARCHAR(255) NOT NULL Contact email hero_title VARCHAR(200) NOT NULL Hero section title hero_description TEXT NOT NULL Hero section description site_title VARCHAR(100) NOT NULL Browser tab title seo_description VARCHAR(300) NOT NULL Meta description profile_image_url VARCHAR(500) Nullable Profile image URL github_url VARCHAR(500) NOT NULL GitHub profile URL linkedin_url VARCHAR(500) NOT NULL LinkedIn profile URL created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (id = 1)  -- Ensures singleton pattern\n</code></pre></p>"},{"location":"architecture/database-schema/#6-many-to-many-relationships","title":"6. Many-to-Many Relationships","text":""},{"location":"architecture/database-schema/#project-tags-junction-table","title":"Project Tags Junction Table","text":"<p>Table: <code>project_tags</code></p> Column Type Constraints Description project_id BIGINT PK, FK \u2192 projects(id) CASCADE Project reference tag_id BIGINT PK, FK \u2192 tags(id) CASCADE Tag reference <p>Composite Primary Key: <code>(project_id, tag_id)</code></p> <p>Indexes: - <code>idx_project_tags_tag_id</code> - Projects by tag - <code>idx_project_tags_project_id</code> - Tags by project</p> <p>Cascade Behavior: Deleting project or tag removes relationship</p>"},{"location":"architecture/database-schema/#article-tags-junction-table","title":"Article Tags Junction Table","text":"<p>Table: <code>article_tags</code></p> Column Type Constraints Description article_id BIGINT PK, FK \u2192 articles(id) CASCADE Article reference tag_id BIGINT PK, FK \u2192 tags(id) CASCADE Tag reference <p>Composite Primary Key: <code>(article_id, tag_id)</code></p> <p>Indexes: - <code>idx_article_tags_article</code> - Tags by article - <code>idx_article_tags_tag</code> - Articles by tag</p> <p>Cascade Behavior: Deleting article or tag removes relationship</p>"},{"location":"architecture/database-schema/#7-indexes-and-constraints","title":"7. Indexes and Constraints","text":""},{"location":"architecture/database-schema/#performance-indexes","title":"Performance Indexes","text":"<p>Chronological Sorting: <pre><code>CREATE INDEX idx_projects_created_at ON projects(created_at DESC);\nCREATE INDEX idx_experiences_start_date ON experiences(start_date DESC);\nCREATE INDEX idx_articles_published ON articles(published_at DESC) WHERE draft = false;\n</code></pre></p> <p>Filtering and Search: <pre><code>CREATE INDEX idx_skills_category ON skills(category);\nCREATE INDEX idx_experiences_type ON experiences(type);\nCREATE INDEX idx_projects_featured ON projects(featured);\n</code></pre></p> <p>Unique Constraints: <pre><code>ALTER TABLE tags ADD CONSTRAINT uk_tags_name UNIQUE (name);\nALTER TABLE articles ADD CONSTRAINT uk_articles_slug UNIQUE (slug);\nALTER TABLE users ADD CONSTRAINT uk_users_username UNIQUE (username);\nALTER TABLE users ADD CONSTRAINT uk_users_email UNIQUE (email);\n</code></pre></p> <p>Partial Indexes (PostgreSQL-specific): <pre><code>-- Only index ongoing experiences\nCREATE INDEX idx_experiences_ongoing ON experiences(end_date) WHERE end_date IS NULL;\n\n-- Only index published articles\nCREATE INDEX idx_articles_published ON articles(published_at DESC) WHERE draft = false;\n\n-- Ensure only one current CV per user\nCREATE UNIQUE INDEX idx_cvs_user_current ON cvs(user_id) WHERE current = true;\n</code></pre></p>"},{"location":"architecture/database-schema/#8-migration-history","title":"8. Migration History","text":"Version Description Tables Created/Modified V1 Initial schema projects, tags, project_tags V2 Skills management skills V3 Authentication users, refresh_tokens V4 Skills refactoring skills (removed level column) V5 CV management cvs V6 Project thumbnails projects (added thumbnail_url) V7 Experience timeline experiences V8 Blog articles articles, article_tags, article_images V9 Article metrics articles (removed views_count) V19 Site configuration site_configuration (replaces hero_section) V20 Audit logging audit_logs V21 Audit index audit_logs (username lower index) V22 Image status project_images (added status column) V23 Article image status article_images (added status column) V24 Daily statistics daily_stats V25 Visitor tracking daily_stats (added unique_visitors) V26 Display order projects, articles (added display_order) V27 Experience months experiences (added show_months) V28 Experience enhancements experiences (display_order, optional fields, STAGE type) V29 Project details project_details (created, later removed in V30) V30 Unlimited project description project_details (dropped), projects (description \u2192 TEXT)"},{"location":"architecture/database-schema/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - API documentation</li> <li>Features: Image Processing - Image storage</li> <li>Security: Authentication - Auth system</li> <li>Development: Setup - Database setup instructions</li> </ul>"},{"location":"architecture/error-handling/","title":"Error Handling Architecture","text":""},{"location":"architecture/error-handling/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Global Exception Handler</li> <li>Custom Exceptions</li> <li>Error Response Formats</li> <li>HTTP Status Code Mapping</li> <li>Validation Error Handling</li> <li>Logging Strategy</li> </ol>"},{"location":"architecture/error-handling/#1-overview","title":"1. Overview","text":"<p>The application uses centralized exception handling via Spring's <code>@RestControllerAdvice</code> for consistent error responses across all REST endpoints.</p> <p>Key Features: - Centralized error handling with <code>GlobalExceptionHandler</code> - Custom exception types for domain-specific errors - Structured error response formats (JSON) - Comprehensive logging of all exceptions - Differentiation between client errors (4xx) and server errors (5xx) - Special handling for validation errors with field-level details - JWT-specific exception handling</p> <p>Handler Class: <code>com.emmanuelgabe.portfolio.exception.GlobalExceptionHandler</code></p>"},{"location":"architecture/error-handling/#2-global-exception-handler","title":"2. Global Exception Handler","text":""},{"location":"architecture/error-handling/#globalexceptionhandler","title":"GlobalExceptionHandler","text":"<p>Annotation: <code>@RestControllerAdvice</code></p> <p>Purpose: Intercept all exceptions thrown by controllers and convert them to appropriate HTTP responses</p> <p>Pattern: <pre><code>@Slf4j\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ExceptionType.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleExceptionType(ExceptionType ex) {\n        log.warn(\"[EXCEPTION] Description - message={}\", ex.getMessage());\n        ErrorResponse errorResponse = new ErrorResponse(\n            HttpStatus.STATUS_CODE.value(),\n            ex.getMessage(),\n            LocalDateTime.now()\n        );\n        return ResponseEntity.status(HttpStatus.STATUS_CODE).body(errorResponse);\n    }\n}\n</code></pre></p>"},{"location":"architecture/error-handling/#exception-handlers-implemented","title":"Exception Handlers Implemented","text":"Exception Type HTTP Status Log Level Description <code>ResourceNotFoundException</code> 404 WARN Resource not found (Project, Skill, etc.) <code>InvalidCredentialsException</code> 401 WARN Invalid username/password <code>InvalidTokenException</code> 401 WARN Invalid JWT token <code>TokenExpiredException</code> 401 WARN Expired JWT token <code>SignatureException</code> 401 ERROR Invalid JWT signature <code>ExpiredJwtException</code> 401 WARN JWT expired (jjwt library) <code>MalformedJwtException</code> 401 ERROR Malformed JWT token <code>UnsupportedJwtException</code> 401 ERROR Unsupported JWT token <code>AuthenticationException</code> 401 WARN Spring Security authentication failure <code>AccessDeniedException</code> 403 WARN Insufficient permissions <code>IllegalArgumentException</code> 400 WARN Invalid method argument <code>FileStorageException</code> 400/500 WARN/ERROR File upload/storage error (context-dependent) <code>EmailException</code> 500 ERROR Email sending failure <code>MethodArgumentNotValidException</code> 400 WARN Validation error (field-level) <code>Exception</code> 500 ERROR Unexpected errors (catch-all)"},{"location":"architecture/error-handling/#3-custom-exceptions","title":"3. Custom Exceptions","text":""},{"location":"architecture/error-handling/#resourcenotfoundexception","title":"ResourceNotFoundException","text":"<p>Purpose: Indicate requested resource does not exist</p> <p>Usage: <pre><code>throw new ResourceNotFoundException(\"Project not found with id: \" + id);\n\n// Or with structured message:\nthrow new ResourceNotFoundException(\"Project\", \"id\", id);\n// \u2192 \"Project not found with id : '123'\"\n</code></pre></p> <p>HTTP Status: 404 Not Found</p> <p>Use Cases: - Project not found - Skill not found - Tag not found - Experience not found - Article not found - User not found</p>"},{"location":"architecture/error-handling/#invalidcredentialsexception","title":"InvalidCredentialsException","text":"<p>Purpose: Indicate authentication failure due to incorrect credentials</p> <p>Usage: <pre><code>throw new InvalidCredentialsException(\"Invalid username or password\");\n</code></pre></p> <p>HTTP Status: 401 Unauthorized</p> <p>Use Cases: - Login with incorrect username - Login with incorrect password</p>"},{"location":"architecture/error-handling/#invalidtokenexception","title":"InvalidTokenException","text":"<p>Purpose: Indicate JWT token is invalid</p> <p>Usage: <pre><code>throw new InvalidTokenException(\"Invalid refresh token\");\n</code></pre></p> <p>HTTP Status: 401 Unauthorized</p> <p>Use Cases: - Invalid refresh token - Token manipulation detected</p>"},{"location":"architecture/error-handling/#tokenexpiredexception","title":"TokenExpiredException","text":"<p>Purpose: Indicate JWT token has expired</p> <p>Usage: <pre><code>throw new TokenExpiredException(\"Refresh token has expired\");\n</code></pre></p> <p>HTTP Status: 401 Unauthorized</p> <p>Use Cases: - Expired access token - Expired refresh token</p>"},{"location":"architecture/error-handling/#filestorageexception","title":"FileStorageException","text":"<p>Purpose: Indicate file upload or storage failure</p> <p>Usage: <pre><code>throw new FileStorageException(\"File type not allowed\");\nthrow new FileStorageException(\"Failed to store file\", cause);\n</code></pre></p> <p>HTTP Status: Context-dependent - 400 Bad Request - Validation errors (client's fault):   - Invalid file type   - File size exceeds limit   - Empty file   - Invalid file name - 500 Internal Server Error - Storage errors (server's fault):   - Failed to create directory   - Failed to write file   - Disk space issues</p> <p>Detection Logic: <pre><code>boolean isValidationError = ex.getMessage().contains(\"File type not allowed\")\n    || ex.getMessage().contains(\"exceeds maximum\")\n    || ex.getMessage().contains(\"empty\")\n    || ex.getMessage().contains(\"Invalid file name\");\n</code></pre></p>"},{"location":"architecture/error-handling/#emailexception","title":"EmailException","text":"<p>Purpose: Indicate email sending failure</p> <p>Usage: <pre><code>throw new EmailException(\"Failed to send email: \" + e.getMessage());\n</code></pre></p> <p>HTTP Status: 500 Internal Server Error</p> <p>User-Facing Message: \"Failed to send email. Please try again later.\" - Hides internal error details for security</p> <p>Use Cases: - SMTP server unavailable - Invalid email configuration - Network failure</p>"},{"location":"architecture/error-handling/#4-error-response-formats","title":"4. Error Response Formats","text":""},{"location":"architecture/error-handling/#standard-error-response","title":"Standard Error Response","text":"<p>Class: <code>ErrorResponse</code></p> <p>Structure: <pre><code>{\n  \"status\": 404,\n  \"message\": \"Project not found with id: 123\",\n  \"timestamp\": \"2025-11-19T14:23:45.123\"\n}\n</code></pre></p> <p>Fields: | Field | Type | Description | |-------|------|-------------| | <code>status</code> | integer | HTTP status code | | <code>message</code> | string | Human-readable error message | | <code>timestamp</code> | datetime | Error occurrence timestamp (ISO 8601) |</p>"},{"location":"architecture/error-handling/#validation-error-response","title":"Validation Error Response","text":"<p>Class: <code>ValidationErrorResponse</code> (extends <code>ErrorResponse</code>)</p> <p>Structure: <pre><code>{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"timestamp\": \"2025-11-19T14:23:45.123\",\n  \"errors\": {\n    \"title\": \"must not be blank\",\n    \"description\": \"must not be blank\",\n    \"githubUrl\": \"must be a valid URL\"\n  }\n}\n</code></pre></p> <p>Fields: | Field | Type | Description | |-------|------|-------------| | <code>status</code> | integer | HTTP status code (400) | | <code>message</code> | string | \"Validation failed\" | | <code>timestamp</code> | datetime | Error occurrence timestamp | | <code>errors</code> | object | Field-level validation errors (field \u2192 error message) |</p> <p>Benefits: - Client can display field-specific error messages - Clear indication of which fields failed validation - Supports multiple field errors in single response</p>"},{"location":"architecture/error-handling/#5-http-status-code-mapping","title":"5. HTTP Status Code Mapping","text":""},{"location":"architecture/error-handling/#400-bad-request","title":"400 Bad Request","text":"<p>Scenarios: - Validation errors (<code>MethodArgumentNotValidException</code>) - Invalid method arguments (<code>IllegalArgumentException</code>) - File validation errors (invalid type, size exceeded, etc.)</p> <p>Client Action: Fix request data and retry</p>"},{"location":"architecture/error-handling/#401-unauthorized","title":"401 Unauthorized","text":"<p>Scenarios: - Invalid credentials (<code>InvalidCredentialsException</code>) - Invalid JWT token (<code>InvalidTokenException</code>, <code>MalformedJwtException</code>) - Expired JWT token (<code>TokenExpiredException</code>, <code>ExpiredJwtException</code>) - JWT signature invalid (<code>SignatureException</code>) - Authentication failure (<code>AuthenticationException</code>)</p> <p>Client Action: Re-authenticate (login again)</p>"},{"location":"architecture/error-handling/#403-forbidden","title":"403 Forbidden","text":"<p>Scenarios: - Insufficient permissions (<code>AccessDeniedException</code>) - Authenticated but lacks required role (ROLE_ADMIN)</p> <p>Client Action: Request access upgrade or navigate to allowed area</p>"},{"location":"architecture/error-handling/#404-not-found","title":"404 Not Found","text":"<p>Scenarios: - Resource not found (<code>ResourceNotFoundException</code>)</p> <p>Client Action: Verify resource ID and try again or navigate elsewhere</p>"},{"location":"architecture/error-handling/#500-internal-server-error","title":"500 Internal Server Error","text":"<p>Scenarios: - File storage failure (<code>FileStorageException</code> - server errors) - Email sending failure (<code>EmailException</code>) - Unexpected exceptions (<code>Exception</code> catch-all)</p> <p>Client Action: Retry later or contact support</p>"},{"location":"architecture/error-handling/#6-validation-error-handling","title":"6. Validation Error Handling","text":""},{"location":"architecture/error-handling/#jakarta-validation-integration","title":"Jakarta Validation Integration","text":"<p>Trigger: <code>@Valid</code> annotation on controller method parameters</p> <p>Example Controller: <pre><code>@PostMapping\npublic ResponseEntity&lt;ProjectResponse&gt; createProject(\n    @Valid @RequestBody CreateProjectRequest request\n) {\n    // Validation performed automatically before method execution\n}\n</code></pre></p> <p>Validation Annotations: <pre><code>public class CreateProjectRequest {\n    @NotBlank(message = \"Title is required\")\n    @Size(min = 3, max = 200, message = \"Title must be between 3 and 200 characters\")\n    private String title;\n\n    @Email(message = \"Email must be valid\")\n    private String email;\n\n    @Pattern(regexp = \"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$\",\n             message = \"Color must be a valid hex color code\")\n    private String color;\n}\n</code></pre></p>"},{"location":"architecture/error-handling/#validation-error-response_1","title":"Validation Error Response","text":"<p>Handler: <pre><code>@ExceptionHandler(MethodArgumentNotValidException.class)\npublic ResponseEntity&lt;ValidationErrorResponse&gt; handleValidationExceptions(\n    MethodArgumentNotValidException ex\n) {\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n        String fieldName = ((FieldError) error).getField();\n        String errorMessage = error.getDefaultMessage();\n        errors.put(fieldName, errorMessage);\n    });\n\n    log.warn(\"[EXCEPTION] Validation failed - errorCount={}, fields={}\",\n        errors.size(), errors.keySet());\n\n    ValidationErrorResponse errorResponse = new ValidationErrorResponse(\n        HttpStatus.BAD_REQUEST.value(),\n        \"Validation failed\",\n        LocalDateTime.now(),\n        errors\n    );\n    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(errorResponse);\n}\n</code></pre></p> <p>Example Response: <pre><code>{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"timestamp\": \"2025-11-19T14:23:45.123\",\n  \"errors\": {\n    \"title\": \"Title is required\",\n    \"description\": \"Description must be between 10 and 5000 characters\",\n    \"email\": \"Email must be valid\"\n  }\n}\n</code></pre></p>"},{"location":"architecture/error-handling/#7-logging-strategy","title":"7. Logging Strategy","text":""},{"location":"architecture/error-handling/#log-levels-by-exception-type","title":"Log Levels by Exception Type","text":"<p>WARN Level (client errors, expected scenarios): - <code>ResourceNotFoundException</code> - <code>InvalidCredentialsException</code> - <code>InvalidTokenException</code> - <code>TokenExpiredException</code> - <code>ExpiredJwtException</code> - <code>AuthenticationException</code> - <code>AccessDeniedException</code> - <code>IllegalArgumentException</code> - <code>FileStorageException</code> (validation errors) - <code>MethodArgumentNotValidException</code></p> <p>ERROR Level (server errors, unexpected scenarios): - <code>SignatureException</code> - <code>MalformedJwtException</code> - <code>UnsupportedJwtException</code> - <code>FileStorageException</code> (storage errors) - <code>EmailException</code> - <code>Exception</code> (catch-all)</p>"},{"location":"architecture/error-handling/#logging-format","title":"Logging Format","text":"<p>Pattern: <pre><code>[EXCEPTION] &lt;Description&gt; - &lt;contextual key-value pairs&gt;\n</code></pre></p> <p>Examples: <pre><code>[EXCEPTION] Resource not found - message=Project not found with id: 123\n[EXCEPTION] Invalid credentials - message=Invalid username or password\n[EXCEPTION] Validation failed - errorCount=3, fields=[title, description, email]\n[EXCEPTION] File validation error - message=File type not allowed\n[EXCEPTION] Email sending failed - message=SMTP server unavailable\n[EXCEPTION] Unexpected error - type=NullPointerException, message=...\n</code></pre></p>"},{"location":"architecture/error-handling/#defensive-copy-in-validationerrorresponse","title":"Defensive Copy in ValidationErrorResponse","text":"<p>Purpose: Prevent internal representation exposure</p> <p>Implementation: <pre><code>public Map&lt;String, String&gt; getErrors() {\n    return new HashMap&lt;&gt;(errors);  // Return defensive copy\n}\n</code></pre></p> <p>Benefit: External code cannot modify internal errors map</p>"},{"location":"architecture/error-handling/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - API endpoints</li> <li>Reference: Error Codes - Complete error code reference</li> <li>Development: Logging Conventions - Logging standards</li> </ul>"},{"location":"architecture/event-streaming/","title":"Event Streaming Architecture","text":"<p>Apache Kafka-based event streaming for real-time event processing and analytics.</p>"},{"location":"architecture/event-streaming/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Components</li> <li>Event Types</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"architecture/event-streaming/#overview","title":"Overview","text":"<p>The event streaming system provides real-time event processing for:</p> <ul> <li>Admin events - CRUD operations and authentication tracking</li> <li>Analytics events - Page views, entity views, user interactions</li> <li>Activity events - Session tracking and navigation patterns</li> </ul> <p>Key characteristics: - Kafka topics with 3 partitions each - Key-based partitioning for ordered processing per entity/session - Asynchronous non-blocking publishing - Prometheus metrics integration - Conditional activation via <code>kafka.enabled</code> property</p>"},{"location":"architecture/event-streaming/#architecture","title":"Architecture","text":"<pre><code>                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                          \u2502              Apache Kafka Cluster                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502                                                  \u2502\n\u2502   Service   \u2502           \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  (Admin,    \u2502\u2500\u2500publish\u2500\u2500\u2502\u2500\u2500\u2502  portfolio.admin.events [3 partitions]    \u2502\u2500\u2500\u2502\u2500\u2500\u25b6 AdminEventConsumer\n\u2502  Analytics, \u2502           \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  Activity)  \u2502           \u2502                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n       \u2502                  \u2502\u2500\u2500\u2502  portfolio.analytics.events [3 partitions] \u2502\u2500\u2500\u2502\u2500\u2500\u25b6 AnalyticsEventConsumer\n       \u2502                  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n       \u2502                  \u2502                                                  \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n                          \u2502\u2500\u2500\u2502  portfolio.activity.events [3 partitions]  \u2502\u2500\u2500\u2502\u2500\u2500\u25b6 ActivityEventConsumer\n                          \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/event-streaming/#topics","title":"Topics","text":"Topic Partitions Purpose Key <code>portfolio.admin.events</code> 3 Admin CRUD and auth events entityType <code>portfolio.analytics.events</code> 3 Page views, interactions sessionId <code>portfolio.activity.events</code> 3 Session and navigation sessionId"},{"location":"architecture/event-streaming/#components","title":"Components","text":""},{"location":"architecture/event-streaming/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>KafkaConfig</code> <code>config/</code> Topic definitions and configuration <code>KafkaEventProducer</code> <code>kafka/producer/</code> Event publishing implementation <code>NoOpKafkaEventProducer</code> <code>kafka/producer/</code> No-op producer when Kafka disabled <code>AdminEventConsumer</code> <code>kafka/consumer/</code> Admin event processor <code>AnalyticsEventConsumer</code> <code>kafka/consumer/</code> Analytics event processor <code>ActivityEventConsumer</code> <code>kafka/consumer/</code> Activity event processor"},{"location":"architecture/event-streaming/#event-classes","title":"Event Classes","text":"Class Location Purpose <code>BaseEvent</code> <code>kafka/event/</code> Base class with common fields <code>AdminActionEvent</code> <code>kafka/event/</code> Admin CRUD and auth events <code>AnalyticsEvent</code> <code>kafka/event/</code> Page views and interactions <code>ActivityEvent</code> <code>kafka/event/</code> Session and navigation events"},{"location":"architecture/event-streaming/#event-types","title":"Event Types","text":""},{"location":"architecture/event-streaming/#admin-action-events","title":"Admin Action Events","text":"<p>Published to <code>portfolio.admin.events</code> topic.</p> <p>Actions tracked: - CREATE, UPDATE, DELETE - PUBLISH, UNPUBLISH - FEATURE, UNFEATURE - LOGIN, LOGOUT, LOGIN_FAILED - PASSWORD_CHANGE</p> <p>Event structure: <pre><code>{\n  \"eventId\": \"uuid\",\n  \"eventType\": \"ADMIN_ACTION\",\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"source\": \"portfolio-backend\",\n  \"action\": \"CREATE\",\n  \"entityType\": \"PROJECT\",\n  \"entityId\": 123,\n  \"entityName\": \"My Project\",\n  \"username\": \"admin\",\n  \"ipAddress\": \"192.168.1.1\",\n  \"success\": true,\n  \"payload\": {}\n}\n</code></pre></p>"},{"location":"architecture/event-streaming/#analytics-events","title":"Analytics Events","text":"<p>Published to <code>portfolio.analytics.events</code> topic.</p> <p>Event types: | Type | Description | |------|-------------| | <code>PAGE_VIEW</code> | General page view | | <code>PROJECT_VIEW</code> | Project detail view | | <code>ARTICLE_VIEW</code> | Article/blog post view | | <code>CONTACT_SUBMIT</code> | Contact form submission | | <code>DOWNLOAD_CV</code> | CV download | | <code>EXTERNAL_LINK_CLICK</code> | External link click |</p> <p>Event structure: <pre><code>{\n  \"eventId\": \"uuid\",\n  \"eventType\": \"ANALYTICS\",\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"source\": \"portfolio-backend\",\n  \"analyticsType\": \"PROJECT_VIEW\",\n  \"path\": \"/projects/123\",\n  \"entityId\": 123,\n  \"sessionId\": \"session-uuid\",\n  \"ipAddress\": \"192.168.1.1\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"referrer\": \"https://google.com\"\n}\n</code></pre></p>"},{"location":"architecture/event-streaming/#activity-events","title":"Activity Events","text":"<p>Published to <code>portfolio.activity.events</code> topic.</p> <p>Event types: | Type | Description | |------|-------------| | <code>SESSION_START</code> | New session initiated | | <code>SESSION_END</code> | Session terminated | | <code>NAVIGATION</code> | Page navigation | | <code>SEARCH</code> | Search query |</p>"},{"location":"architecture/event-streaming/#configuration","title":"Configuration","text":""},{"location":"architecture/event-streaming/#application-properties","title":"Application Properties","text":"<pre><code># Kafka connection\nspring:\n  kafka:\n    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      acks: all\n      retries: 3\n    consumer:\n      group-id: portfolio-consumer-group\n      auto-offset-reset: earliest\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      properties:\n        spring.json.trusted.packages: com.emmanuelgabe.portfolio.kafka.event\n\n# Feature toggle\nkafka:\n  enabled: ${KAFKA_ENABLED:false}\n</code></pre>"},{"location":"architecture/event-streaming/#docker-compose","title":"Docker Compose","text":"<pre><code>services:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:7.5.0\n    container_name: portfolio-zookeeper\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    ports:\n      - \"2181:2181\"\n\n  kafka:\n    image: confluentinc/cp-kafka:7.5.0\n    container_name: portfolio-kafka\n    depends_on:\n      - zookeeper\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: \"true\"\n    ports:\n      - \"9092:9092\"\n    volumes:\n      - kafka_data:/var/lib/kafka/data\n</code></pre>"},{"location":"architecture/event-streaming/#feature-toggle","title":"Feature Toggle","text":"<p>The event streaming system can be disabled via configuration:</p> <pre><code>kafka:\n  enabled: false\n</code></pre> <p>When disabled: - <code>NoOpKafkaEventProducer</code> is activated - All publish operations become no-ops - Application continues without event streaming</p>"},{"location":"architecture/event-streaming/#publishing-pattern","title":"Publishing Pattern","text":"<p>Events are published asynchronously with callback handling:</p> <pre><code>CompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future =\n    kafkaTemplate.send(topic, key, event);\n\nfuture.whenComplete((result, ex) -&gt; {\n    if (ex != null) {\n        log.error(\"[KAFKA_PRODUCER] Failed - topic={}\", topic);\n        metrics.recordKafkaPublishFailure(topic, eventType);\n    } else {\n        log.debug(\"[KAFKA_PRODUCER] Success - partition={}, offset={}\",\n            result.getRecordMetadata().partition(),\n            result.getRecordMetadata().offset());\n        metrics.recordKafkaEventPublished(topic, eventType);\n    }\n});\n</code></pre>"},{"location":"architecture/event-streaming/#partitioning-strategy","title":"Partitioning Strategy","text":"<p>Events are partitioned by key for ordered processing:</p> Topic Key Ordering Guarantee Admin Events entityType Events for same entity type processed in order Analytics Events sessionId Events from same session processed in order Activity Events sessionId Session events processed in order"},{"location":"architecture/event-streaming/#related-documentation","title":"Related Documentation","text":"<ul> <li>Event Streaming Feature - Feature-level documentation</li> <li>Observability - Kafka monitoring</li> <li>Configuration Properties - Full configuration reference</li> </ul>"},{"location":"architecture/frontend-architecture/","title":"Frontend Architecture","text":""},{"location":"architecture/frontend-architecture/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Technology Stack</li> <li>Project Structure</li> <li>Routing Architecture</li> <li>Service Layer</li> <li>Guards and Interceptors</li> <li>Component Organization</li> <li>State Management</li> </ol>"},{"location":"architecture/frontend-architecture/#1-overview","title":"1. Overview","text":"<p>The frontend is built with Angular 18 using standalone components architecture.</p> <p>Key Architectural Decisions: - Standalone components (no NgModules) - Functional route guards (<code>CanActivateFn</code>) - HTTP interceptors for cross-cutting concerns - Service-based state management - Separation of public and admin areas - Token-based authentication with auto-refresh</p> <p>Application Type: Single Page Application (SPA)</p>"},{"location":"architecture/frontend-architecture/#2-technology-stack","title":"2. Technology Stack","text":""},{"location":"architecture/frontend-architecture/#core-framework","title":"Core Framework","text":"<p>Angular 18 LTS: - Standalone components - Signals (reactive primitives) - HttpClient for API communication - Router for navigation - RxJS for reactive programming</p>"},{"location":"architecture/frontend-architecture/#ui-framework","title":"UI Framework","text":"<p>Bootstrap 5.3: - Responsive grid system - Pre-built components - Bootstrap Icons for iconography - Custom SCSS styling</p>"},{"location":"architecture/frontend-architecture/#build-tools","title":"Build Tools","text":"<ul> <li>TypeScript 5.5 (strict mode)</li> <li>Vite (development server)</li> <li>ESLint + Prettier (code quality)</li> <li>Husky + lint-staged (pre-commit hooks)</li> </ul>"},{"location":"architecture/frontend-architecture/#3-project-structure","title":"3. Project Structure","text":"<pre><code>src/app/\n\u251c\u2500\u2500 components/          # Reusable UI components\n\u2502   \u251c\u2500\u2500 article-card/\n\u2502   \u251c\u2500\u2500 contact-form/\n\u2502   \u251c\u2500\u2500 footer/\n\u2502   \u251c\u2500\u2500 home/\n\u2502   \u251c\u2500\u2500 navbar/\n\u2502   \u251c\u2500\u2500 project-card/\n\u2502   \u251c\u2500\u2500 project-detail/\n\u2502   \u251c\u2500\u2500 project-list/\n\u2502   \u2514\u2500\u2500 shared/\n\u2502       \u251c\u2500\u2500 language-selector/\n\u2502       \u251c\u2500\u2500 search-input/\n\u2502       \u251c\u2500\u2500 session-expiry-modal/\n\u2502       \u251c\u2500\u2500 skeleton/\n\u2502       \u2514\u2500\u2500 visitors-chart/\n\u251c\u2500\u2500 pages/               # Page-level components\n\u2502   \u251c\u2500\u2500 admin/           # Admin area (protected)\n\u2502   \u2502   \u251c\u2500\u2500 admin-layout/\n\u2502   \u2502   \u251c\u2500\u2500 dashboard/\n\u2502   \u2502   \u251c\u2500\u2500 articles/\n\u2502   \u2502   \u251c\u2500\u2500 projects/\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 blog/\n\u2502   \u251c\u2500\u2500 contact/\n\u2502   \u251c\u2500\u2500 error/\n\u2502   \u2514\u2500\u2500 login/\n\u251c\u2500\u2500 services/            # Business logic and API\n\u251c\u2500\u2500 guards/              # Route protection\n\u251c\u2500\u2500 interceptors/        # HTTP middleware\n\u251c\u2500\u2500 models/              # TypeScript interfaces\n\u2514\u2500\u2500 app.routes.ts        # Route configuration\n</code></pre>"},{"location":"architecture/frontend-architecture/#file-naming-conventions","title":"File Naming Conventions","text":"<ul> <li><code>component-name.component.ts</code> - Component class</li> <li><code>component-name.component.html</code> - Template</li> <li><code>component-name.component.scss</code> - Styles</li> <li><code>service-name.service.ts</code> - Service class</li> </ul>"},{"location":"architecture/frontend-architecture/#4-routing-architecture","title":"4. Routing Architecture","text":""},{"location":"architecture/frontend-architecture/#public-vs-admin-routes","title":"Public vs Admin Routes","text":"<p>Public Routes (unauthenticated access): - <code>/</code> - Homepage with featured projects - <code>/projects</code> - Projects listing - <code>/projects/:id</code> - Project details - <code>/blog</code> - Blog articles listing - <code>/blog/:slug</code> - Article reading view - <code>/contact</code> - Contact form - <code>/login</code> - Authentication - <code>/privacy-policy</code> - Privacy policy (GDPR) - <code>/legal</code> - Legal notice (mentions legales) - <code>/error</code> - Dynamic error page (404, 500)</p> <p>Admin Routes (requires <code>ROLE_ADMIN</code>): - <code>/admin</code> - Dashboard - <code>/admin/projects</code> - Manage projects - <code>/admin/skills</code> - Manage skills - <code>/admin/tags</code> - Manage tags - <code>/admin/cv</code> - Upload/manage CV - <code>/admin/experiences</code> - Manage experiences - <code>/admin/articles</code> - Manage blog articles - <code>/admin/audit</code> - Audit logs viewer</p> <p>Demo Routes (no authentication required): - <code>/admindemo</code> - Demo admin with mock data (read-only)</p>"},{"location":"architecture/frontend-architecture/#nested-admin-routes","title":"Nested Admin Routes","text":"<p>Admin routes use nested routing with <code>AdminLayoutComponent</code> as shell: - Shared admin navigation and header - Single guard protection for all admin routes - Consistent admin UI layout</p>"},{"location":"architecture/frontend-architecture/#5-service-layer","title":"5. Service Layer","text":""},{"location":"architecture/frontend-architecture/#services-overview","title":"Services Overview","text":"Service Purpose <code>AuthService</code> Authentication management <code>TokenStorageService</code> JWT token storage <code>ProjectService</code> Project CRUD operations <code>ArticleService</code> Article management <code>ExperienceService</code> Experience management <code>SkillService</code> Skills management <code>TagService</code> Tag management <code>ContactService</code> Contact form submission <code>CvService</code> CV management <code>LoggerService</code> Centralized logging <code>SearchService</code> Full-text search (Elasticsearch) <code>BatchService</code> Batch jobs management <code>CircuitBreakerService</code> Circuit breaker status <code>ActiveUsersService</code> Real-time active users (SSE) <code>VisitorTrackerService</code> Visitor tracking <code>SeoService</code> Dynamic SEO management"},{"location":"architecture/frontend-architecture/#service-pattern","title":"Service Pattern","text":"<ul> <li><code>providedIn: 'root'</code> for singleton services</li> <li><code>inject()</code> function for dependency injection</li> <li>RxJS operators for error handling</li> <li>Centralized logging via <code>LoggerService</code></li> </ul>"},{"location":"architecture/frontend-architecture/#6-guards-and-interceptors","title":"6. Guards and Interceptors","text":""},{"location":"architecture/frontend-architecture/#route-guards","title":"Route Guards","text":""},{"location":"architecture/frontend-architecture/#authguard","title":"authGuard","text":"<p>Purpose: Protect routes requiring authentication</p> <p>Behavior: - Allows access if authenticated - Redirects to <code>/login</code> with <code>returnUrl</code> parameter if not</p>"},{"location":"architecture/frontend-architecture/#adminguard","title":"adminGuard","text":"<p>Purpose: Protect admin-only routes</p> <p>Behavior: - Allows access if authenticated AND has <code>ROLE_ADMIN</code> - Redirects to <code>/login</code> if not authenticated - Redirects to <code>/</code> (home) if authenticated but not admin</p>"},{"location":"architecture/frontend-architecture/#http-interceptors","title":"HTTP Interceptors","text":""},{"location":"architecture/frontend-architecture/#jwt-interceptor","title":"JWT Interceptor","text":"<p>Responsibilities: - Attach <code>Authorization: Bearer {token}</code> header - Handle 401 Unauthorized errors - Attempt automatic token refresh - Retry failed requests with new token</p> <p>Token Refresh Flow: <pre><code>1. Request fails with 401\n2. Attempt token refresh\n3. If refresh succeeds \u2192 Retry original request\n4. If refresh fails \u2192 Logout user, redirect to login\n</code></pre></p>"},{"location":"architecture/frontend-architecture/#retry-interceptor","title":"Retry Interceptor","text":"<p>Purpose: Retry failed HTTP requests with exponential backoff</p> <p>Configuration: - Max retries: 3 - Delay strategy: Exponential backoff - Retryable errors: 5xx server errors, network failures</p>"},{"location":"architecture/frontend-architecture/#logging-interceptor","title":"Logging Interceptor","text":"<p>Purpose: Log HTTP requests and responses for debugging</p>"},{"location":"architecture/frontend-architecture/#7-component-organization","title":"7. Component Organization","text":""},{"location":"architecture/frontend-architecture/#public-components","title":"Public Components","text":"<p>Reusable Components (<code>components/</code>): - <code>HomeComponent</code> - Homepage with featured projects - <code>NavbarComponent</code> - Navigation bar with auth state - <code>ProjectCardComponent</code> - Project preview card - <code>ArticleCardComponent</code> - Article preview card - <code>ContactFormComponent</code> - Contact form widget</p> <p>Page Components (<code>pages/</code>): - <code>LoginComponent</code> - Authentication page - <code>ContactComponent</code> - Contact page - <code>ArticleListComponent</code> - Blog listing - <code>ArticleDetailComponent</code> - Article reading</p>"},{"location":"architecture/frontend-architecture/#admin-components","title":"Admin Components","text":"<p>Admin Layout (<code>pages/admin/admin-layout/</code>): - Shell component for all admin pages - Shared admin navigation sidebar - Session monitoring</p> <p>Admin Pages Pattern: - List Component: Display, filter, delete operations - Form Component: Create and edit operations (reused for both)</p> Module List Component Form Component Projects <code>AdminProjectListComponent</code> <code>ProjectFormComponent</code> Skills <code>SkillListComponent</code> <code>SkillFormComponent</code> Tags <code>TagListComponent</code> <code>TagFormComponent</code> Articles <code>AdminArticleListComponent</code> <code>ArticleFormComponent</code> Experiences <code>ExperienceListComponent</code> <code>ExperienceFormComponent</code>"},{"location":"architecture/frontend-architecture/#8-state-management","title":"8. State Management","text":""},{"location":"architecture/frontend-architecture/#token-storage","title":"Token Storage","text":"<p>Service: <code>TokenStorageService</code></p> <p>Storage Mechanism: <code>localStorage</code></p> <p>Stored Data: - Access token (JWT) - Refresh token (UUID) - Token expiration timestamp</p>"},{"location":"architecture/frontend-architecture/#authentication-state","title":"Authentication State","text":"<p>Service: <code>AuthService</code></p> <p>State Methods: - <code>isAuthenticated()</code> - Check if user has valid token - <code>isAdmin()</code> - Check if user has ROLE_ADMIN - <code>getToken()</code> - Retrieve access token</p> <p>No Global State Library: Uses service-based state management instead of Redux/NgRx</p>"},{"location":"architecture/frontend-architecture/#9-directives","title":"9. Directives","text":"<p>Custom directives for reusable DOM behaviors.</p> Directive Purpose Usage <code>LazyImageDirective</code> Lazy load images when entering viewport Uses Intersection Observer API <code>AsyncImageDirective</code> Load processing images with retry Exponential backoff for images being processed <code>ClickOutsideDirective</code> Detect clicks outside element Close dropdowns, modals <code>DemoDisabledDirective</code> Disable controls in demo mode Prevent mutations in demo admin"},{"location":"architecture/frontend-architecture/#lazyimagedirective","title":"LazyImageDirective","text":"<p>Location: <code>directives/lazy-image.directive.ts</code></p> <p>Delays image loading until the element enters the viewport, improving initial page load performance.</p>"},{"location":"architecture/frontend-architecture/#asyncimagedirective","title":"AsyncImageDirective","text":"<p>Location: <code>directives/async-image.directive.ts</code></p> <p>Handles images that may still be processing on the backend (WebP conversion). Implements exponential backoff retry logic until the image is available.</p>"},{"location":"architecture/frontend-architecture/#10-skeleton-loaders","title":"10. Skeleton Loaders","text":"<p>Loading state components displaying shimmer animations while content loads.</p> Component Purpose <code>SkeletonArticleCardComponent</code> Article card loading state <code>SkeletonArticleDetailComponent</code> Article detail page loading state <code>SkeletonProjectCardComponent</code> Project card loading state <code>SkeletonProjectDetailComponent</code> Project detail page loading state <code>SkeletonSkillCardComponent</code> Skill card loading state <code>SkeletonTableRowComponent</code> Table row loading state (audit logs) <code>SkeletonTimelineItemComponent</code> Timeline item loading state (experiences) <p>Location: <code>components/shared/skeleton/</code></p> <p>Usage Pattern: <pre><code>@if (loading) {\n  &lt;app-skeleton-project-card /&gt;\n} @else {\n  &lt;app-project-card [project]=\"project\" /&gt;\n}\n</code></pre></p>"},{"location":"architecture/frontend-architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: JWT Implementation - JWT token system</li> <li>Security: Authentication - Auth architecture</li> <li>API Overview - Backend API endpoints</li> <li>Development: Setup - Development environment</li> </ul>"},{"location":"architecture/messaging/","title":"Messaging Architecture","text":"<p>RabbitMQ-based message queue infrastructure for asynchronous task processing.</p>"},{"location":"architecture/messaging/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Components</li> <li>Message Flow</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"architecture/messaging/#overview","title":"Overview","text":"<p>The messaging system provides asynchronous processing for:</p> <ul> <li>Email sending - Contact form submissions via SMTP</li> <li>Image processing - WebP conversion and thumbnail generation</li> <li>Audit logging - Non-blocking audit trail persistence</li> </ul> <p>Key characteristics: - Direct exchange routing for reliable message delivery - Dead Letter Queues (DLQ) for failed message handling - JSON message serialization with Jackson - Publisher confirms for delivery guarantees - Conditional activation via <code>rabbitmq.enabled</code> property</p>"},{"location":"architecture/messaging/#architecture","title":"Architecture","text":"<pre><code>                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502            RabbitMQ Broker              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502                                         \u2502\n\u2502   Service   \u2502               \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  (Contact,  \u2502\u2500\u2500publish\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u2500\u25b6\u2502   Exchange  \u2502\u2500\u2500\u2500\u25b6\u2502    Queue     \u2502\u2500\u2500\u2500\u2502\u2500\u2500\u2500\u25b6\u2502  Consumer   \u2502\n\u2502   Image,    \u2502               \u2502  \u2502  (Direct)   \u2502    \u2502              \u2502   \u2502    \u2502             \u2502\n\u2502   Audit)    \u2502               \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502         \u2502                  \u2502           \u2502\n                              \u2502         \u2502 (routing key)    \u2502 (DLQ)     \u2502\n                              \u2502         \u25bc                  \u25bc           \u2502\n                              \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502  \u2502     DLX     \u2502\u25c0\u2500\u2500\u2500\u2502   DL Queue   \u2502\u2500\u2500\u2500\u2502\u2500\u2500\u2500\u25b6\u2502  DL Handler \u2502\n                              \u2502  \u2502  Exchange   \u2502    \u2502              \u2502   \u2502    \u2502             \u2502\n                              \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/messaging/#exchange-types","title":"Exchange Types","text":"Exchange Type Purpose <code>portfolio.email.exchange</code> Direct Email message routing <code>portfolio.image.exchange</code> Direct Image processing routing <code>portfolio.audit.exchange</code> Direct Audit event routing <code>portfolio.dlx.exchange</code> Direct Dead letter routing"},{"location":"architecture/messaging/#components","title":"Components","text":""},{"location":"architecture/messaging/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>RabbitMQConfig</code> <code>messaging/config/</code> Exchange, queue, and binding definitions <code>RabbitMQProperties</code> <code>messaging/config/</code> Configuration properties mapping <code>RabbitMQEventPublisher</code> <code>messaging/publisher/</code> Message publishing implementation <code>NoOpEventPublisher</code> <code>messaging/publisher/</code> No-op publisher when RabbitMQ disabled <code>EmailConsumer</code> <code>messaging/consumer/</code> Email message consumer <code>ImageProcessingConsumer</code> <code>messaging/consumer/</code> Image processing consumer <code>AuditConsumer</code> <code>messaging/consumer/</code> Audit event consumer <code>DeadLetterConsumer</code> <code>messaging/consumer/</code> Failed message handler"},{"location":"architecture/messaging/#event-types","title":"Event Types","text":"Event Class Fields Email <code>EmailEvent</code> eventId, eventType, recipientEmail, subject, body Contact Email <code>ContactEmailEvent</code> Extends EmailEvent with senderName, senderEmail, message Image Processing <code>ImageProcessingEvent</code> eventId, processingType, tempFilePath, entityId, entityType Audit <code>AuditEvent</code> eventId, action, entityType, entityId, userId, username, oldValue, newValue"},{"location":"architecture/messaging/#message-flow","title":"Message Flow","text":""},{"location":"architecture/messaging/#email-flow","title":"Email Flow","text":"<pre><code>ContactController          EventPublisher           RabbitMQ              EmailConsumer\n      \u2502                         \u2502                      \u2502                       \u2502\n      \u2502\u2500\u2500submitContact()\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                      \u2502                       \u2502\n      \u2502                         \u2502\u2500\u2500publishEmailEvent()\u2500\u25b6                       \u2502\n      \u2502                         \u2502                      \u2502\u2500\u2500deliver to queue\u2500\u2500\u2500\u2500\u25b6\u2502\n      \u2502\u25c0\u2500\u2500202 Accepted\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502                       \u2502\n      \u2502                         \u2502                      \u2502                       \u2502\u2500\u2500sendEmail()\n      \u2502                         \u2502                      \u2502\u25c0\u2500\u2500ack\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n</code></pre>"},{"location":"architecture/messaging/#image-processing-flow","title":"Image Processing Flow","text":"<pre><code>ProjectController         EventPublisher           RabbitMQ         ImageProcessingConsumer\n      \u2502                         \u2502                      \u2502                       \u2502\n      \u2502\u2500\u2500uploadImage()\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                      \u2502                       \u2502\n      \u2502  (save temp file)       \u2502                      \u2502                       \u2502\n      \u2502                         \u2502\u2500\u2500publishImageEvent()\u2500\u25b6                       \u2502\n      \u2502                         \u2502                      \u2502\u2500\u2500deliver to queue\u2500\u2500\u2500\u2500\u25b6\u2502\n      \u2502\u25c0\u2500\u2500201 Created\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502                       \u2502\n      \u2502  (immediate response)   \u2502                      \u2502                       \u2502\u2500\u2500processImage()\n      \u2502                         \u2502                      \u2502                       \u2502  (convert to WebP)\n      \u2502                         \u2502                      \u2502                       \u2502  (generate thumbnail)\n      \u2502                         \u2502                      \u2502\u25c0\u2500\u2500ack\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n</code></pre>"},{"location":"architecture/messaging/#configuration","title":"Configuration","text":""},{"location":"architecture/messaging/#application-properties","title":"Application Properties","text":"<pre><code># RabbitMQ connection\nspring:\n  rabbitmq:\n    host: ${RABBITMQ_HOST:localhost}\n    port: ${RABBITMQ_PORT:5672}\n    username: ${RABBITMQ_USERNAME:guest}\n    password: ${RABBITMQ_PASSWORD:guest}\n    publisher-confirm-type: correlated\n    publisher-returns: true\n\n# Feature toggle\nrabbitmq:\n  enabled: ${RABBITMQ_ENABLED:true}\n\n  # Queue names\n  queues:\n    email: portfolio.email.queue\n    email-dlq: portfolio.email.dlq\n    image: portfolio.image.queue\n    image-dlq: portfolio.image.dlq\n    audit: portfolio.audit.queue\n    audit-dlq: portfolio.audit.dlq\n\n  # Exchange names\n  exchanges:\n    email: portfolio.email.exchange\n    image: portfolio.image.exchange\n    audit: portfolio.audit.exchange\n    dlx: portfolio.dlx.exchange\n\n  # Routing keys\n  routing-keys:\n    email: email.send\n    email-dlq: email.dlq\n    image: image.process\n    image-dlq: image.dlq\n    audit: audit.log\n    audit-dlq: audit.dlq\n</code></pre>"},{"location":"architecture/messaging/#queue-settings","title":"Queue Settings","text":"Queue TTL DLQ Routing Email 24 hours <code>email.dlq</code> Image 1 hour <code>image.dlq</code> Audit 24 hours <code>audit.dlq</code>"},{"location":"architecture/messaging/#docker-compose","title":"Docker Compose","text":"<pre><code>services:\n  rabbitmq:\n    image: rabbitmq:3.13-management\n    container_name: portfolio-rabbitmq\n    environment:\n      RABBITMQ_DEFAULT_USER: ${RABBITMQ_USERNAME:-guest}\n      RABBITMQ_DEFAULT_PASS: ${RABBITMQ_PASSWORD:-guest}\n    ports:\n      - \"5672:5672\"   # AMQP\n      - \"15672:15672\" # Management UI\n    volumes:\n      - rabbitmq_data:/var/lib/rabbitmq\n    healthcheck:\n      test: [\"CMD\", \"rabbitmq-diagnostics\", \"check_running\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n</code></pre>"},{"location":"architecture/messaging/#feature-toggle","title":"Feature Toggle","text":"<p>The messaging system can be disabled via configuration:</p> <pre><code>rabbitmq:\n  enabled: false\n</code></pre> <p>When disabled: - <code>NoOpEventPublisher</code> is activated instead of <code>RabbitMQEventPublisher</code> - All publish operations become no-ops - Application continues to function with synchronous fallbacks</p>"},{"location":"architecture/messaging/#publisher-confirms","title":"Publisher Confirms","text":"<p>Publisher confirms ensure message delivery:</p> <pre><code>template.setConfirmCallback((correlationData, ack, cause) -&gt; {\n    if (!ack) {\n        log.error(\"[RABBITMQ] Message not confirmed - cause={}\", cause);\n    }\n});\n\ntemplate.setReturnsCallback(returned -&gt; {\n    log.error(\"[RABBITMQ] Message returned - routingKey={}\", returned.getRoutingKey());\n});\n</code></pre>"},{"location":"architecture/messaging/#dead-letter-handling","title":"Dead Letter Handling","text":"<p>Failed messages are routed to DLQ:</p> <ol> <li>Message processing fails (exception thrown)</li> <li>Message is negatively acknowledged</li> <li>Broker routes to DLX with original routing key + <code>.dlq</code></li> <li><code>DeadLetterConsumer</code> logs and optionally retries</li> </ol>"},{"location":"architecture/messaging/#related-documentation","title":"Related Documentation","text":"<ul> <li>Messaging Feature - Feature-level documentation</li> <li>Observability - RabbitMQ monitoring</li> <li>Configuration Properties - Full configuration reference</li> </ul>"},{"location":"deployment/","title":"Deployment Documentation","text":"<p>Guides for CI/CD pipelines and deployment processes.</p>"},{"location":"deployment/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Contents</li> <li>Deployment Environments</li> <li>Quick Commands</li> <li>Deployment Workflow</li> </ol>"},{"location":"deployment/#1-overview","title":"1. Overview","text":"<p>This section documents deployment processes for the Portfolio application including CI/CD pipelines, Docker deployment, and environment-specific configurations.</p> <p>Deployment Stack: - GitHub Actions for CI/CD - Docker and Docker Compose for containerization - Nginx as reverse proxy - PostgreSQL, Redis, RabbitMQ, Elasticsearch as infrastructure services</p>"},{"location":"deployment/#2-contents","title":"2. Contents","text":"Document Description CI/CD Guide GitHub Actions workflows, pipeline stages, deployment process Local Testing Local deployment testing with Docker Compose"},{"location":"deployment/#3-deployment-environments","title":"3. Deployment Environments","text":""},{"location":"deployment/#31-environment-overview","title":"3.1 Environment Overview","text":"Environment Branch Trigger Purpose Local Any Manual Development and testing Staging <code>staging</code> Push to staging Pre-production validation Production <code>main</code> Push to main Live application"},{"location":"deployment/#32-environment-urls","title":"3.2 Environment URLs","text":"Environment Backend Frontend Local http://localhost:8080 http://localhost:4200 Staging https://staging-api.example.com https://staging.example.com Production https://api.example.com https://example.com"},{"location":"deployment/#33-docker-compose-files","title":"3.3 Docker Compose Files","text":"File Purpose <code>docker-compose.yml</code> Base configuration <code>docker-compose.local.yml</code> Local development overrides <code>docker-compose.staging.yml</code> Staging environment <code>docker-compose.prod.yml</code> Production environment <code>docker-compose.monitoring.yml</code> Observability stack"},{"location":"deployment/#4-quick-commands","title":"4. Quick Commands","text":""},{"location":"deployment/#41-local-deployment","title":"4.1 Local Deployment","text":"<pre><code># Start all services\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n\n# Start with monitoring stack\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml \\\n  -f docker-compose.monitoring.yml up --build -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop all services\ndocker-compose down\n\n# Clean up volumes\ndocker-compose down -v\n</code></pre>"},{"location":"deployment/#42-staging-deployment","title":"4.2 Staging Deployment","text":"<pre><code># Build and deploy staging\ndocker-compose -f docker-compose.yml -f docker-compose.staging.yml up --build -d\n\n# View staging logs\ndocker-compose -f docker-compose.yml -f docker-compose.staging.yml logs -f\n</code></pre>"},{"location":"deployment/#43-production-deployment","title":"4.3 Production Deployment","text":"<pre><code># Build production images\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml build\n\n# Deploy production\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d\n\n# Health check\ncurl https://api.example.com/actuator/health\n</code></pre>"},{"location":"deployment/#5-deployment-workflow","title":"5. Deployment Workflow","text":""},{"location":"deployment/#51-cicd-pipeline-stages","title":"5.1 CI/CD Pipeline Stages","text":"<pre><code>1. Build\n   - Compile backend (Gradle)\n   - Build frontend (npm)\n   - Run Checkstyle and SpotBugs\n\n2. Test\n   - Backend unit tests\n   - Frontend unit tests\n   - Code coverage verification\n\n3. Docker Build\n   - Build backend image\n   - Build frontend image\n   - Push to registry\n\n4. Deploy\n   - Pull images on target server\n   - Run docker-compose\n   - Health check verification\n</code></pre>"},{"location":"deployment/#52-deployment-verification","title":"5.2 Deployment Verification","text":"<p>After deployment, verify: - Health endpoints respond with <code>UP</code> - Frontend loads correctly - API endpoints return expected data - Monitoring dashboards show metrics</p>"},{"location":"deployment/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development Guide - Development setup</li> <li>Reference: Environments - Environment configuration</li> <li>Operations - Health checks and monitoring</li> <li>Operations: Observability - Monitoring dashboards</li> <li>Reference: Scripts Organization - Deployment scripts</li> </ul>"},{"location":"deployment/ci-cd/","title":"CI/CD Deployment Guide","text":""},{"location":"deployment/ci-cd/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Pipeline Architecture</li> <li>GitHub Secrets Configuration</li> <li>Deployment Procedures</li> <li>Useful Commands</li> </ol>"},{"location":"deployment/ci-cd/#1-overview","title":"1. Overview","text":"<p>CI/CD infrastructure using GitHub Actions with self-hosted runner to automate build, test, and deployment processes.</p>"},{"location":"deployment/ci-cd/#11-supported-environments","title":"1.1 Supported Environments","text":"Environment Branch Port Database Deployment Production <code>main</code> 80 <code>portfolio_prod</code> Automatic Staging <code>staging</code> 3000 <code>portfolio_staging</code> Automatic"},{"location":"deployment/ci-cd/#2-pipeline-architecture","title":"2. Pipeline Architecture","text":""},{"location":"deployment/ci-cd/#21-active-workflows","title":"2.1 Active Workflows","text":"<p>The CI/CD pipeline consists of five automated workflows:</p> Workflow File Trigger Purpose CI/CD Pipeline <code>ci-cd.yml</code> Push/PR on main/staging/dev/** Build and deploy to environments Backend Tests <code>backend-tests.yml</code> Push/PR on backend changes Run Spring Boot unit tests Frontend Tests <code>frontend-tests.yml</code> Push/PR on frontend changes Run Angular unit tests Documentation Quality <code>vale-docs.yml</code> Push/PR on <code>.md</code> changes Validate documentation style Health Check <code>health-check.yml</code> Push/PR on main/develop Full stack integration tests"},{"location":"deployment/ci-cd/#22-main-cicd-pipeline","title":"2.2 Main CI/CD Pipeline","text":"<p>Primary deployment workflow that builds and deploys the application to production and staging environments.</p> <p>Build-and-Test Job: 1. Checkout code with full Git history 2. Extract version from Git tags using <code>git describe</code> 3. Set up JDK 21 with Gradle caching 4. Grant execute permission for gradlew 5. Build backend JAR with <code>./gradlew clean bootJar -x test</code> 6. Output version for deployment job</p> <p>Deploy Job: 1. Set deployment variables - Determine environment (prod/stage) and paths 2. Clean deployment directory - Remove old directory to avoid permission conflicts 3. Copy artifacts - Copy source code, .git, nginx config, and Docker Compose files 4. Cleanup old containers - Stop and remove existing containers for the environment 5. Backup database - Create PostgreSQL dump before deployment (production only) 6. Deploy with Docker Compose - Build and start all containers in detached mode 7. Wait for healthy status - Monitor container health (max 5 min, check every 5s) 8. Run smoke tests - Validate frontend, backend, database, and full stack integration 9. Tag Docker images - Tag with version, latest, and environment-specific tags 10. Cleanup old images - Prune dangling images and unused volumes 11. Verify deployment - Display running containers and health status 12. Deployment summary - Output environment, version, branch, and commit info</p> <p>Configuration: - Triggers:   - Push to <code>main</code> \u2192 Production deployment   - Push to <code>staging</code> \u2192 Staging deployment   - Push to <code>develop</code> \u2192 Build only (no deployment)   - Push to <code>dev/**</code> \u2192 Build only (no deployment)   - Pull requests to <code>main</code> or <code>staging</code> \u2192 Build only - Runner: self-hosted - Java Version: 21 (Temurin distribution) - Environments: production (main branch), staging (staging branch) - Blocking: Yes - deployment fails if any step fails</p> <p>Critical Safety Features: - Automatic database backup before deployment (production only, keeps last 5) - Automatic container cleanup before deployment - Real-time health monitoring with timeout - Comprehensive smoke tests (4 tests) - Automatic logs display on failure - Image versioning with multiple tags</p>"},{"location":"deployment/ci-cd/#23-backend-tests-workflow","title":"2.3 Backend Tests Workflow","text":"<p>Test Job: - Checkout source code - Set up JDK 21 with Gradle caching - Run JUnit tests with <code>./gradlew test</code> - Generate test reports and coverage - Publish test results to GitHub</p> <p>Build Job: - Build application with <code>./gradlew build -x test</code> - Verify compilation without executing tests</p> <p>Configuration: - Trigger: Push/PR to <code>main</code>, <code>develop</code>, <code>dev</code> with backend changes - Java Version: 21 (Temurin distribution) - Test Framework: JUnit 5 + Spring Boot Test - Blocking: Yes - tests must pass to merge</p>"},{"location":"deployment/ci-cd/#24-frontend-tests-workflow","title":"2.4 Frontend Tests Workflow","text":"<p>Test Job: - Checkout source code - Set up Node.js 20 with npm caching - Install dependencies with <code>npm ci</code> - Run Karma tests with ChromeHeadless - Generate code coverage reports - Upload coverage artifacts</p> <p>Lint Job: - Run ESLint (if configured in package.json) - Report code quality issues</p> <p>Build Job: - Build production bundle with <code>npm run build --configuration production</code> - Verify build output in <code>dist/</code> folder</p> <p>Configuration: - Trigger: Push/PR to <code>main</code>, <code>develop</code>, <code>dev</code> with frontend changes - Node Version: 20 - Test Framework: Karma + Jasmine - Browser: ChromeHeadless - Blocking: Yes - tests must pass to merge</p>"},{"location":"deployment/ci-cd/#25-documentation-quality-workflow","title":"2.5 Documentation Quality Workflow","text":"<p>Vale Linting Job: - Download Google Developer Documentation Style Guide - Run Vale on all <code>.md</code> files - Annotate PRs with style suggestions - Upload validation results</p> <p>Configuration: - Trigger: Push/PR with documentation changes - Style Guide: Google Developer Documentation - Blocking: No - warnings don't block merge</p>"},{"location":"deployment/ci-cd/#26-health-check-workflow","title":"2.6 Health Check Workflow","text":"<p>Health Check Job: - Build Docker containers using <code>docker-compose.local.yml</code> (development environment) - Start full stack (frontend with <code>ng serve</code>, backend, database, nginx) - Wait for all containers to be healthy - Test individual endpoints - Test full health chain - Show logs on failure</p> <p>Configuration: - Trigger: Push/PR to <code>develop</code> only - Timeout: 15 minutes - Blocking: Yes - all services must be healthy - Environment: Local development setup (not production/staging)</p> <p>Note: This workflow tests the development environment only and is NOT triggered on <code>staging</code> or <code>main</code> branches. Production and staging deployments have their own health checks integrated in the main CI/CD Pipeline workflow. The frontend health check is disabled in local dev mode because the Angular dev server (<code>ng serve</code>) takes too long to start reliably in CI environments.</p>"},{"location":"deployment/ci-cd/#3-github-secrets-configuration","title":"3. GitHub Secrets Configuration","text":""},{"location":"deployment/ci-cd/#32-required-github-secrets","title":"3.2 Required GitHub Secrets","text":"Secret Description Used For <code>DEPLOY_BASE_PATH</code> Base deployment path on server CI/CD only (not in .env) <code>DB_PASSWORD</code> PostgreSQL password Passed to .env as <code>DB_USER_PASSWORD</code> <code>MAIL_USERNAME</code> SMTP email address Passed to .env <code>MAIL_APP_PASSWORD</code> SMTP application password Passed to .env"},{"location":"deployment/ci-cd/#4-deployment-procedures","title":"4. Deployment Procedures","text":""},{"location":"deployment/ci-cd/#41-production-deployment","title":"4.1 Production Deployment","text":"<p>Standard Process: <pre><code>git checkout -b feature/new-feature\ngit add .\ngit commit -m \"feat: add new feature\"\ngit push origin feature/new-feature\n# Create Pull Request to main branch \u2192 Review and merge\n</code></pre></p>"},{"location":"deployment/ci-cd/#42-staging-deployment","title":"4.2 Staging Deployment","text":"<pre><code># Option 1: Direct push\ngit checkout staging\ngit merge feature/new-feature\ngit push origin staging\n\n# Option 2: Pull Request to staging\n</code></pre>"},{"location":"deployment/ci-cd/#43-development-branch","title":"4.3 Development Branch","text":"<pre><code>git checkout -b dev/experimental-feature\ngit push origin dev/experimental-feature\n# Build job executes, deploy job skipped\n</code></pre>"},{"location":"deployment/ci-cd/#5-useful-commands","title":"5. Useful Commands","text":""},{"location":"deployment/ci-cd/#51-running-tests-locally","title":"5.1 Running Tests Locally","text":"<p>Backend Tests: <pre><code>cd portfolio-backend\n./gradlew test                    # Run all tests\n./gradlew test --tests HealthControllerTest  # Run specific test\n./gradlew test jacocoTestReport   # Generate coverage report\n</code></pre></p> <p>Frontend Tests: <pre><code>cd portfolio-frontend\nnpm test                          # Run tests in watch mode\nnpm test -- --watch=false         # Run once and exit\nnpm test -- --code-coverage       # Generate coverage\nnpm test -- --browsers=ChromeHeadlessCI  # Headless mode (like CI)\n</code></pre></p> <p>Documentation Validation: <pre><code>./scripts/validate-docs.sh        # Validate all documentation\n./scripts/validate-docs.sh docs/  # Validate specific directory\n</code></pre></p>"},{"location":"deployment/ci-cd/#52-container-management","title":"5.2 Container Management","text":"<pre><code>docker ps -a\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml down\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d\ndocker logs -f portfolio-backend-prod\ndocker exec -it portfolio-backend-prod bash\n</code></pre>"},{"location":"deployment/ci-cd/#53-viewing-cicd-results","title":"5.3 Viewing CI/CD Results","text":"<p>GitHub Actions: - Navigate to repository \u2192 \"Actions\" tab - Select workflow run to view details - Download test artifacts for detailed reports</p> <p>Test Reports Location: - Backend: <code>portfolio-backend/build/reports/tests/test/index.html</code> - Frontend: <code>portfolio-frontend/coverage/index.html</code></p> <p>Logs: <pre><code># View GitHub Actions runner logs\nsudo journalctl -u actions.runner.* -f\n</code></pre></p>"},{"location":"deployment/ci-cd/#54-image-management","title":"5.4 Image Management","text":"<pre><code>docker images | grep portfolio\ndocker rmi portfolio-backend:v1.0.0\ndocker image prune -a\ndocker system df\n</code></pre>"},{"location":"deployment/ci-cd/#55-volume-management","title":"5.5 Volume Management","text":"<pre><code>docker volume ls | grep portfolio\ndocker volume inspect portfolio_postgres_data_prod\n</code></pre>"},{"location":"deployment/ci-cd/#56-monitoring","title":"5.6 Monitoring","text":"<pre><code>docker stats\ndocker ps --format \"table {{.Names}}\\t{{.Status}}\"\ncurl http://localhost/health\ncurl http://localhost:3000/health\n</code></pre>"},{"location":"deployment/ci-cd/#57-database-backup-recovery","title":"5.7 Database Backup &amp; Recovery","text":"<p>Automatic Backups (Production Only): - Created automatically before each production deployment - Location: <code>$DEPLOY_BASE_PATH/backups/</code> - Naming: <code>portfolio_prod_YYYYMMDD_HHMMSS.sql</code> - Retention: Last 5 backups kept</p> <p>Manual Backup: <pre><code>docker exec portfolio-db-prod pg_dump -U postgres_app portfolio_prod &gt; backup.sql\n</code></pre></p> <p>Restore from Backup: <pre><code># Stop backend to prevent connections\ndocker stop portfolio-backend-prod\n\n# Restore database\ndocker exec -i portfolio-db-prod psql -U postgres_app portfolio_prod &lt; /path/to/backup.sql\n\n# Restart backend\ndocker start portfolio-backend-prod\n</code></pre></p> <p>List Available Backups: <pre><code>ls -lt $DEPLOY_BASE_PATH/backups/portfolio_prod_*.sql\n</code></pre></p>"},{"location":"deployment/local-testing/","title":"Local Testing Guide","text":""},{"location":"deployment/local-testing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Prerequisites</li> <li>Quick Start</li> <li>Testing Procedures</li> <li>Access URLs</li> <li>Development Workflow</li> <li>Performance Testing</li> <li>Next Steps</li> </ol>"},{"location":"deployment/local-testing/#1-overview","title":"1. Overview","text":"<p>Guide for testing the portfolio application locally before deployment. This ensures that all components work correctly in isolation and integration.</p>"},{"location":"deployment/local-testing/#11-test-environments","title":"1.1 Test Environments","text":"Environment Purpose Port Database Local Development testing 8081 portfolio_local (5435) Staging Pre-production testing 3000 portfolio_staging (5434) Production Production testing 80 portfolio_prod (5432)"},{"location":"deployment/local-testing/#2-prerequisites","title":"2. Prerequisites","text":""},{"location":"deployment/local-testing/#21-required-software","title":"2.1 Required Software","text":"<ul> <li>Docker 24.0+ and Docker Compose 2.20+</li> <li>Git 2.40+</li> <li>Make (optional but recommended)</li> </ul>"},{"location":"deployment/local-testing/#22-environment-variables","title":"2.2 Environment Variables","text":"<p>Create a <code>.env</code> file in the project root:</p> <pre><code>DB_USER_PASSWORD=your_secure_password\n</code></pre>"},{"location":"deployment/local-testing/#3-quick-start","title":"3. Quick Start","text":""},{"location":"deployment/local-testing/#31-using-make-recommended","title":"3.1 Using Make (Recommended)","text":"<pre><code># Validate and test local environment\nmake validate-local\n\n# Start local environment\nmake test-local\n\n# View logs\nmake logs-local\n\n# Clean up\nmake clean-local\n</code></pre>"},{"location":"deployment/local-testing/#32-using-docker-compose-directly","title":"3.2 Using Docker Compose Directly","text":"<pre><code># Start local environment\nDB_USER_PASSWORD=test docker-compose -p portfolio-local \\\n  -f docker-compose.yml -f docker-compose.local.yml up --build -d\n\n# View logs\ndocker-compose -p portfolio-local \\\n  -f docker-compose.yml -f docker-compose.local.yml logs -f\n\n# Stop and clean up\ndocker-compose -p portfolio-local \\\n  -f docker-compose.yml -f docker-compose.local.yml down -v\n</code></pre>"},{"location":"deployment/local-testing/#4-testing-procedures","title":"4. Testing Procedures","text":""},{"location":"deployment/local-testing/#41-manual-health-checks","title":"4.1 Manual Health Checks","text":"<pre><code># Run health check script\nchmod +x scripts/testing/test-health.sh\n./scripts/testing/test-health.sh local\n</code></pre>"},{"location":"deployment/local-testing/#42-individual-service-tests","title":"4.2 Individual Service Tests","text":"<p>Test Frontend: <pre><code>curl http://localhost:4200/health.json\n</code></pre></p> <p>Test Backend: <pre><code>curl http://localhost:8080/actuator/health\ncurl http://localhost:8080/api/health/ping\ncurl http://localhost:8080/api/health/db\n</code></pre></p> <p>Test Nginx: <pre><code>curl http://localhost:8081/health\ncurl http://localhost:8081/health/full\n</code></pre></p> <p>Test Database: <pre><code>docker exec portfolio-db-local psql -U postgres_app -d portfolio_local -c \"SELECT 1;\"\n</code></pre></p> <p>Test Monitoring (if enabled): <pre><code># Test Grafana\ncurl http://localhost:3001/api/health\n\n# Test RabbitMQ\ncurl -u guest:guest http://localhost:15672/api/overview\n</code></pre></p>"},{"location":"deployment/local-testing/#43-full-stack-validation","title":"4.3 Full Stack Validation","text":"<p>Run the complete validation script:</p> <pre><code>chmod +x scripts/deployment/validate-deployment.sh\n./scripts/deployment/validate-deployment.sh local\n</code></pre> <p>This script performs: 1. Docker Compose configuration validation 2. Container health monitoring 3. Comprehensive smoke tests 4. Database connectivity verification</p>"},{"location":"deployment/local-testing/#5-access-urls","title":"5. Access URLs","text":""},{"location":"deployment/local-testing/#51-local-environment","title":"5.1 Local Environment","text":"Service URL Frontend (Angular) http://localhost:4200 Backend API http://localhost:8080 Backend Swagger UI http://localhost:8080/swagger-ui.html Backend Actuator http://localhost:8080/actuator Nginx (Full Stack) http://localhost:8081 PostgreSQL localhost:5435 Grafana http://localhost:3001 Prometheus http://localhost:9090 RabbitMQ Management http://localhost:15672"},{"location":"deployment/local-testing/#52-database-access","title":"5.2 Database Access","text":"<pre><code># Using psql\ndocker exec -it portfolio-db-local psql -U postgres_app -d portfolio_local\n\n# Using pgAdmin or DBeaver\nHost: localhost\nPort: 5435\nDatabase: portfolio_local\nUsername: postgres_app\nPassword: (from .env file)\n</code></pre>"},{"location":"deployment/local-testing/#6-development-workflow","title":"6. Development Workflow","text":""},{"location":"deployment/local-testing/#61-recommended-testing-flow","title":"6.1 Recommended Testing Flow","text":"<ol> <li>Make code changes</li> <li>Run validation: <code>make validate-local</code></li> <li>If validation passes, commit changes</li> <li>Test staging: <code>make validate-staging</code></li> <li>If staging passes, merge to staging branch</li> <li>After staging deployment, test production locally: <code>make validate-prod</code></li> </ol>"},{"location":"deployment/local-testing/#62-continuous-integration","title":"6.2 Continuous Integration","text":"<p>The <code>health-check.yml</code> workflow runs these same tests on every push to develop:</p> <pre><code>- Builds all containers\n- Waits for health checks\n- Runs test-health.sh\n- Validates all endpoints\n</code></pre>"},{"location":"deployment/local-testing/#7-performance-testing","title":"7. Performance Testing","text":""},{"location":"deployment/local-testing/#71-load-testing-optional","title":"7.1 Load Testing (Optional)","text":"<p>Using Apache Bench:</p> <pre><code># Test backend endpoint\nab -n 1000 -c 10 http://localhost:8080/api/health/ping\n\n# Test frontend\nab -n 1000 -c 10 http://localhost:8081/\n</code></pre>"},{"location":"deployment/local-testing/#72-resource-monitoring","title":"7.2 Resource Monitoring","text":"<pre><code># Monitor resource usage\ndocker stats portfolio-frontend-local portfolio-backend-local portfolio-db-local\n</code></pre>"},{"location":"deployment/local-testing/#8-next-steps","title":"8. Next Steps","text":"<p>After successful local testing:</p> <ol> <li>Commit changes to feature branch</li> <li>Open PR to develop</li> <li>CI/CD will run automated tests</li> <li>Merge to staging for staging deployment</li> <li>Test staging environment</li> <li>Merge to main for production deployment</li> </ol>"},{"location":"development/","title":"Development Guide","text":"<p>Documentation for setting up the development environment and following project conventions.</p>"},{"location":"development/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Contents</li> <li>Quick Start</li> <li>Development Workflow</li> <li>Code Quality</li> </ol>"},{"location":"development/#1-overview","title":"1. Overview","text":"<p>This section documents development processes, conventions, and best practices for the Portfolio application.</p> <p>Development Stack: - Backend: Java 21, Spring Boot 3.4+, Gradle - Frontend: Angular 18, TypeScript 5.5, npm - Database: PostgreSQL 17, Flyway migrations - Containers: Docker, Docker Compose</p>"},{"location":"development/#2-contents","title":"2. Contents","text":"Document Description Setup Guide Development environment setup, prerequisites, IDE configuration Testing Guide Testing strategy, conventions, execution commands, coverage Code Quality Checkstyle, SpotBugs, JaCoCo configuration Logging Conventions Log format, levels, best practices Logging Categories Context categories and examples Git Workflow Branch strategy, commit conventions, semantic versioning"},{"location":"development/#3-quick-start","title":"3. Quick Start","text":""},{"location":"development/#31-prerequisites","title":"3.1 Prerequisites","text":"<ul> <li>Java 21 LTS</li> <li>Node.js 20 LTS</li> <li>Docker Desktop</li> <li>PostgreSQL 17+ (or use Docker)</li> </ul>"},{"location":"development/#32-backend-setup","title":"3.2 Backend Setup","text":"<pre><code>cd portfolio-backend\n\n# Build\n./gradlew build\n\n# Run\n./gradlew bootRun\n\n# Run tests\n./gradlew test\n</code></pre>"},{"location":"development/#33-frontend-setup","title":"3.3 Frontend Setup","text":"<pre><code>cd portfolio-frontend\n\n# Install dependencies\nnpm install\n\n# Start development server\nnpm start\n\n# Run tests\nnpm test -- --watch=false --browsers=ChromeHeadlessCI\n</code></pre>"},{"location":"development/#34-docker-development","title":"3.4 Docker Development","text":"<pre><code># Start all services\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n\n# View logs\ndocker-compose logs -f backend\n</code></pre>"},{"location":"development/#4-development-workflow","title":"4. Development Workflow","text":""},{"location":"development/#41-branch-strategy","title":"4.1 Branch Strategy","text":"Branch Purpose <code>main</code> Production-ready code <code>staging</code> Pre-production testing <code>dev</code> Active development <code>feature/*</code> New features <code>fix/*</code> Bug fixes"},{"location":"development/#42-commit-conventions","title":"4.2 Commit Conventions","text":"<p>Format: <code>type(scope): description</code></p> <p>Types: - <code>feat</code>: New feature - <code>fix</code>: Bug fix - <code>docs</code>: Documentation - <code>refactor</code>: Code refactoring - <code>test</code>: Tests - <code>chore</code>: Maintenance</p> <p>Example: <code>feat(articles): add markdown rendering</code></p>"},{"location":"development/#43-pull-request-process","title":"4.3 Pull Request Process","text":"<ol> <li>Create feature branch from <code>dev</code></li> <li>Implement changes</li> <li>Run tests and quality checks</li> <li>Create PR to <code>dev</code></li> <li>Code review</li> <li>Merge after approval</li> </ol>"},{"location":"development/#5-code-quality","title":"5. Code Quality","text":""},{"location":"development/#51-backend-checks","title":"5.1 Backend Checks","text":"<pre><code># Run all quality checks\n./gradlew check\n\n# Individual checks\n./gradlew checkstyleMain    # Code style\n./gradlew spotbugsMain      # Static analysis\n./gradlew test jacocoTestReport  # Coverage\n</code></pre>"},{"location":"development/#52-frontend-checks","title":"5.2 Frontend Checks","text":"<pre><code># Lint\nnpm run lint\n\n# Format\nnpm run format\n\n# Test\nnpm test\n</code></pre>"},{"location":"development/#53-pre-commit-verification","title":"5.3 Pre-commit Verification","text":"<pre><code># Backend\n./gradlew check\n\n# Frontend\nnpm run lint &amp;&amp; npm test -- --watch=false\n</code></pre>"},{"location":"development/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture - System architecture</li> <li>API Reference - API documentation</li> <li>Features - Feature documentation</li> <li>Deployment - CI/CD and deployment</li> <li>Operations: Observability - Monitoring stack</li> </ul>"},{"location":"development/articles-pagination-cleanup/","title":"Articles - Pagination &amp; Image Cleanup","text":""},{"location":"development/articles-pagination-cleanup/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Pagination Implementation</li> <li>Automatic Image Cleanup</li> <li>Configuration</li> </ol>"},{"location":"development/articles-pagination-cleanup/#overview","title":"Overview","text":"<p>The Article feature provides a complete blog system with: - Markdown content with GFM extensions (tables, strikethrough, task lists, autolinks) - Draft/Publish workflow - Tag categorization - Image uploads with automatic WebP optimization - Pagination support - Automatic cleanup of orphaned images on article deletion</p> <p>Technology Stack: - Backend: Spring Boot 3.x, Spring Data JPA - Markdown: Commonmark-java with GFM extensions - Image Processing: Thumbnailator library - Database: PostgreSQL</p>"},{"location":"development/articles-pagination-cleanup/#pagination-implementation","title":"Pagination Implementation","text":""},{"location":"development/articles-pagination-cleanup/#repository-layer","title":"Repository Layer","text":"<p>ArticleRepository.java: <pre><code>@Query(\"SELECT a FROM Article a WHERE a.draft = false AND a.publishedAt &lt;= :now ORDER BY a.publishedAt DESC\")\nPage&lt;Article&gt; findPublished(@Param(\"now\") LocalDateTime now, Pageable pageable);\n\nPage&lt;Article&gt; findAllByOrderByPublishedAtDesc(Pageable pageable);\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#service-layer","title":"Service Layer","text":"<p>ArticleService.java: <pre><code>Page&lt;ArticleResponse&gt; getAllPublishedPaginated(Pageable pageable);\nPage&lt;ArticleResponse&gt; getAllArticlesPaginated(Pageable pageable);\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#controller-endpoints","title":"Controller Endpoints","text":"<p>ArticleController.java:</p> <ol> <li>GET <code>/api/articles/paginated</code> - Public endpoint</li> <li>Query params: <code>page</code> (default: 0), <code>size</code> (default: 10), <code>sort</code> (default: publishedAt,desc)</li> <li> <p>Returns: <code>Page&lt;ArticleResponse&gt;</code> with published articles only</p> </li> <li> <p>GET <code>/api/articles/admin/paginated</code> - Admin endpoint</p> </li> <li>Same pagination parameters</li> <li>Returns: All articles (drafts + published)</li> </ol>"},{"location":"development/articles-pagination-cleanup/#response-format","title":"Response Format","text":"<pre><code>{\n  \"content\": [/* array of ArticleResponse */],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 10,\n    \"offset\": 0\n  },\n  \"totalPages\": 5,\n  \"totalElements\": 42,\n  \"first\": true,\n  \"last\": false,\n  \"numberOfElements\": 10\n}\n</code></pre>"},{"location":"development/articles-pagination-cleanup/#usage-examples","title":"Usage Examples","text":"<pre><code># Public: Get first page of published articles\nGET /api/articles/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n\n# Admin: Get all articles with pagination\nGET /api/articles/admin/paginated?page=0&amp;size=20&amp;sort=updatedAt,desc\n</code></pre>"},{"location":"development/articles-pagination-cleanup/#automatic-image-cleanup","title":"Automatic Image Cleanup","text":""},{"location":"development/articles-pagination-cleanup/#entity-listener","title":"Entity Listener","text":"<p>ArticleEntityListener.java: <pre><code>@Component\n@Slf4j\npublic class ArticleEntityListener {\n\n    @Autowired\n    public void setImageService(@Lazy ImageService imageService) {\n        this.imageService = imageService;\n    }\n\n    @PreRemove\n    public void preRemove(Article article) {\n        for (ArticleImage image : article.getImages()) {\n            imageService.deleteArticleImage(image.getImageUrl());\n        }\n    }\n}\n</code></pre></p> <p>Article.java: <pre><code>@Entity\n@EntityListeners(ArticleEntityListener.class)\npublic class Article {\n    // Entity fields\n}\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#how-it-works","title":"How It Works","text":"<p>When an article is deleted: 1. JPA triggers <code>@PreRemove</code> callback before database deletion 2. Listener iterates through all associated <code>ArticleImage</code> entities 3. Calls <code>ImageService.deleteArticleImage()</code> to remove files from filesystem 4. Both optimized image and thumbnail files are deleted 5. Database cascade delete removes <code>ArticleImage</code> records 6. Article entity is finally deleted from database</p> <p>Note: Uses <code>@Lazy</code> injection to avoid circular dependency during JPA entity initialization.</p>"},{"location":"development/articles-pagination-cleanup/#files-deleted","title":"Files Deleted","text":"<ul> <li>Optimized image: <code>article_{articleId}_image_{imageId}.webp</code></li> <li>Thumbnail: <code>article_{articleId}_image_{imageId}_thumb.webp</code></li> </ul>"},{"location":"development/articles-pagination-cleanup/#configuration","title":"Configuration","text":""},{"location":"development/articles-pagination-cleanup/#pagination-defaults","title":"Pagination Defaults","text":"<p>ArticleController.java: <pre><code>@PageableDefault(size = 10, sort = \"publishedAt\", direction = Sort.Direction.DESC)\n</code></pre></p> <p>Default Values: - Page size: 10 articles - Page number: 0 (first page) - Sort: <code>publishedAt,desc</code></p>"},{"location":"development/articles-pagination-cleanup/#application-properties","title":"Application Properties","text":"<p>application.yml: <pre><code># Image storage (existing configuration)\nstorage:\n  base-path: /uploads\n  upload-dir: ${UPLOAD_DIR:./uploads}\n  max-file-size: 10MB\n  image-max-width: 1200\n  thumbnail-size: 300\n\n# Markdown processing\nmarkdown:\n  extensions:\n    - tables\n    - strikethrough\n    - task-lists\n    - autolinks\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#logging-configuration","title":"Logging Configuration","text":"<p>Categories used: - <code>[CREATE_ARTICLE]</code> - Article creation - <code>[UPDATE_ARTICLE]</code> - Article updates - <code>[DELETE_ARTICLE]</code> - Article deletion - <code>[LIST_ARTICLES]</code> - Article listing - <code>[ARTICLE_LIFECYCLE]</code> - Entity lifecycle events (@PreRemove) - <code>[UPLOAD_ARTICLE_IMAGE]</code> - Image uploads - <code>[DELETE_ARTICLE_IMAGE]</code> - Image deletions</p>"},{"location":"development/articles-pagination-cleanup/#security-configuration","title":"Security Configuration","text":"<p>SecurityConfig.java: <pre><code>// Public endpoints\nhttp.authorizeHttpRequests(auth -&gt; auth\n    .requestMatchers(GET, \"/api/articles\").permitAll()\n    .requestMatchers(GET, \"/api/articles/paginated\").permitAll()\n    .requestMatchers(GET, \"/api/articles/{slug}\").permitAll()\n\n    // Admin endpoints\n    .requestMatchers(\"/api/articles/admin/**\").hasRole(\"ADMIN\")\n    .requestMatchers(\"/api/admin/articles/**\").hasRole(\"ADMIN\")\n);\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Articles - Complete API reference with all endpoints</li> <li>Development: Logging Conventions - Logging format</li> </ul>"},{"location":"development/code-quality/","title":"Code Quality Tools","text":"<p>Configuration and usage of code quality tools for the Portfolio application.</p>"},{"location":"development/code-quality/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Checkstyle</li> <li>SpotBugs</li> <li>JaCoCo</li> <li>CI/CD Integration</li> <li>Configuration Files</li> </ol>"},{"location":"development/code-quality/#1-overview","title":"1. Overview","text":"<p>The Portfolio backend uses three main code quality tools: - Checkstyle: Code style verification - SpotBugs: Static analysis for bug detection - JaCoCo: Test coverage measurement</p>"},{"location":"development/code-quality/#11-run-all-checks","title":"1.1 Run All Checks","text":"<pre><code>./gradlew check\n</code></pre> <p>Executes tests, Checkstyle, SpotBugs, and coverage verification.</p>"},{"location":"development/code-quality/#2-checkstyle","title":"2. Checkstyle","text":"<p>Code style verification enforcing project conventions based on Google Java Style Guide.</p>"},{"location":"development/code-quality/#21-usage","title":"2.1 Usage","text":"<pre><code>./gradlew checkstyleMain checkstyleTest\n</code></pre>"},{"location":"development/code-quality/#22-configuration","title":"2.2 Configuration","text":"File Purpose <code>config/checkstyle/checkstyle.xml</code> Main rules configuration <code>config/checkstyle/suppressions.xml</code> Rule suppressions"},{"location":"development/code-quality/#23-reports","title":"2.3 Reports","text":"<ul> <li>Location: <code>build/reports/checkstyle/main.html</code></li> <li>Format: HTML with violations listed</li> </ul>"},{"location":"development/code-quality/#24-critical-rules","title":"2.4 Critical Rules","text":"<p>No Wildcard Imports: <pre><code>// Wrong\nimport static org.mockito.Mockito.*;\n\n// Correct\nimport static org.mockito.Mockito.when;\nimport static org.mockito.Mockito.verify;\n</code></pre></p> <p>Operator at Beginning of Line: <pre><code>// Wrong\nboolean isValid = condition1 &amp;&amp;\n                 condition2;\n\n// Correct\nboolean isValid = condition1\n                 &amp;&amp; condition2;\n</code></pre></p>"},{"location":"development/code-quality/#3-spotbugs","title":"3. SpotBugs","text":"<p>Static analysis for bug detection and code smells.</p>"},{"location":"development/code-quality/#31-usage","title":"3.1 Usage","text":"<pre><code>./gradlew spotbugsMain\n</code></pre>"},{"location":"development/code-quality/#32-configuration","title":"3.2 Configuration","text":"Setting Value Effort Maximum Report Level Medium Exclusions <code>config/spotbugs/spotbugs-exclude.xml</code>"},{"location":"development/code-quality/#33-reports","title":"3.3 Reports","text":"<ul> <li>Location: <code>build/reports/spotbugs/main.html</code></li> <li>Format: HTML with bug categories</li> </ul>"},{"location":"development/code-quality/#34-common-bug-categories","title":"3.4 Common Bug Categories","text":"Category Description <code>BAD_PRACTICE</code> Violations of best practices <code>CORRECTNESS</code> Probable bugs <code>PERFORMANCE</code> Performance issues <code>SECURITY</code> Security vulnerabilities <code>STYLE</code> Code style issues"},{"location":"development/code-quality/#4-jacoco","title":"4. JaCoCo","text":"<p>Test coverage measurement and enforcement.</p>"},{"location":"development/code-quality/#41-usage","title":"4.1 Usage","text":"<pre><code># Generate coverage report\n./gradlew test jacocoTestReport\n\n# Verify coverage thresholds\n./gradlew jacocoTestCoverageVerification\n</code></pre>"},{"location":"development/code-quality/#42-reports","title":"4.2 Reports","text":"<ul> <li>Location: <code>build/reports/jacoco/test/html/index.html</code></li> <li>Format: HTML with line and branch coverage</li> </ul>"},{"location":"development/code-quality/#43-coverage-thresholds","title":"4.3 Coverage Thresholds","text":"Metric Minimum Global Line Coverage 80% Global Branch Coverage 70% Per-Package Coverage 70%"},{"location":"development/code-quality/#44-exclusions","title":"4.4 Exclusions","text":"<p>Excluded from coverage: - Configuration classes (<code>*Config.java</code>) - Main application class - Entity classes (JPA) - DTO classes - MapStruct generated mappers</p>"},{"location":"development/code-quality/#5-cicd-integration","title":"5. CI/CD Integration","text":""},{"location":"development/code-quality/#51-workflow","title":"5.1 Workflow","text":"<p>The <code>.github/workflows/backend-tests.yml</code> workflow runs on push/PR:</p> <ol> <li>Checkstyle verification</li> <li>SpotBugs analysis</li> <li>Unit tests</li> <li>JaCoCo coverage report</li> <li>Coverage threshold verification</li> </ol>"},{"location":"development/code-quality/#52-build-failure","title":"5.2 Build Failure","text":"<p>Build fails if: - Checkstyle violations found - SpotBugs bugs detected (medium+ severity) - Coverage below thresholds - Tests fail</p>"},{"location":"development/code-quality/#6-configuration-files","title":"6. Configuration Files","text":""},{"location":"development/code-quality/#61-file-locations","title":"6.1 File Locations","text":"Tool Configuration Suppressions Checkstyle <code>config/checkstyle/checkstyle.xml</code> <code>config/checkstyle/suppressions.xml</code> SpotBugs Build config <code>config/spotbugs/spotbugs-exclude.xml</code> JaCoCo <code>build.gradle</code> Inline exclusions"},{"location":"development/code-quality/#62-gradle-configuration","title":"6.2 Gradle Configuration","text":"<pre><code>// build.gradle\ncheckstyle {\n    toolVersion = '10.x'\n    configFile = file('config/checkstyle/checkstyle.xml')\n}\n\nspotbugs {\n    effort = Effort.valueOf('MAX')\n    reportLevel = Confidence.valueOf('MEDIUM')\n    excludeFilter = file('config/spotbugs/spotbugs-exclude.xml')\n}\n\njacoco {\n    toolVersion = '0.8.x'\n}\n</code></pre>"},{"location":"development/code-quality/#63-exclusions-summary","title":"6.3 Exclusions Summary","text":"<p>All tools exclude: - Generated code (<code>build/generated/</code>, <code>*MapperImpl.java</code>) - Configuration classes - Main application class</p> <p>Checkstyle/SpotBugs also exclude: - Entity classes - DTO classes - Exception classes</p>"},{"location":"development/code-quality/#related-documentation","title":"Related Documentation","text":"<ul> <li>Testing Guide - Testing conventions</li> <li>Setup Guide - Development environment</li> <li>Deployment: CI/CD - CI/CD pipeline</li> </ul>"},{"location":"development/frontend-tests/","title":"Frontend Testing Guide","text":"<p>Document Type: Technical Guide Version: 1.0.0 Last Updated: 2025-11-09 Status: Active</p>"},{"location":"development/frontend-tests/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Test Structure</li> <li>Test Implementation</li> <li>Configuration</li> </ol>"},{"location":"development/frontend-tests/#1-overview","title":"1. Overview","text":"<p>Frontend tests use Jasmine and Karma to verify Angular component initialization, rendering, and behavior.</p> <p>Test Coverage: - AppComponent: 11 tests</p>"},{"location":"development/frontend-tests/#2-test-structure","title":"2. Test Structure","text":"<pre><code>portfolio-frontend/src/app/\n\u2514\u2500\u2500 app.component.spec.ts\n</code></pre>"},{"location":"development/frontend-tests/#3-test-implementation","title":"3. Test Implementation","text":""},{"location":"development/frontend-tests/#31-appcomponenttest","title":"3.1 AppComponentTest","text":"<p>Location: <code>portfolio-frontend/src/app/app.component.spec.ts</code></p> <p>Purpose: Validates main application component initialization and rendering</p> <p>Test Pattern Example: <pre><code>describe('AppComponent', () =&gt; {\n  let component: AppComponent;\n  let fixture: ComponentFixture&lt;AppComponent&gt;;\n  let compiled: HTMLElement;\n\n  beforeEach(async () =&gt; {\n    await TestBed.configureTestingModule({\n      imports: [AppComponent]\n    }).compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    compiled = fixture.nativeElement as HTMLElement;\n  });\n\n  it('should create the app component', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n\n  it('should initialize and log version on ngOnInit', () =&gt; {\n    const consoleSpy = spyOn(console, 'log');\n    component.ngOnInit();\n    expect(consoleSpy).toHaveBeenCalledWith(`Portfolio Application ${component.version}`);\n  });\n\n  it('should render title in h1 tag', () =&gt; {\n    fixture.detectChanges();\n    const h1 = compiled.querySelector('h1');\n    expect(h1?.textContent).toContain('Portfolio Application');\n  });\n});\n</code></pre></p> <p>Key Test Cases: - Component creation - Version initialization - Lifecycle hooks (ngOnInit) - Template rendering (title, version) - CSS classes - DOM structure - Initial state</p>"},{"location":"development/frontend-tests/#4-configuration","title":"4. Configuration","text":""},{"location":"development/frontend-tests/#41-test-configuration-files","title":"4.1 Test Configuration Files","text":"<p>karma.conf.js: <pre><code>module.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage'),\n      require('@angular-devkit/build-angular/plugins/karma')\n    ],\n    browsers: ['Chrome'],\n    customLaunchers: {\n      ChromeHeadlessCI: {\n        base: 'ChromeHeadless',\n        flags: ['--no-sandbox']\n      }\n    }\n  });\n};\n</code></pre></p> <p>tsconfig.spec.json: <pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/spec\",\n    \"types\": [\"jasmine\"]\n  },\n  \"include\": [\"src/**/*.spec.ts\"]\n}\n</code></pre></p>"},{"location":"development/frontend-tests/#42-angular-test-configuration","title":"4.2 Angular Test Configuration","text":"<p>Ensure <code>angular.json</code> includes:</p> <pre><code>{\n  \"projects\": {\n    \"portfolio-frontend\": {\n      \"architect\": {\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"karmaConfig\": \"karma.conf.js\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"development/frontend-tests/#43-spying-on-dependencies","title":"4.3 Spying on Dependencies","text":"<p>Use Jasmine spies to verify external calls:</p> <pre><code>const consoleSpy = spyOn(console, 'log');\ncomponent.ngOnInit();\nexpect(consoleSpy).toHaveBeenCalled();\n</code></pre>"},{"location":"development/git-workflow/","title":"Git Workflow","text":"<p>Branch strategy, commit conventions, and version management for the Portfolio project.</p>"},{"location":"development/git-workflow/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Branch Strategy</li> <li>Commit Conventions</li> <li>Merge Strategy</li> <li>Version Management</li> </ol>"},{"location":"development/git-workflow/#branch-strategy","title":"Branch Strategy","text":""},{"location":"development/git-workflow/#main-branches","title":"Main Branches","text":"Branch Purpose Protected <code>main</code> Production-ready code Yes <code>staging</code> Pre-production testing Yes <code>dev</code> Development integration No"},{"location":"development/git-workflow/#branch-flow","title":"Branch Flow","text":"<pre><code>feature/* \u2500\u2500&gt; dev \u2500\u2500&gt; staging \u2500\u2500&gt; main\nhotfix/*  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; main\n</code></pre>"},{"location":"development/git-workflow/#feature-branches","title":"Feature Branches","text":"<p>Naming Convention: <code>feature/&lt;ticket-id&gt;-&lt;short-description&gt;</code></p> <p>Examples: - <code>feature/123-add-dark-mode</code> - <code>feature/456-user-authentication</code> - <code>feature/789-image-optimization</code></p>"},{"location":"development/git-workflow/#hotfix-branches","title":"Hotfix Branches","text":"<p>Naming Convention: <code>hotfix/&lt;ticket-id&gt;-&lt;short-description&gt;</code></p> <p>Examples: - <code>hotfix/321-fix-login-error</code> - <code>hotfix/654-security-patch</code></p>"},{"location":"development/git-workflow/#commit-conventions","title":"Commit Conventions","text":""},{"location":"development/git-workflow/#conventional-commits","title":"Conventional Commits","text":"<p>Format: <code>&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;</code></p>"},{"location":"development/git-workflow/#types","title":"Types","text":"Type Description <code>feat</code> New feature <code>fix</code> Bug fix <code>docs</code> Documentation changes <code>style</code> Code style (formatting, no logic change) <code>refactor</code> Code refactoring <code>perf</code> Performance improvement <code>test</code> Adding or updating tests <code>chore</code> Maintenance tasks <code>ci</code> CI/CD changes <code>build</code> Build system changes"},{"location":"development/git-workflow/#scopes","title":"Scopes","text":"Scope Description <code>backend</code> Backend changes <code>frontend</code> Frontend changes <code>api</code> API changes <code>auth</code> Authentication <code>db</code> Database <code>docker</code> Docker configuration <code>docs</code> Documentation"},{"location":"development/git-workflow/#examples","title":"Examples","text":"<pre><code># Feature\nfeat(frontend): add dark mode toggle\n\n# Bug fix\nfix(backend): resolve JWT token expiration issue\n\n# Documentation\ndocs(api): update authentication endpoints\n\n# Refactoring\nrefactor(backend): extract image processing logic\n\n# Tests\ntest(frontend): add unit tests for login component\n\n# CI/CD\nci: add staging deployment workflow\n</code></pre>"},{"location":"development/git-workflow/#commit-message-body","title":"Commit Message Body","text":"<p>For complex changes, add a body:</p> <pre><code>feat(backend): add rate limiting for authentication\n\n- Add AuthRateLimitFilter for login endpoint\n- Configure Redis-backed rate limit storage\n- Set default limit to 5 attempts per minute\n- Add exponential backoff for repeated failures\n</code></pre>"},{"location":"development/git-workflow/#merge-strategy","title":"Merge Strategy","text":""},{"location":"development/git-workflow/#pull-request-flow","title":"Pull Request Flow","text":"<ol> <li>Create feature branch from <code>dev</code></li> <li>Implement changes</li> <li>Run tests locally</li> <li>Create Pull Request to <code>dev</code></li> <li>Code review</li> <li>Merge to <code>dev</code></li> </ol>"},{"location":"development/git-workflow/#merge-methods","title":"Merge Methods","text":"Target Branch Method Notes <code>dev</code> Squash merge Clean history <code>staging</code> Merge commit Track releases <code>main</code> Merge commit Track releases"},{"location":"development/git-workflow/#pull-request-checklist","title":"Pull Request Checklist","text":"<ul> <li> Tests pass locally</li> <li> Code follows conventions</li> <li> Documentation updated if needed</li> <li> No sensitive data in commits</li> <li> Commit messages follow conventions</li> </ul>"},{"location":"development/git-workflow/#version-management","title":"Version Management","text":""},{"location":"development/git-workflow/#semantic-versioning","title":"Semantic Versioning","text":"<p>Format: <code>MAJOR.MINOR.PATCH</code></p> Component Increment When MAJOR Breaking API changes MINOR New features (backward compatible) PATCH Bug fixes"},{"location":"development/git-workflow/#examples_1","title":"Examples","text":"<ul> <li><code>1.0.0</code> - Initial release</li> <li><code>1.1.0</code> - New feature added</li> <li><code>1.1.1</code> - Bug fix</li> <li><code>2.0.0</code> - Breaking change</li> </ul>"},{"location":"development/git-workflow/#version-locations","title":"Version Locations","text":"File Location Backend <code>build.gradle</code> - <code>version</code> property Frontend <code>package.json</code> - <code>version</code> property Changelog <code>CHANGELOG.md</code>"},{"location":"development/git-workflow/#tagging-releases","title":"Tagging Releases","text":"<pre><code># Create annotated tag\ngit tag -a v1.2.0 -m \"Release version 1.2.0\"\n\n# Push tags\ngit push origin v1.2.0\n</code></pre>"},{"location":"development/git-workflow/#related-documentation","title":"Related Documentation","text":"<ul> <li>CI/CD Guide - Deployment pipelines</li> <li>Code Quality - Quality checks</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"development/logging-categories/","title":"Logging Categories","text":"<p>Context categories and examples for structured logging.</p>"},{"location":"development/logging-categories/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Backend Categories</li> <li>Frontend Categories</li> <li>Script Categories</li> <li>Best Practices</li> <li>Examples</li> </ol>"},{"location":"development/logging-categories/#1-backend-categories","title":"1. Backend Categories","text":""},{"location":"development/logging-categories/#11-application-lifecycle","title":"1.1 Application Lifecycle","text":"<pre><code>[STARTUP]         Application startup\n[SHUTDOWN]        Application shutdown\n[HEALTH_CHECK]    Health verification\n</code></pre>"},{"location":"development/logging-categories/#12-http-operations","title":"1.2 HTTP Operations","text":"<pre><code>[HTTP_REQUEST]    Incoming HTTP request\n[HTTP_RESPONSE]   HTTP response sent\n</code></pre>"},{"location":"development/logging-categories/#13-entity-operations","title":"1.3 Entity Operations","text":"<pre><code>[CREATE_PROJECT]  Project creation\n[UPDATE_PROJECT]  Project update\n[DELETE_PROJECT]  Project deletion\n[LIST_PROJECTS]   Project listing\n[GET_PROJECT]     Project retrieval\n\n[CREATE_ARTICLE]  Article creation\n[UPDATE_ARTICLE]  Article update\n[DELETE_ARTICLE]  Article deletion\n[PUBLISH_ARTICLE] Article published\n[UNPUBLISH_ARTICLE] Article unpublished\n\n[CREATE_SKILL]    Skill creation\n[UPDATE_SKILL]    Skill update\n[DELETE_SKILL]    Skill deletion\n\n[CREATE_TAG]      Tag creation\n[UPDATE_TAG]      Tag update\n[DELETE_TAG]      Tag deletion\n</code></pre>"},{"location":"development/logging-categories/#14-authentication","title":"1.4 Authentication","text":"<pre><code>[AUTH]            Authentication/Authorization\n[LOGIN]           User login\n[LOGOUT]          User logout\n[TOKEN_REFRESH]   Token refresh\n[ADMIN_SEEDER]    Admin user seeding\n</code></pre>"},{"location":"development/logging-categories/#15-system-operations","title":"1.5 System Operations","text":"<pre><code>[DB_QUERY]        Database query\n[DB_ERROR]        Database error\n[VALIDATION]      Data validation\n[EXCEPTION]       Exception handling\n[SECURITY]        Security operations\n</code></pre>"},{"location":"development/logging-categories/#16-batch-operations","title":"1.6 Batch Operations","text":"<pre><code>[RUN_BATCH_JOB]      Batch job execution\n[GET_BATCH_STATS]    Batch statistics\n[GET_LAST_JOB]       Job history retrieval\n</code></pre>"},{"location":"development/logging-categories/#17-messaging","title":"1.7 Messaging","text":"<pre><code>[EMAIL_SENDER]       Email sending\n[IMAGE_PROCESSING]   Image processing\n[AUDIT]              Audit logging\n[KAFKA_PRODUCER]     Kafka event publishing\n[RABBITMQ]           RabbitMQ operations\n</code></pre>"},{"location":"development/logging-categories/#2-frontend-categories","title":"2. Frontend Categories","text":""},{"location":"development/logging-categories/#21-application-lifecycle","title":"2.1 Application Lifecycle","text":"<pre><code>[INIT]            Component initialization\n[DESTROY]         Component destruction\n</code></pre>"},{"location":"development/logging-categories/#22-http-operations","title":"2.2 HTTP Operations","text":"<pre><code>[HTTP]            HTTP request (simplified format)\n[HTTP_REQUEST]    HTTP request sent\n[HTTP_SUCCESS]    HTTP success response\n[HTTP_ERROR]      HTTP error response\n</code></pre>"},{"location":"development/logging-categories/#23-user-interaction","title":"2.3 User Interaction","text":"<pre><code>[USER_ACTION]     User interaction\n[FORM_SUBMIT]     Form submission\n[FORM_ERROR]      Form validation error\n[NAVIGATION]      Router navigation\n</code></pre>"},{"location":"development/logging-categories/#24-state-management","title":"2.4 State Management","text":"<pre><code>[STATE_CHANGE]    Application state change\n[AUTH]            Authentication state\n</code></pre>"},{"location":"development/logging-categories/#25-batch-operations","title":"2.5 Batch Operations","text":"<pre><code>[BATCH]           Batch job operations\n</code></pre>"},{"location":"development/logging-categories/#3-script-categories","title":"3. Script Categories","text":""},{"location":"development/logging-categories/#31-deployment","title":"3.1 Deployment","text":"<pre><code>[DEPLOYMENT]      Deployment operations\n[BUILD]           Build operations\n[CONTAINER]       Docker container operations\n</code></pre>"},{"location":"development/logging-categories/#32-validation","title":"3.2 Validation","text":"<pre><code>[VALIDATION]      Configuration validation\n[HEALTH_CHECK]    Health verification\n</code></pre>"},{"location":"development/logging-categories/#33-operations","title":"3.3 Operations","text":"<pre><code>[CLEANUP]         Resource cleanup\n[DATABASE]        Database operations\n[STEP]            Process step marker\n</code></pre>"},{"location":"development/logging-categories/#4-best-practices","title":"4. Best Practices","text":""},{"location":"development/logging-categories/#41-do","title":"4.1 Do","text":"<p>Log at appropriate levels: <pre><code>log.info(\"[CREATE_PROJECT] Success - id={}\", id);  // Important event\nlog.debug(\"[GET_PROJECT] Fetching - id={}\", id);   // Development info\n</code></pre></p> <p>Include context in error logs: <pre><code>log.error(\"[DB_ERROR] Failed to save - entity={}, error={}\",\n    entity, ex.getMessage(), ex);\n</code></pre></p> <p>Use structured parameters: <pre><code>log.info(\"[UPDATE_PROJECT] Success - id={}, changedFields={}\", id, fields);\n</code></pre></p> <p>Log performance when relevant: <pre><code>log.info(\"[SEARCH] Completed - query={}, results={}, duration={}ms\",\n    query, results.size(), duration);\n</code></pre></p>"},{"location":"development/logging-categories/#42-do-not","title":"4.2 Do Not","text":"<p>Never log sensitive data: <pre><code>// BAD\nlog.info(\"User login - password={}\", password);\n\n// GOOD\nlog.info(\"[AUTH] Login attempt - username={}\", username);\n</code></pre></p> <p>Do not log large payloads: <pre><code>// BAD\nlog.info(\"Request: {}\", fullRequestBody);\n\n// GOOD\nlog.debug(\"[HTTP_REQUEST] Received - endpoint={}, method={}\", endpoint, method);\n</code></pre></p> <p>Do not use string concatenation: <pre><code>// BAD\nlog.info(\"[CREATE] Created project with id \" + id);\n\n// GOOD\nlog.info(\"[CREATE_PROJECT] Success - id={}\", id);\n</code></pre></p> <p>Do not use emojis: <pre><code># BAD\necho \"Success!\"\n\n# GOOD\nlog_success \"[DEPLOYMENT] Complete\"\n</code></pre></p>"},{"location":"development/logging-categories/#5-examples","title":"5. Examples","text":""},{"location":"development/logging-categories/#51-controller-crud","title":"5.1 Controller CRUD","text":"<pre><code>@Slf4j\n@RestController\n@RequestMapping(\"/api/projects\")\npublic class ProjectController {\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ProjectResponse&gt;&gt; getAllProjects() {\n        log.debug(\"[LIST_PROJECTS] Request received\");\n        List&lt;ProjectResponse&gt; projects = projectService.getAllProjects();\n        log.info(\"[LIST_PROJECTS] Success - count={}\", projects.size());\n        return ResponseEntity.ok(projects);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;ProjectResponse&gt; createProject(\n            @Valid @RequestBody CreateProjectRequest request) {\n        log.info(\"[CREATE_PROJECT] Request received - title={}\", request.getTitle());\n        ProjectResponse response = projectService.createProject(request);\n        log.info(\"[CREATE_PROJECT] Success - id={}\", response.getId());\n        return ResponseEntity.status(HttpStatus.CREATED).body(response);\n    }\n\n    @PutMapping(\"/{id}\")\n    public ResponseEntity&lt;ProjectResponse&gt; updateProject(\n            @PathVariable Long id,\n            @Valid @RequestBody UpdateProjectRequest request) {\n        log.info(\"[UPDATE_PROJECT] Request received - id={}\", id);\n        ProjectResponse response = projectService.updateProject(id, request);\n        log.info(\"[UPDATE_PROJECT] Success - id={}\", response.getId());\n        return ResponseEntity.ok(response);\n    }\n\n    @DeleteMapping(\"/{id}\")\n    public ResponseEntity&lt;Void&gt; deleteProject(@PathVariable Long id) {\n        log.info(\"[DELETE_PROJECT] Request received - id={}\", id);\n        projectService.deleteProject(id);\n        log.info(\"[DELETE_PROJECT] Success - id={}\", id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>"},{"location":"development/logging-categories/#52-frontend-http-service","title":"5.2 Frontend HTTP Service","text":"<pre><code>@Injectable({ providedIn: 'root' })\nexport class ArticleService {\n  private readonly logger = inject(LoggerService);\n\n  getAll(): Observable&lt;ArticleResponse[]&gt; {\n    return this.http.get&lt;ArticleResponse[]&gt;(this.apiUrl).pipe(\n      catchError(error =&gt; {\n        this.logger.error('[HTTP_ERROR] Failed to fetch articles', {\n          status: error.status\n        });\n        return throwError(() =&gt; error);\n      })\n    );\n  }\n\n  create(request: CreateArticleRequest): Observable&lt;ArticleResponse&gt; {\n    this.logger.info('[HTTP] POST /api/articles', { title: request.title });\n\n    return this.http.post&lt;ArticleResponse&gt;(this.apiUrl, request).pipe(\n      tap(response =&gt; {\n        this.logger.info('[HTTP_SUCCESS] Article created', { id: response.id });\n      }),\n      catchError(error =&gt; {\n        this.logger.error('[HTTP_ERROR] Failed to create article', {\n          title: request.title,\n          status: error.status\n        });\n        return throwError(() =&gt; error);\n      })\n    );\n  }\n\n  publish(id: number): Observable&lt;ArticleResponse&gt; {\n    this.logger.info('[HTTP] POST /api/articles/{id}/publish', { id });\n\n    return this.http.post&lt;ArticleResponse&gt;(`${this.apiUrl}/${id}/publish`, {}).pipe(\n      tap(() =&gt; {\n        this.logger.info('[HTTP_SUCCESS] Article published', { id });\n      }),\n      catchError(error =&gt; {\n        this.logger.error('[HTTP_ERROR] Failed to publish article', {\n          id,\n          status: error.status\n        });\n        return throwError(() =&gt; error);\n      })\n    );\n  }\n}\n</code></pre>"},{"location":"development/logging-categories/#53-deployment-script","title":"5.3 Deployment Script","text":"<pre><code>#!/bin/bash\nsource \"$(dirname \"$0\")/../lib/logging.sh\"\n\nset -e\n\nENV=${1:-staging}\nCOMMIT=$(git rev-parse --short HEAD)\n\nlog_section \"Deployment to $ENV\"\nlog_info \"[DEPLOYMENT] Starting - env=$ENV, commit=$COMMIT\"\n\nlog_step \"[VALIDATION] Checking prerequisites\"\nif ! command -v docker &amp;&gt; /dev/null; then\n    log_fatal \"[VALIDATION] Docker not found\"\nfi\nlog_success \"[VALIDATION] Prerequisites satisfied\"\n\nlog_step \"[BUILD] Building images\"\nSTART_TIME=$(date +%s)\nif docker-compose build; then\n    BUILD_TIME=$(($(date +%s) - START_TIME))\n    log_success \"[BUILD] Images built - duration=${BUILD_TIME}s\"\nelse\n    log_fatal \"[BUILD] Failed to build images\"\nfi\n\nlog_step \"[CONTAINER] Starting services\"\ndocker-compose up -d\nlog_success \"[CONTAINER] Services started\"\n\nlog_step \"[HEALTH_CHECK] Verifying health\"\nATTEMPT=0\nMAX_ATTEMPTS=30\n\nwhile [ $ATTEMPT -lt $MAX_ATTEMPTS ]; do\n    ATTEMPT=$((ATTEMPT + 1))\n    STATUS=$(docker inspect --format='{{.State.Health.Status}}' portfolio-backend-$ENV 2&gt;/dev/null || echo \"not_running\")\n\n    if [ \"$STATUS\" = \"healthy\" ]; then\n        log_success \"[HEALTH_CHECK] All services healthy\"\n        break\n    fi\n\n    if [ \"$STATUS\" = \"unhealthy\" ]; then\n        log_fatal \"[HEALTH_CHECK] Service unhealthy\"\n    fi\n\n    sleep 5\ndone\n\nif [ $ATTEMPT -eq $MAX_ATTEMPTS ]; then\n    log_fatal \"[HEALTH_CHECK] Timeout after ${MAX_ATTEMPTS} attempts\"\nfi\n\nlog_success \"[DEPLOYMENT] Complete - env=$ENV\"\n</code></pre>"},{"location":"development/logging-categories/#related-documentation","title":"Related Documentation","text":"<ul> <li>Logging Conventions - Log format and levels</li> <li>Code Quality - Quality standards</li> <li>Testing Guide - Testing conventions</li> </ul>"},{"location":"development/logging-conventions/","title":"Logging Conventions","text":"<p>Logging standards for all components of the Portfolio application.</p>"},{"location":"development/logging-conventions/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Log Format</li> <li>Log Levels</li> <li>Backend Logging</li> <li>Frontend Logging</li> <li>Script Logging</li> </ol>"},{"location":"development/logging-conventions/#1-overview","title":"1. Overview","text":""},{"location":"development/logging-conventions/#11-general-principles","title":"1.1 General Principles","text":"<ol> <li>Professional Format: No emojis, only text-based indicators</li> <li>Structured Messages: Parseable by log aggregation tools</li> <li>Consistent Naming: Same patterns across all components</li> <li>Contextual Information: Include relevant parameters</li> <li>English Only: All log messages in English</li> <li>Security: Never log sensitive information (passwords, tokens, PII)</li> </ol> <p>For context categories and examples, see Logging Categories.</p>"},{"location":"development/logging-conventions/#2-log-format","title":"2. Log Format","text":""},{"location":"development/logging-conventions/#21-standard-format","title":"2.1 Standard Format","text":"<pre><code>[TIMESTAMP] [LEVEL] [CONTEXT] Message - key1=value1, key2=value2\n</code></pre>"},{"location":"development/logging-conventions/#22-components","title":"2.2 Components","text":"Component Description Example TIMESTAMP ISO 8601 format <code>2025-01-12 14:30:45</code> LEVEL Severity code <code>INF</code>, <code>ERR</code>, <code>WRN</code> CONTEXT Operation category <code>CREATE_PROJECT</code>, <code>HTTP_REQUEST</code> Message Human-readable description <code>Project created successfully</code> Parameters Key-value pairs <code>id=123, title=MyProject</code>"},{"location":"development/logging-conventions/#23-example","title":"2.3 Example","text":"<pre><code>[2025-01-12 14:30:45] [INF] [CREATE_PROJECT] Success - id=123, title=MyProject\n</code></pre>"},{"location":"development/logging-conventions/#3-log-levels","title":"3. Log Levels","text":"Level Code When to Use Example TRACE TRC Very detailed debugging Variable values, internal state DEBUG DBG Development debugging Method parameters, flow control INFO INF General information Service started, operation completed WARN WRN Abnormal but handled Retry attempts, fallback used ERROR ERR Errors requiring attention Failed operations, exceptions FATAL FTL Critical errors Database connection lost"},{"location":"development/logging-conventions/#31-level-selection-by-environment","title":"3.1 Level Selection by Environment","text":"<ul> <li>Production: <code>INFO</code> and above</li> <li>Staging: <code>DEBUG</code> and above</li> <li>Development: <code>TRACE</code> and above</li> </ul>"},{"location":"development/logging-conventions/#4-backend-logging","title":"4. Backend Logging","text":""},{"location":"development/logging-conventions/#41-setup-with-lombok","title":"4.1 Setup with Lombok","text":"<pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n}\n</code></pre>"},{"location":"development/logging-conventions/#42-controller-usage","title":"4.2 Controller Usage","text":"<pre><code>@Slf4j\n@RestController\n@RequestMapping(\"/api/projects\")\npublic class ProjectController {\n\n    @PostMapping\n    public ResponseEntity&lt;ProjectResponse&gt; createProject(\n            @Valid @RequestBody CreateProjectRequest request) {\n        log.info(\"[CREATE_PROJECT] Request received - title={}\", request.getTitle());\n\n        ProjectResponse response = projectService.createProject(request);\n        log.info(\"[CREATE_PROJECT] Success - id={}, title={}\",\n            response.getId(), response.getTitle());\n\n        return ResponseEntity.status(HttpStatus.CREATED).body(response);\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#43-service-layer-usage","title":"4.3 Service Layer Usage","text":"<pre><code>@Slf4j\n@Service\n@Transactional\npublic class ProjectService {\n\n    @Transactional(readOnly = true)\n    public List&lt;ProjectResponse&gt; getAllProjects() {\n        log.debug(\"[LIST_PROJECTS] Fetching all projects\");\n        List&lt;Project&gt; projects = projectRepository.findAll();\n        log.debug(\"[LIST_PROJECTS] Found {} projects\", projects.size());\n        return projects.stream()\n            .map(ProjectResponse::fromEntity)\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#44-exception-handling","title":"4.4 Exception Handling","text":"<pre><code>@Slf4j\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleResourceNotFound(\n            ResourceNotFoundException ex) {\n        log.warn(\"[EXCEPTION] Resource not found - resource={}, id={}\",\n            ex.getResourceName(), ex.getId());\n        return ResponseEntity.status(HttpStatus.NOT_FOUND)\n            .body(new ErrorResponse(404, ex.getMessage()));\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleGenericError(Exception ex) {\n        log.error(\"[EXCEPTION] Unexpected error - message={}\", ex.getMessage(), ex);\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n            .body(new ErrorResponse(500, \"An unexpected error occurred\"));\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#5-frontend-logging","title":"5. Frontend Logging","text":""},{"location":"development/logging-conventions/#51-loggerservice","title":"5.1 LoggerService","text":"<p>Located at <code>src/app/services/logger.service.ts</code>:</p> <pre><code>@Injectable({ providedIn: 'root' })\nexport class LoggerService {\n  private get minLevel(): LogLevel {\n    return this.levelMap[environment.logLevel] || LogLevel.INFO;\n  }\n\n  info(message: string, context?: unknown): void {\n    this.log(LogLevel.INFO, message, context);\n  }\n\n  error(message: string, context?: unknown): void {\n    this.log(LogLevel.ERROR, message, context);\n  }\n\n  private log(level: LogLevel, message: string, context?: unknown): void {\n    if (level &lt; this.minLevel) return;\n\n    const timestamp = new Date().toISOString();\n    const levelName = LogLevel[level];\n    const contextStr = context ? ` ${JSON.stringify(context)}` : '';\n    const formattedMessage = `[${timestamp}] [${levelName}] ${message}${contextStr}`;\n\n    this.logToConsole(level, formattedMessage);\n  }\n}\n</code></pre>"},{"location":"development/logging-conventions/#52-service-usage","title":"5.2 Service Usage","text":"<pre><code>@Injectable({ providedIn: 'root' })\nexport class ProjectService {\n  private readonly logger = inject(LoggerService);\n\n  create(request: CreateProjectRequest): Observable&lt;ProjectResponse&gt; {\n    this.logger.info('[HTTP] POST /api/projects', { title: request.title });\n\n    return this.http.post&lt;ProjectResponse&gt;(this.apiUrl, request).pipe(\n      catchError(error =&gt; {\n        this.logger.error('[HTTP_ERROR] Failed to create project', {\n          title: request.title,\n          status: error.status\n        });\n        return throwError(() =&gt; error);\n      })\n    );\n  }\n}\n</code></pre>"},{"location":"development/logging-conventions/#6-script-logging","title":"6. Script Logging","text":""},{"location":"development/logging-conventions/#61-helper-library","title":"6.1 Helper Library","text":"<p>Source the logging library:</p> <pre><code>source \"$(dirname \"$0\")/../lib/logging.sh\"\n</code></pre>"},{"location":"development/logging-conventions/#62-usage","title":"6.2 Usage","text":"<pre><code>#!/bin/bash\nsource \"$(dirname \"$0\")/../lib/logging.sh\"\n\nENV=${1:-staging}\n\nlog_section \"Deployment to $ENV\"\nlog_info \"[DEPLOYMENT] Starting - env=$ENV\"\n\nlog_step \"[VALIDATION] Checking prerequisites\"\nif ! command -v docker &amp;&gt; /dev/null; then\n    log_fatal \"[VALIDATION] Docker not found\"\nfi\nlog_success \"[VALIDATION] Prerequisites satisfied\"\n\nlog_step \"[BUILD] Building images\"\nif docker-compose build; then\n    log_success \"[BUILD] Images built\"\nelse\n    log_fatal \"[BUILD] Failed to build images\"\nfi\n\nlog_success \"[DEPLOYMENT] Complete - env=$ENV\"\n</code></pre>"},{"location":"development/logging-conventions/#63-simple-format","title":"6.3 Simple Format","text":"<p>For simple scripts without helper library:</p> <pre><code>echo \"[INFO] Starting process\"\necho \"[ERROR] Failed\" &gt;&amp;2\n</code></pre>"},{"location":"development/logging-conventions/#related-documentation","title":"Related Documentation","text":"<ul> <li>Logging Categories - Context categories and examples</li> <li>Code Quality - Quality standards</li> <li>Testing Guide - Testing conventions</li> </ul>"},{"location":"development/setup/","title":"Development Setup Guide","text":""},{"location":"development/setup/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Prerequisites</li> <li>Initial Setup</li> <li>Running the Application</li> <li>Development Workflow</li> <li>Initial Data Setup</li> </ol>"},{"location":"development/setup/#1-prerequisites","title":"1. Prerequisites","text":""},{"location":"development/setup/#11-required-software","title":"1.1 Required Software","text":"Software Minimum Version Purpose Docker 20.10+ Container runtime Docker Compose 2.0+ Multi-container orchestration Git 2.30+ Version control"},{"location":"development/setup/#12-optional-tools-for-local-development-without-docker","title":"1.2 Optional Tools (for local development without Docker)","text":"Software Version Purpose Java (JDK) 21 Backend runtime Node.js 20+ Frontend development PostgreSQL 17+ Database Gradle 8.14+ Backend build tool"},{"location":"development/setup/#13-system-requirements","title":"1.3 System Requirements","text":"<ul> <li>RAM: 8GB minimum, 16GB recommended</li> <li>Disk Space: 10GB free space</li> <li>OS: Windows 10+, macOS 11+, or Linux</li> </ul>"},{"location":"development/setup/#2-initial-setup","title":"2. Initial Setup","text":""},{"location":"development/setup/#21-clone-repository","title":"2.1 Clone Repository","text":"<pre><code>git clone &lt;repository-url&gt;\ncd portfolio\n</code></pre>"},{"location":"development/setup/#22-environment-configuration","title":"2.2 Environment Configuration","text":"<p>Create <code>.env</code> file at project root:</p> <pre><code># On Linux/macOS\ncat &gt; .env &lt;&lt; EOF\nDB_USER_PASSWORD=your_secure_password\nEOF\n\n# On Windows (PowerShell)\necho \"DB_USER_PASSWORD=your_secure_password\" &gt; .env\n</code></pre> <p>Important: Replace <code>your_secure_password</code> with a secure password.</p>"},{"location":"development/setup/#23-verify-docker-installation","title":"2.3 Verify Docker Installation","text":"<pre><code># Check Docker version\ndocker --version\n# Expected: Docker version 20.10.0 or higher\n\n# Check Docker Compose version\ndocker-compose --version\n# Expected: Docker Compose version 2.0.0 or higher\n\n# Verify Docker is running\ndocker ps\n# Should return empty list or running containers (no error)\n</code></pre>"},{"location":"development/setup/#3-running-the-application","title":"3. Running the Application","text":""},{"location":"development/setup/#31-start-all-services-recommended","title":"3.1 Start All Services (Recommended)","text":"<p>Local Environment: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n</code></pre></p> <p>Staging Environment: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.staging.yml up --build -d\n</code></pre></p> <p>Production Environment: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d\n</code></pre></p> <p>With Monitoring Stack (any environment): <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml \\\n  -f docker-compose.monitoring.yml up --build -d\n</code></pre></p>"},{"location":"development/setup/#32-access-points","title":"3.2 Access Points","text":"<p>Once services are running:</p> Service URL Description Frontend http://localhost:8081 Angular application Backend API http://localhost:8081/api REST API endpoints Swagger UI http://localhost:8081/api/swagger-ui.html API documentation Health Check http://localhost:8081/health Simple health status Full Health http://localhost:8081/health/full Detailed health status Database localhost:5432 PostgreSQL (local env) Grafana http://localhost:3001 Monitoring dashboards Prometheus http://localhost:9090 Metrics collection RabbitMQ Management http://localhost:15672 Message queue UI"},{"location":"development/setup/#33-verify-installation","title":"3.3 Verify Installation","text":"<pre><code># Check all containers are running\ndocker ps\n\n# Expected output: 4 containers\n# - portfolio-nginx-local\n# - portfolio-frontend-local\n# - portfolio-backend-local\n# - portfolio-db-local\n\n# Check health status\ncurl http://localhost:8081/health\n\n# Expected: {\"status\":\"ok\"}\n</code></pre>"},{"location":"development/setup/#4-development-workflow","title":"4. Development Workflow","text":""},{"location":"development/setup/#41-view-logs","title":"4.1 View Logs","text":"<pre><code># All services\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml logs -f\n\n# Specific service\ndocker-compose logs -f portfolio-backend-local\ndocker-compose logs -f portfolio-frontend-local\ndocker-compose logs -f portfolio-db-local\n</code></pre>"},{"location":"development/setup/#42-rebuild-after-code-changes","title":"4.2 Rebuild After Code Changes","text":"<p>Backend changes: <pre><code># Rebuild and restart backend only\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-backend-local\n</code></pre></p> <p>Frontend changes: <pre><code># Rebuild and restart frontend only\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-frontend-local\n</code></pre></p> <p>All services: <pre><code># Rebuild everything\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n</code></pre></p>"},{"location":"development/setup/#43-run-tests","title":"4.3 Run Tests","text":"<p>Quick start: <pre><code># Backend\ndocker exec portfolio-backend-local gradle test --no-daemon\n\n# Frontend\ndocker exec portfolio-frontend-local npm test -- --watch=false\n</code></pre></p> <p>For more testing commands and options, see: - Testing Guide - <code>scripts/testing/</code> directory (if available)</p>"},{"location":"development/setup/#44-access-database","title":"4.4 Access Database","text":"<pre><code># Connect to PostgreSQL\ndocker exec -it portfolio-db-local psql -U portfolio_user -d portfolio_local\n\n# Common commands:\n# \\dt          - List tables\n# \\d projects  - Describe projects table\n# SELECT * FROM projects;\n# \\q           - Exit\n</code></pre>"},{"location":"development/setup/#45-clean-up","title":"4.5 Clean Up","text":"<p>Stop services: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml down\n</code></pre></p> <p>Stop and remove volumes (CAUTION: deletes database data): <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml down -v\n</code></pre></p> <p>Remove all Docker resources: <pre><code># Remove stopped containers\ndocker container prune -f\n\n# Remove unused images\ndocker image prune -a -f\n\n# Remove unused volumes\ndocker volume prune -f\n</code></pre></p>"},{"location":"development/setup/#5-initial-data-setup","title":"5. Initial Data Setup","text":""},{"location":"development/setup/#data-seeders","title":"Data Seeders","text":"<p>The application includes automatic data seeders that run on first startup.</p>"},{"location":"development/setup/#adminseeder","title":"AdminSeeder","text":"<p>Creates the initial admin user if no users exist in the database.</p> <p>Location: <code>config/AdminSeeder.java</code></p> <p>Behavior: - Checks if any users exist in the database - If no users exist, creates admin user with credentials from environment variables - Only runs once (subsequent startups skip if users exist)</p> <p>Configuration: <pre><code>app:\n  admin:\n    username: ${ADMIN_USERNAME:admin}\n    password: ${ADMIN_PASSWORD}  # Required, no default\n</code></pre></p> <p>Environment Variables: <pre><code>ADMIN_USERNAME=admin\nADMIN_PASSWORD=your_secure_admin_password\n</code></pre></p>"},{"location":"development/setup/#dataseeder","title":"DataSeeder","text":"<p>Seeds default data for development environments.</p> <p>Location: <code>config/DataSeeder.java</code></p> <p>Seeded Data: - Default site configuration - Sample skill categories - Initial tags</p> <p>Profile: Only active in <code>dev</code> profile</p> <pre><code>spring:\n  profiles:\n    active: dev  # Enables DataSeeder\n</code></pre>"},{"location":"development/setup/#first-time-setup","title":"First-Time Setup","text":"<ol> <li> <p>Set required environment variables: <pre><code># .env file\nADMIN_USERNAME=admin\nADMIN_PASSWORD=your_secure_password\nJWT_SECRET=your_jwt_secret_key_min_32_chars\n</code></pre></p> </li> <li> <p>Start the application</p> </li> <li>Admin user is created automatically</li> <li>Login with configured credentials</li> </ol>"},{"location":"development/setup/#6-optional-services","title":"6. Optional Services","text":""},{"location":"development/setup/#messaging-rabbitmq","title":"Messaging (RabbitMQ)","text":"<pre><code>RABBITMQ_HOST=localhost\nRABBITMQ_PORT=5672\nRABBITMQ_USERNAME=guest\nRABBITMQ_PASSWORD=guest\n</code></pre>"},{"location":"development/setup/#search-elasticsearch","title":"Search (Elasticsearch)","text":"<pre><code>ELASTICSEARCH_HOST=localhost\nELASTICSEARCH_PORT=9200\n</code></pre>"},{"location":"development/setup/#monitoring","title":"Monitoring","text":"<pre><code>GRAFANA_ADMIN_USER=admin\nGRAFANA_ADMIN_PASSWORD=admin\n</code></pre>"},{"location":"development/setup/#additional-resources","title":"Additional Resources","text":"<ul> <li>Architecture Guide - System design</li> <li>Testing Guide - Running tests</li> <li>CI/CD Guide - Deployment process</li> <li>Observability - Monitoring stack</li> <li>Configuration Properties - All configuration options</li> </ul>"},{"location":"development/testing-guide/","title":"Testing Guide","text":"<p>Complete guide for testing strategies, conventions, and execution in the Portfolio project.</p>"},{"location":"development/testing-guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Test Maintenance Rule</li> <li>Backend Testing</li> <li>Frontend Testing</li> <li>Test Naming Conventions</li> <li>Test Execution</li> <li>Coverage Requirements</li> </ol>"},{"location":"development/testing-guide/#test-maintenance-rule","title":"Test Maintenance Rule","text":""},{"location":"development/testing-guide/#critical-mandatory-test-updates","title":"CRITICAL: Mandatory Test Updates","text":"<p>For EVERY code change, you MUST verify and update tests BEFORE committing.</p> <p>[REQUIRED] Before completing ANY task: 1. Identify affected tests - Which test files cover the modified code? 2. Update test expectations - Do assertions match new behavior? 3. Remove obsolete tests - Are any tests now invalid? 4. Add missing tests - Does new code need new tests? 5. Run tests locally - Verify all tests pass before pushing</p>"},{"location":"development/testing-guide/#backend-testing","title":"Backend Testing","text":""},{"location":"development/testing-guide/#testing-strategy","title":"Testing Strategy","text":""},{"location":"development/testing-guide/#mockbean-usage-policy-spring-boot-34","title":"@MockBean Usage Policy (Spring Boot 3.4+)","text":"<p>CURRENT POLICY: - USE <code>@MockBean</code> from <code>org.springframework.boot.test.mock.mockito</code> for ALL tests - This is the REQUIRED annotation for this project - [WARN] Expect deprecation warnings during compilation (this is normal and acceptable)</p> <p>RATIONALE: - <code>@MockBean</code> is deprecated since Spring Boot 3.4 but remains fully functional until Spring Boot 4.0 - The replacement <code>@MockitoBean</code> does NOT work with <code>@TestConfiguration</code> in Spring Boot 3.4+ - Migration to <code>@MockitoBean</code> would require:   - Removing shared <code>TestSecurityConfig.java</code>   - Duplicating 7+ mock beans across every test file   - Massive refactoring effort (~15-20 hours) - Current approach is stable, maintainable, and will work until Spring Boot 4.0 (estimated 2026-2027)</p>"},{"location":"development/testing-guide/#unit-tests-junit-5-mockito","title":"Unit Tests (JUnit 5 + Mockito)","text":"<p>Characteristics: - Test business logic in isolation - Mock all external dependencies - Fast execution (no Docker required) - Target: &gt;80% code coverage</p> <p>Pattern: <pre><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n    @Mock\n    private Repository repository;\n\n    @Mock\n    private Mapper mapper;\n\n    @InjectMocks\n    private Service service;\n\n    @Test\n    void should_&lt;behavior&gt;_when_&lt;condition&gt;() {\n        // Given: Setup test data and mocks\n        // When: Execute method under test\n        // Then: Verify results and interactions\n    }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#integration-tests-testcontainers","title":"Integration Tests (Testcontainers)","text":"<p>Characteristics: - Test with real database - Verify JPA mappings and queries - Test transactions and constraints - Docker required</p> <p>Pattern: <pre><code>@SpringBootTest\n@Testcontainers\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass RepositoryIntegrationTest {\n\n    @Container\n    static PostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(\"postgres:15-alpine\")\n            .withDatabaseName(\"testdb\")\n            .withUsername(\"test\")\n            .withPassword(\"test\");\n\n    @Autowired\n    private Repository repository;\n\n    @Test\n    void should_&lt;behavior&gt;_when_&lt;condition&gt;() {\n        // Test with real database operations\n    }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#api-tests-rest-assured","title":"API Tests (REST Assured)","text":"<p>Characteristics: - Test complete HTTP flows - Verify request/response formats - Test authentication and authorization</p> <p>Pattern: <pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass ControllerApiTest {\n\n    @LocalServerPort\n    private int port;\n\n    @BeforeEach\n    void setup() {\n        RestAssured.port = port;\n    }\n\n    @Test\n    void should_&lt;behavior&gt;_when_&lt;condition&gt;() {\n        given()\n            .contentType(ContentType.JSON)\n            .body(request)\n        .when()\n            .post(\"/api/endpoint\")\n        .then()\n            .statusCode(201)\n            .body(\"field\", equalTo(\"value\"));\n    }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#frontend-testing","title":"Frontend Testing","text":""},{"location":"development/testing-guide/#unit-tests-jasmine-karma","title":"Unit Tests (Jasmine + Karma)","text":"<p>Characteristics: - Test component logic in isolation - Mock services and dependencies - Fast execution</p>"},{"location":"development/testing-guide/#configuration-files","title":"Configuration Files","text":"<p>karma.conf.js: <pre><code>module.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage'),\n      require('@angular-devkit/build-angular/plugins/karma')\n    ],\n    browsers: ['Chrome'],\n    customLaunchers: {\n      ChromeHeadlessCI: {\n        base: 'ChromeHeadless',\n        flags: ['--no-sandbox']\n      }\n    }\n  });\n};\n</code></pre></p> <p>tsconfig.spec.json: <pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/spec\",\n    \"types\": [\"jasmine\"]\n  },\n  \"include\": [\"src/**/*.spec.ts\"]\n}\n</code></pre></p> <p>angular.json (test section): <pre><code>{\n  \"projects\": {\n    \"portfolio-frontend\": {\n      \"architect\": {\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"karmaConfig\": \"karma.conf.js\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#critical-typescript-type-rules-in-tests","title":"CRITICAL: TypeScript Type Rules in Tests","text":"<p>[REQUIRED] Use <code>undefined</code> for Optional Properties, NOT <code>null</code></p> <pre><code>// [BAD] - Using null for optional properties\nconst formValue = {\n  title: 'Test',\n  endDate: null  // TypeScript error if endDate?: string\n};\n\n// [GOOD] - Use undefined for optional properties\nconst formValue = {\n  title: 'Test',\n  endDate: undefined  // Correct for endDate?: string\n};\n\n// [ALSO GOOD] - Omit optional properties entirely\nconst formValue = {\n  title: 'Test'\n  // endDate is omitted, which is fine for optional properties\n};\n</code></pre> <p>Rationale: - TypeScript optional properties (<code>property?: type</code>) can be <code>type | undefined</code> - <code>null</code> is NOT the same as <code>undefined</code> in TypeScript - Jasmine's <code>toHaveBeenCalledWith()</code> enforces strict type checking - Using <code>null</code> for optional properties will cause compilation errors</p>"},{"location":"development/testing-guide/#frontend-test-pattern","title":"Frontend Test Pattern","text":"<pre><code>describe('Service', () =&gt; {\n  let service: Service;\n  let httpMock: HttpTestingController;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule],\n      providers: [Service, LoggerService]\n    });\n    service = TestBed.inject(Service);\n    httpMock = TestBed.inject(HttpTestingController);\n  });\n\n  it('should &lt;behavior&gt; when &lt;condition&gt;', () =&gt; {\n    // Test implementation\n  });\n\n  afterEach(() =&gt; {\n    httpMock.verify();\n  });\n});\n</code></pre>"},{"location":"development/testing-guide/#test-naming-conventions","title":"Test Naming Conventions","text":""},{"location":"development/testing-guide/#backend-given-when-then","title":"Backend (Given-When-Then)","text":"<p>Pattern: <code>should_&lt;expectedBehavior&gt;_when_&lt;condition&gt;</code></p> <p>Examples: <pre><code>@Test\nvoid should_returnProject_when_validId() { }\n\n@Test\nvoid should_throwNotFoundException_when_projectNotFound() { }\n\n@Test\nvoid should_updateProject_when_validData() { }\n</code></pre></p>"},{"location":"development/testing-guide/#frontend-behavior-description","title":"Frontend (Behavior Description)","text":"<p>Pattern: <code>should &lt;behavior&gt; when &lt;condition&gt;</code></p> <p>Examples: <pre><code>it('should display project list when loaded', () =&gt; {});\n\nit('should show error message when API fails', () =&gt; {});\n\nit('should navigate to detail page when clicking project', () =&gt; {});\n</code></pre></p>"},{"location":"development/testing-guide/#test-execution","title":"Test Execution","text":""},{"location":"development/testing-guide/#backend-commands","title":"Backend Commands","text":"<pre><code># Unit tests only (fast, no Docker)\n./gradlew test\n\n# Integration tests (Testcontainers, Docker required)\n./gradlew integrationTest\n\n# All tests\n./gradlew test integrationTest\n\n# Coverage report\n./gradlew test jacocoTestReport\n# Report: build/reports/jacoco/test/html/index.html\n\n# Coverage verification (fails if &lt; 80%)\n./gradlew jacocoTestCoverageVerification\n</code></pre>"},{"location":"development/testing-guide/#frontend-commands","title":"Frontend Commands","text":"<pre><code># Unit tests (watch mode)\nnpm test\n\n# Single run (CI mode)\nnpm run test:ci\n\n# Coverage report\nnpm run test:coverage\n# Report: coverage/index.html\n</code></pre>"},{"location":"development/testing-guide/#coverage-requirements","title":"Coverage Requirements","text":""},{"location":"development/testing-guide/#backend-jacoco","title":"Backend (JaCoCo)","text":"<p>Thresholds: - Global: 80% minimum - Per package: 70% minimum</p> <p>Exclusions: - Entities (JPA models) - DTOs (Data Transfer Objects) - Configurations (Spring configs) - Exceptions (Custom exception classes) - Mappers (MapStruct interfaces)</p> <p>Configuration: See <code>build.gradle</code> lines 122-167</p>"},{"location":"development/testing-guide/#frontend-karmaistanbul","title":"Frontend (Karma/Istanbul)","text":"<p>Thresholds: - Statements: 80% - Branches: 75% - Functions: 80% - Lines: 80%</p> <p>Configuration: See <code>karma.conf.js</code></p>"},{"location":"development/testing-guide/#docker-for-integration-tests","title":"Docker for Integration Tests","text":""},{"location":"development/testing-guide/#requirements","title":"Requirements","text":"<p>[REQUIRED] Integration tests: - Must use Docker (Testcontainers) - Full system tests require <code>docker-compose</code> environment - Database, message brokers, external services \u2192 Docker</p> <p>[ALLOWED] Unit tests: - JUnit + Mockito can run without Docker - Fast feedback loop for TDD - No external dependencies needed</p>"},{"location":"development/testing-guide/#commands","title":"Commands","text":"<pre><code># Unit tests only (no Docker)\n./gradlew test\n\n# Integration tests with Testcontainers (Docker required)\n./gradlew integrationTest\n\n# Full system test with docker-compose\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n./gradlew test integrationTest\n</code></pre>"},{"location":"development/testing-guide/#best-practices","title":"Best Practices","text":""},{"location":"development/testing-guide/#test-independence","title":"Test Independence","text":"<p>[REQUIRED] Tests must: - Run independently of other tests - Have no reliance on execution order - Clean up resources after execution - Have no shared state between tests</p>"},{"location":"development/testing-guide/#mock-usage","title":"Mock Usage","text":"<p>[DO]: - Use lenient stubs for optional dependencies - Spy on external dependencies when needed - Verify interactions when behavior matters</p> <p>[DON'T]: - Over-mock internal logic - Mock value objects or DTOs - Create fragile tests tied to implementation details</p>"},{"location":"development/testing-guide/#test-data","title":"Test Data","text":"<p>[DO]: - Use test builders or factories for complex objects - Keep test data minimal and focused - Use descriptive variable names</p> <p>[DON'T]: - Share test data across multiple tests - Use production data in tests - Create overly complex test setups</p>"},{"location":"development/testing-guide/#related-documentation","title":"Related Documentation","text":"<ul> <li>Code Quality - Checkstyle, SpotBugs, JaCoCo configuration</li> <li>Setup Guide - Development environment setup</li> </ul>"},{"location":"development/testing/","title":"Testing Guide","text":""},{"location":"development/testing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Quick Start</li> <li>Test Coverage</li> <li>Testing Strategy</li> <li>Continuous Integration</li> </ol>"},{"location":"development/testing/#1-overview","title":"1. Overview","text":"<p>Unit testing framework for the Portfolio Application ensures code quality and prevents regressions.</p>"},{"location":"development/testing/#11-testing-frameworks","title":"1.1 Testing Frameworks","text":"Component Framework Test Runner Backend JUnit 5 + Mockito Gradle Frontend Jasmine Karma"},{"location":"development/testing/#2-quick-start","title":"2. Quick Start","text":""},{"location":"development/testing/#21-run-all-backend-tests","title":"2.1 Run All Backend Tests","text":"<pre><code>cd portfolio-backend\n./gradlew test\n</code></pre> <p>Report: <code>portfolio-backend/build/reports/tests/test/index.html</code></p>"},{"location":"development/testing/#22-run-all-frontend-tests","title":"2.2 Run All Frontend Tests","text":"<pre><code>cd portfolio-frontend\nnpm test -- --watch=false --browsers=ChromeHeadlessCI\n</code></pre> <p>Coverage: <code>portfolio-frontend/coverage/portfolio-frontend/index.html</code></p>"},{"location":"development/testing/#23-common-commands","title":"2.3 Common Commands","text":"Task Command Backend: Specific test class <code>./gradlew test --tests HealthServiceTest</code> Frontend: With coverage <code>npm test -- --code-coverage --watch=false --browsers=ChromeHeadlessCI</code> Backend: Single test method <code>./gradlew test --tests HealthServiceTest.testPing_ShouldReturnOkStatus</code> Frontend: Interactive mode <code>npm test</code>"},{"location":"development/testing/#3-test-coverage","title":"3. Test Coverage","text":""},{"location":"development/testing/#31-view-current-coverage","title":"3.1 View Current Coverage","text":"<p>Backend: <pre><code>cd portfolio-backend\n./gradlew test jacocoTestReport\n# Open: build/reports/jacoco/test/html/index.html\n</code></pre></p> <p>Frontend: <pre><code>cd portfolio-frontend\nnpm test -- --code-coverage --watch=false\n# Open: coverage/portfolio-frontend/index.html\n</code></pre></p>"},{"location":"development/testing/#32-coverage-requirements","title":"3.2 Coverage Requirements","text":"<p>Coverage thresholds are enforced by CI/CD.</p> <p>Backend configuration: See <code>portfolio-backend/build.gradle</code> lines 136-167 Frontend configuration: See <code>karma.conf.js</code> (if configured)</p>"},{"location":"development/testing/#4-testing-strategy","title":"4. Testing Strategy","text":""},{"location":"development/testing/#41-test-pattern-aaa","title":"4.1 Test Pattern (AAA)","text":"<p>All tests follow the Arrange-Act-Assert pattern:</p> <pre><code>@Test\nvoid testPing_ShouldReturnOkStatus() {\n    // Arrange: Setup mocks and test data\n    // Act: Execute the method under test\n    HealthResponse response = healthService.ping();\n    // Assert: Verify the results\n    assertNotNull(response);\n    assertEquals(\"ok\", response.getStatus());\n}\n</code></pre>"},{"location":"development/testing/#42-naming-convention","title":"4.2 Naming Convention","text":"<p>Pattern: <code>test&lt;Method&gt;_When&lt;Condition&gt;_Should&lt;ExpectedBehavior&gt;</code></p> <p>Examples: - <code>testPing_ShouldReturnOkStatus()</code> - <code>testCheckDatabase_WhenHealthy_ShouldReturn200()</code> - <code>should create the component</code> - <code>should render title when component initializes</code></p>"},{"location":"development/testing/#43-best-practices","title":"4.3 Best Practices","text":"<p>Test Independence: - Run independently of other tests - No reliance on execution order - Clean up resources after execution - No shared state between tests</p> <p>Mock Usage: - Use lenient stubs for optional dependencies - Spy on external dependencies when needed - Verify interactions when behavior matters</p>"},{"location":"development/testing/#5-continuous-integration","title":"5. Continuous Integration","text":""},{"location":"development/testing/#51-cicd-integration","title":"5.1 CI/CD Integration","text":"<p>Tests are integrated into GitHub Actions workflow (<code>.github/workflows/ci-cd.yml</code>).</p> <p>Automated execution: - On every pull request - Before deployment to staging/production - On scheduled intervals (nightly builds)</p>"},{"location":"development/testing/#52-enabling-tests-in-pipeline","title":"5.2 Enabling Tests in Pipeline","text":"<p>Backend: <pre><code>- name: Run Backend Unit Tests\n  run: ./gradlew test\n  working-directory: portfolio-backend\n</code></pre></p> <p>Frontend: <pre><code>- name: Run Frontend Unit Tests\n  run: npm test -- --watch=false --browsers=ChromeHeadlessCI\n  working-directory: portfolio-frontend\n</code></pre></p> <p>Note: Tests are currently disabled in pipeline but can be enabled by uncommenting these steps.</p>"},{"location":"features/","title":"Features Overview","text":""},{"location":"features/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Content Management Features</li> <li>User Interaction Features</li> <li>Media Processing Features</li> <li>Infrastructure Features</li> </ol>"},{"location":"features/#1-introduction","title":"1. Introduction","text":"<p>Overview of the Portfolio application features. Each feature is documented in detail in its respective file.</p> <p>Feature Categories: - Content Management: Blog articles, experiences, CV management, site configuration - User Interaction: Contact form with rate limiting - Media Processing: Image optimization, file storage - Infrastructure: Messaging, event streaming, caching, resilience</p>"},{"location":"features/#2-content-management-features","title":"2. Content Management Features","text":""},{"location":"features/#21-blog-articles","title":"2.1 Blog Articles","text":"<p>File: blog-articles.md</p> <p>Markdown blog system with GitHub Flavored Markdown support.</p> <p>Capabilities: Flexmark rendering, slug generation, reading time calculation, draft/publish workflow, tag categorization</p>"},{"location":"features/#22-experience-management","title":"2.2 Experience Management","text":"<p>File: experience-management.md</p> <p>Timeline-based experience management (work, education, certifications, volunteering).</p> <p>Capabilities: Four experience types, date validation, ongoing experiences, type-based filtering</p>"},{"location":"features/#23-cv-management","title":"2.3 CV Management","text":"<p>File: cv-management.md</p> <p>CV/resume management system with versioning.</p> <p>Capabilities: Multiple versions, single \"current\" designation, PDF validation, public download</p>"},{"location":"features/#24-site-configuration","title":"2.4 Site Configuration","text":"<p>File: site-configuration.md</p> <p>Centralized site-wide settings (identity, hero, SEO, social links).</p> <p>Capabilities: Profile image upload, WebP optimization, singleton pattern</p>"},{"location":"features/#3-user-interaction-features","title":"3. User Interaction Features","text":""},{"location":"features/#31-contact-form","title":"3.1 Contact Form","text":"<p>File: contact-form.md</p> <p>Rate-limited contact form with email notification.</p> <p>Capabilities: IP-based rate limiting (Redis), email notification, validation, proxy support</p>"},{"location":"features/#4-media-processing-features","title":"4. Media Processing Features","text":""},{"location":"features/#41-image-processing","title":"4.1 Image Processing","text":"<p>File: image-processing.md</p> <p>Automatic image optimization with WebP conversion.</p> <p>Capabilities: WebP conversion, thumbnail generation (400x300px), MIME validation, 25-35% size reduction</p>"},{"location":"features/#42-file-storage","title":"4.2 File Storage","text":"<p>File: file-storage.md</p> <p>Secure file storage with validation and cleanup.</p> <p>Capabilities: Organized directory structure, timestamped filenames, MIME validation, path traversal prevention</p>"},{"location":"features/#5-infrastructure-features","title":"5. Infrastructure Features","text":""},{"location":"features/#51-messaging-rabbitmq","title":"5.1 Messaging (RabbitMQ)","text":"<p>File: messaging.md</p> <p>Asynchronous message processing for email, image processing, audit logging.</p> <p>Capabilities: Non-blocking operations, dead letter queue, automatic retries</p>"},{"location":"features/#52-event-streaming-kafka","title":"5.2 Event Streaming (Kafka)","text":"<p>File: event-streaming.md</p> <p>Event-driven architecture for admin actions, analytics, activity tracking.</p> <p>Capabilities: Admin events, analytics events, activity events, 3 partitions per topic</p>"},{"location":"features/#53-audit-system","title":"5.3 Audit System","text":"<p>File: audit-system.md</p> <p>AOP-based audit logging for administrative actions.</p> <p>Capabilities: @Auditable annotation, old/new value capture, CSV/JSON/PDF export, 90-day retention</p>"},{"location":"features/#54-full-text-search","title":"5.4 Full-text Search","text":"<p>File: search.md</p> <p>Elasticsearch-based full-text search.</p> <p>Capabilities: Articles/projects/experiences search, JPA fallback, weekly reindex</p>"},{"location":"features/#55-batch-processing","title":"5.5 Batch Processing","text":"<p>File: batch-processing.md</p> <p>Spring Batch jobs for scheduled maintenance.</p> <p>Capabilities: Audit cleanup, report generation, stats aggregation, sitemap regeneration</p>"},{"location":"features/#56-visitor-tracking","title":"5.6 Visitor Tracking","text":"<p>File: visitor-tracking.md</p> <p>Real-time visitor tracking using Redis and SSE.</p> <p>Capabilities: Active visitors count, daily unique visitors, SSE stream, 7-day chart</p>"},{"location":"features/#57-circuit-breaker","title":"5.7 Circuit Breaker","text":"<p>File: circuit-breaker.md</p> <p>Resilience patterns for external service calls.</p> <p>Capabilities: Circuit breaker (email), retry with backoff, fallback handling</p>"},{"location":"features/#58-pwa-offline-support","title":"5.8 PWA (Offline Support)","text":"<p>File: pwa.md</p> <p>Progressive Web App with Service Worker.</p> <p>Capabilities: Offline access, asset caching, installable as native app</p>"},{"location":"features/#59-internationalization-i18n","title":"5.9 Internationalization (i18n)","text":"<p>File: i18n.md</p> <p>Multi-language support (10 languages including RTL).</p> <p>Capabilities: Browser detection, localStorage persistence, Arabic RTL support</p>"},{"location":"features/#510-seo","title":"5.10 SEO","text":"<p>File: seo.md</p> <p>Search engine optimization.</p> <p>Capabilities: Dynamic meta tags, OpenGraph/Twitter Cards, JSON-LD structured data</p>"},{"location":"features/#511-sitemap","title":"5.11 Sitemap","text":"<p>File: sitemap.md</p> <p>Dynamic sitemap.xml generation.</p> <p>Capabilities: All projects/articles, daily updates, priority attributes</p>"},{"location":"features/#512-application-caching","title":"5.12 Application Caching","text":"<p>File: caching.md</p> <p>Redis-based application caching.</p> <p>Capabilities: 5 caches (siteConfig, skills, projects, experiences, tags), TTL expiration, auto-eviction</p>"},{"location":"features/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Documentation - API endpoints</li> <li>Architecture: Database Schema - Database design</li> <li>Architecture: Frontend - Angular architecture</li> <li>Security: JWT Implementation - Authentication</li> <li>Reference: Configuration Properties - Configuration</li> </ul>"},{"location":"features/audit-system/","title":"Audit System","text":"<p>AOP-based audit logging for tracking all administrative actions with complete change history.</p>"},{"location":"features/audit-system/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Usage</li> <li>Configuration</li> <li>Database Schema</li> <li>Related Documentation</li> </ol>"},{"location":"features/audit-system/#overview","title":"Overview","text":"<p>The audit system provides comprehensive tracking of:</p> <ul> <li>Entity operations - CREATE, UPDATE, DELETE on all entities</li> <li>Business actions - PUBLISH, UNPUBLISH, FEATURE, UNFEATURE</li> <li>Authentication events - LOGIN, LOGOUT, LOGIN_FAILED, PASSWORD_CHANGE</li> <li>Change capture - Old and new values for UPDATE/DELETE operations</li> </ul> <p>Key capabilities: - Non-blocking asynchronous logging via RabbitMQ - SpEL expressions for dynamic entity ID/name extraction - Automatic old/new value capture - Sensitive field redaction (passwords, tokens) - Export to CSV, JSON, and monthly PDF reports - 90-day retention with automatic cleanup</p>"},{"location":"features/audit-system/#architecture","title":"Architecture","text":""},{"location":"features/audit-system/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>@Auditable</code> <code>audit/</code> Method annotation for audit logging <code>AuditAspect</code> <code>audit/</code> AOP aspect intercepting annotated methods <code>AuditContext</code> <code>audit/</code> Request context (userId, IP, userAgent) <code>AuditContextHolder</code> <code>audit/</code> ThreadLocal context storage <code>AuditContextFilter</code> <code>audit/</code> Filter populating context at request start <code>AuditLogSpecification</code> <code>audit/</code> JPA Specification for filtering <code>AuditService</code> <code>service/</code> Audit log CRUD operations <code>AuditServiceImpl</code> <code>service/impl/</code> Service implementation <code>AuditConsumer</code> <code>messaging/consumer/</code> Async message consumer <code>AdminAuditController</code> <code>controller/</code> REST API endpoints"},{"location":"features/audit-system/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>AuditService</code> <code>services/</code> HTTP service for audit API <code>AdminAuditListComponent</code> <code>pages/admin/audit/</code> Audit log viewer"},{"location":"features/audit-system/#usage","title":"Usage","text":""},{"location":"features/audit-system/#annotating-methods","title":"Annotating Methods","text":"<p>Use <code>@Auditable</code> annotation on service methods:</p> <pre><code>@Auditable(\n    action = AuditAction.CREATE,\n    entityType = \"Project\",\n    entityIdExpression = \"#result.id\",\n    entityNameExpression = \"#result.title\"\n)\npublic ProjectResponse createProject(CreateProjectRequest request) {\n    // implementation\n}\n\n@Auditable(\n    action = AuditAction.UPDATE,\n    entityType = \"Project\",\n    entityIdExpression = \"#id\",\n    entityNameExpression = \"#result.title\",\n    captureOldValues = true\n)\npublic ProjectResponse updateProject(Long id, UpdateProjectRequest request) {\n    // implementation\n}\n\n@Auditable(\n    action = AuditAction.DELETE,\n    entityType = \"Project\",\n    entityIdExpression = \"#id\",\n    captureOldValues = true\n)\npublic void deleteProject(Long id) {\n    // implementation\n}\n</code></pre>"},{"location":"features/audit-system/#spel-expressions","title":"SpEL Expressions","text":"Expression Description <code>#id</code> Method parameter named \"id\" <code>#request.id</code> Property from request object <code>#result.id</code> Property from return value <code>#result.title</code> Entity name from return value"},{"location":"features/audit-system/#audit-actions","title":"Audit Actions","text":"Action Description Captures <code>CREATE</code> Entity created New values <code>UPDATE</code> Entity updated Old + new values <code>DELETE</code> Entity deleted Old values <code>PUBLISH</code> Article published Old + new values <code>UNPUBLISH</code> Article unpublished Old + new values <code>FEATURE</code> Project featured Old + new values <code>UNFEATURE</code> Project unfeatured Old + new values <code>SET_CURRENT</code> CV set as current Old + new values <code>LOGIN</code> User logged in - <code>LOGOUT</code> User logged out - <code>LOGIN_FAILED</code> Login attempt failed - <code>PASSWORD_CHANGE</code> Password changed -"},{"location":"features/audit-system/#entity-types","title":"Entity Types","text":"Entity Type Audited Operations <code>PROJECT</code> CRUD, FEATURE/UNFEATURE <code>ARTICLE</code> CRUD, PUBLISH/UNPUBLISH <code>SKILL</code> CRUD <code>EXPERIENCE</code> CRUD <code>TAG</code> CRUD <code>CV</code> CRUD, SET_CURRENT <code>SITE_CONFIGURATION</code> UPDATE <code>USER</code> Authentication events"},{"location":"features/audit-system/#configuration","title":"Configuration","text":""},{"location":"features/audit-system/#application-properties","title":"Application Properties","text":"<pre><code># Audit retention\naudit:\n  retention-days: ${AUDIT_RETENTION_DAYS:90}\n\n# Batch cleanup job\nbatch:\n  audit-cleanup:\n    cron: \"0 0 2 * * ?\"  # Daily at 2:00 AM\n\n# Batch report job\nbatch:\n  audit-report:\n    cron: \"0 0 3 1 * ?\"  # 1st of month at 3:00 AM\n</code></pre>"},{"location":"features/audit-system/#sensitive-fields","title":"Sensitive Fields","text":"<p>Fields automatically redacted in audit logs:</p> <ul> <li><code>password</code></li> <li><code>passwordHash</code></li> <li><code>secret</code></li> <li><code>token</code></li> <li><code>refreshToken</code></li> <li><code>accessToken</code></li> </ul>"},{"location":"features/audit-system/#database-schema","title":"Database Schema","text":""},{"location":"features/audit-system/#audit_logs-table","title":"audit_logs Table","text":"<pre><code>CREATE TABLE audit_logs (\n    id BIGSERIAL PRIMARY KEY,\n    action VARCHAR(50) NOT NULL,\n    entity_type VARCHAR(50) NOT NULL,\n    entity_id BIGINT,\n    entity_name VARCHAR(255),\n    user_id BIGINT,\n    username VARCHAR(100),\n    user_role VARCHAR(50),\n    ip_address VARCHAR(45),\n    user_agent VARCHAR(500),\n    request_id VARCHAR(36),\n    old_values JSONB,\n    new_values JSONB,\n    changed_fields TEXT[],\n    success BOOLEAN DEFAULT true,\n    error_message TEXT,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Indexes for common queries\nCREATE INDEX idx_audit_logs_created_at ON audit_logs(created_at DESC);\nCREATE INDEX idx_audit_logs_action ON audit_logs(action);\nCREATE INDEX idx_audit_logs_entity_type ON audit_logs(entity_type);\nCREATE INDEX idx_audit_logs_entity ON audit_logs(entity_type, entity_id);\nCREATE INDEX idx_audit_logs_username_lower ON audit_logs(LOWER(username));\n</code></pre>"},{"location":"features/audit-system/#export-formats","title":"Export Formats","text":""},{"location":"features/audit-system/#csv-export","title":"CSV Export","text":"<p>Includes columns: timestamp, action, entityType, entityId, entityName, username, ipAddress, success, changedFields</p>"},{"location":"features/audit-system/#json-export","title":"JSON Export","text":"<p>Full audit log entries including old/new values as JSON objects.</p>"},{"location":"features/audit-system/#monthly-pdf-report","title":"Monthly PDF Report","text":"<p>Generated automatically on the 1st of each month containing: - Total actions by type - Actions by entity type - Actions by user - Daily activity summary - Top modified entities</p>"},{"location":"features/audit-system/#related-documentation","title":"Related Documentation","text":"<ul> <li>Audit API - REST API endpoints</li> <li>Messaging - Async audit logging</li> <li>Batch Processing - Cleanup and report jobs</li> </ul>"},{"location":"features/batch-processing/","title":"Batch Processing","text":"<p>Spring Batch jobs for scheduled maintenance, reporting, and data processing tasks.</p>"},{"location":"features/batch-processing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Scheduled Jobs</li> <li>Manual Jobs</li> <li>Configuration</li> <li>Database Schema</li> <li>Related Documentation</li> </ol>"},{"location":"features/batch-processing/#overview","title":"Overview","text":"<p>The batch processing system provides scheduled and on-demand jobs:</p> <ul> <li>Audit cleanup - Remove old audit logs (retention policy)</li> <li>Audit reports - Generate monthly PDF reports</li> <li>Stats aggregation - Daily statistics collection</li> <li>Sitemap generation - Dynamic sitemap.xml updates</li> <li>Search reindex - Weekly Elasticsearch synchronization</li> <li>Image reprocessing - On-demand image quality updates</li> </ul> <p>Key characteristics: - Conditional activation via <code>batch.enabled</code> property - Configurable cron expressions per job - Job execution tracking via Spring Batch metadata - Fault-tolerant processing with skip limits - Admin dashboard integration for monitoring</p>"},{"location":"features/batch-processing/#architecture","title":"Architecture","text":""},{"location":"features/batch-processing/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>BatchJobScheduler</code> <code>batch/</code> Scheduled job launcher <code>AuditCleanupJobConfig</code> <code>batch/</code> Audit retention job <code>AuditReportJobConfig</code> <code>batch/</code> Monthly report generation <code>StatsAggregationJobConfig</code> <code>batch/</code> Daily statistics job <code>SitemapGenerationJobConfig</code> <code>batch/</code> Sitemap regeneration job <code>SearchReindexJobConfig</code> <code>batch/</code> Elasticsearch reindex job <code>ImageReprocessingJobConfig</code> <code>batch/</code> Image reprocessing job <code>AdminBatchController</code> <code>controller/</code> REST API for manual triggers"},{"location":"features/batch-processing/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>BatchService</code> <code>services/</code> HTTP service for batch API <code>DashboardComponent</code> <code>pages/admin/dashboard/</code> Batch job status display"},{"location":"features/batch-processing/#job-flow","title":"Job Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    BatchJobScheduler                         \u2502\n\u2502  @Scheduled(cron) triggers at configured intervals          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      JobLauncher                             \u2502\n\u2502  Creates JobExecution with timestamp parameter              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Job (Tasklet or Chunk)                    \u2502\n\u2502  Executes business logic, logs results                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    JobRepository                             \u2502\n\u2502  Persists execution metadata (status, exit code, counts)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/batch-processing/#scheduled-jobs","title":"Scheduled Jobs","text":""},{"location":"features/batch-processing/#audit-cleanup-job","title":"Audit Cleanup Job","text":"<p>Deletes audit logs older than the configured retention period.</p> Property Value Job Name <code>auditCleanupJob</code> Schedule Daily at 2:00 AM Cron <code>0 0 2 * * ?</code> Retention 90 days (configurable) <p>Tasklet Logic: <pre><code>LocalDateTime cutoffDate = LocalDateTime.now().minusDays(retentionDays);\nlong deletedCount = auditLogRepository.deleteByCreatedAtBefore(cutoffDate);\n</code></pre></p>"},{"location":"features/batch-processing/#audit-report-job","title":"Audit Report Job","text":"<p>Generates monthly PDF reports with audit statistics.</p> Property Value Job Name <code>auditReportJob</code> Schedule 1st of month at 3:00 AM Cron <code>0 0 3 1 * ?</code> Output PDF file in reports directory <p>Report Contents: - Total actions by type - Actions by entity type - Actions by user - Daily activity summary - Top modified entities</p>"},{"location":"features/batch-processing/#stats-aggregation-job","title":"Stats Aggregation Job","text":"<p>Collects and stores daily portfolio statistics.</p> Property Value Job Name <code>statsAggregationJob</code> Schedule Daily at midnight Cron <code>0 0 0 * * ?</code> Target <code>daily_stats</code> table <p>Aggregated Metrics:</p> Metric Source <code>total_projects</code> ProjectRepository.count() <code>total_articles</code> ArticleRepository.count() <code>total_skills</code> SkillRepository.count() <code>total_experiences</code> ExperienceRepository.count() <code>total_tags</code> TagRepository.count() <code>published_articles</code> Query published articles <code>draft_articles</code> Calculated from total <code>total_project_images</code> ProjectImageRepository.count() <code>total_article_images</code> ArticleImageRepository.count() <code>unique_visitors</code> Redis daily visitor set <code>audit_events_count</code> AuditLogRepository count <code>failed_audit_events</code> Failed audit events count <p>Idempotency: Skips execution if stats already exist for the date.</p>"},{"location":"features/batch-processing/#sitemap-generation-job","title":"Sitemap Generation Job","text":"<p>Regenerates the sitemap.xml file with current content.</p> Property Value Job Name <code>sitemapGenerationJob</code> Schedule Daily at 4:00 AM Cron <code>0 0 4 * * ?</code> Output sitemap.xml in public directory <p>Sitemap Entries: - Static pages (home, contact, blog) - Published articles with lastmod dates - Published projects with lastmod dates</p>"},{"location":"features/batch-processing/#search-reindex-job","title":"Search Reindex Job","text":"<p>Rebuilds all Elasticsearch indices from database.</p> Property Value Job Name <code>searchReindexJob</code> Schedule Sundays at 3:00 AM Cron <code>0 0 3 * * SUN</code> Indices articles, projects, experiences <p>Reindex Process: 1. Clear existing index documents 2. Fetch all entities from database 3. Index each entity type 4. Return total indexed count</p>"},{"location":"features/batch-processing/#manual-jobs","title":"Manual Jobs","text":""},{"location":"features/batch-processing/#image-reprocessing-job","title":"Image Reprocessing Job","text":"<p>On-demand job to reprocess images with updated quality settings.</p> Property Value Job Name <code>imageReprocessingJob</code> Trigger Manual via REST API Chunk Size 10 (configurable) Skip Limit 100 errors <p>Steps:</p> Step Reader Processor Writer <code>reprocessProjectImagesStep</code> READY project images Validate original exists Reprocess to WebP <code>reprocessArticleImagesStep</code> READY article images Validate original exists Reprocess to WebP <p>REST Endpoints:</p> Method Endpoint Description GET <code>/api/admin/batch/image-reprocessing/stats</code> Get eligible images count GET <code>/api/admin/batch/image-reprocessing/last</code> Get last job execution POST <code>/api/admin/batch/image-reprocessing/run</code> Trigger reprocessing <p>Response Models:</p> <pre><code>interface ImageReprocessingStats {\n  projectImagesEligible: number;\n  articleImagesEligible: number;\n  totalEligible: number;\n  timestamp: string;\n}\n\ninterface LastJobInfo {\n  lastJobId: number | null;\n  lastJobStatus: string | null;\n  lastJobDate: string | null;\n  exitCode: string | null;\n  processedCount: number;\n  errorCount: number;\n}\n\ninterface JobRunResult {\n  jobId: number;\n  status: string;\n  startTime: string;\n  exitCode: string;\n}\n</code></pre>"},{"location":"features/batch-processing/#configuration","title":"Configuration","text":""},{"location":"features/batch-processing/#application-properties","title":"Application Properties","text":"<pre><code># Enable batch processing\nbatch:\n  enabled: ${BATCH_ENABLED:false}\n\n  # Audit cleanup job\n  audit-cleanup:\n    cron: \"0 0 2 * * ?\"        # Daily at 2:00 AM\n    retention-days: 90          # Keep logs for 90 days\n\n  # Audit report job\n  audit-report:\n    cron: \"0 0 3 1 * ?\"        # 1st of month at 3:00 AM\n\n  # Stats aggregation job\n  stats-aggregation:\n    cron: \"0 0 0 * * ?\"        # Daily at midnight\n\n  # Sitemap generation job\n  sitemap:\n    cron: \"0 0 4 * * ?\"        # Daily at 4:00 AM\n\n  # Search reindex job\n  search-reindex:\n    cron: \"0 0 3 * * SUN\"      # Sundays at 3:00 AM\n\n  # Image reprocessing job\n  image-reprocessing:\n    chunk-size: 10              # Images per chunk\n</code></pre>"},{"location":"features/batch-processing/#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>BATCH_ENABLED</code> <code>false</code> Enable batch job execution <code>AUDIT_RETENTION_DAYS</code> <code>90</code> Days to retain audit logs"},{"location":"features/batch-processing/#database-schema","title":"Database Schema","text":""},{"location":"features/batch-processing/#spring-batch-metadata-tables","title":"Spring Batch Metadata Tables","text":"<p>Spring Batch creates its metadata tables automatically:</p> Table Purpose <code>BATCH_JOB_INSTANCE</code> Job instances <code>BATCH_JOB_EXECUTION</code> Job executions <code>BATCH_JOB_EXECUTION_PARAMS</code> Job parameters <code>BATCH_STEP_EXECUTION</code> Step executions <code>BATCH_STEP_EXECUTION_CONTEXT</code> Step context <code>BATCH_JOB_EXECUTION_CONTEXT</code> Job context"},{"location":"features/batch-processing/#daily-stats-table","title":"Daily Stats Table","text":"<pre><code>CREATE TABLE daily_stats (\n    id BIGSERIAL PRIMARY KEY,\n    stats_date DATE NOT NULL UNIQUE,\n    total_projects BIGINT DEFAULT 0,\n    total_articles BIGINT DEFAULT 0,\n    published_articles BIGINT DEFAULT 0,\n    draft_articles BIGINT DEFAULT 0,\n    total_skills BIGINT DEFAULT 0,\n    total_experiences BIGINT DEFAULT 0,\n    total_tags BIGINT DEFAULT 0,\n    total_project_images BIGINT DEFAULT 0,\n    total_article_images BIGINT DEFAULT 0,\n    unique_visitors BIGINT DEFAULT 0,\n    audit_events_count BIGINT DEFAULT 0,\n    failed_audit_events BIGINT DEFAULT 0,\n    contact_submissions BIGINT DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_daily_stats_date ON daily_stats(stats_date DESC);\n</code></pre>"},{"location":"features/batch-processing/#related-documentation","title":"Related Documentation","text":"<ul> <li>Image Processing - Image optimization pipeline</li> <li>Audit System - Audit logging feature</li> <li>Search - Elasticsearch search feature</li> <li>Sitemap - Sitemap generation</li> </ul>"},{"location":"features/blog-articles/","title":"Blog Articles Feature","text":""},{"location":"features/blog-articles/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Article Structure</li> <li>Markdown Rendering</li> <li>Draft and Publish Workflow</li> <li>Automatic Content Processing</li> <li>Tag Categorization</li> <li>Image Management</li> <li>Pagination Support</li> <li>Configuration</li> </ol>"},{"location":"features/blog-articles/#1-overview","title":"1. Overview","text":"<p>The Blog Articles feature provides a comprehensive content management system for publishing technical articles and blog posts. Built with Markdown support and GitHub Flavored Markdown extensions.</p> <p>Key Capabilities: - Markdown-based content authoring with GitHub Flavored Markdown extensions - Draft/Publish workflow for content management - Automatic slug generation from titles - Reading time calculation (200 words/minute) - Excerpt generation from Markdown content - Tag-based categorization - Embedded image management - Pagination for large article collections - Author attribution</p> <p>Public Access: - View published articles - Filter articles by tags - Paginated article listing</p> <p>Admin Access: - Create, update, and delete articles - Publish and unpublish articles - Manage article drafts - Upload and manage images within articles</p>"},{"location":"features/blog-articles/#2-article-structure","title":"2. Article Structure","text":""},{"location":"features/blog-articles/#entity-model","title":"Entity Model","text":"<p>Article Entity (<code>com.emmanuelgabe.portfolio.entity.Article</code>):</p> <pre><code>@Entity\n@Table(name = \"articles\")\npublic class Article {\n    private Long id;\n    private String title;              // 3-200 characters\n    private String slug;                // 3-200 characters, unique, URL-friendly\n    private String content;             // Markdown format\n    private String excerpt;             // Max 500 characters\n    private User author;                // ManyToOne relationship\n    private boolean draft;              // True for drafts, false for published\n    private LocalDateTime publishedAt;  // Publication timestamp\n    private Integer readingTimeMinutes; // Auto-calculated\n    private Set&lt;Tag&gt; tags;              // ManyToMany relationship\n    private Set&lt;ArticleImage&gt; images;   // OneToMany relationship\n}\n</code></pre>"},{"location":"features/blog-articles/#field-details","title":"Field Details","text":"Field Type Description Constraints <code>id</code> Long Primary key Auto-generated <code>title</code> String Article title Required, 3-200 chars <code>slug</code> String URL-friendly identifier Required, 3-200 chars, unique <code>content</code> String Markdown content Required <code>excerpt</code> String Short summary Optional, max 500 chars <code>author</code> User Article author Required, ManyToOne <code>draft</code> Boolean Draft status Default: true <code>publishedAt</code> LocalDateTime Publication timestamp Set on first publish <code>readingTimeMinutes</code> Integer Estimated reading time Auto-calculated <code>tags</code> Set Associated tags ManyToMany <code>images</code> Set Embedded images OneToMany, cascade"},{"location":"features/blog-articles/#3-markdown-rendering","title":"3. Markdown Rendering","text":""},{"location":"features/blog-articles/#flexmark-integration","title":"Flexmark Integration","text":"<p>The system uses Flexmark library for Markdown-to-HTML conversion with full GitHub Flavored Markdown (GFM) support.</p> <p>MarkdownService (<code>com.emmanuelgabe.portfolio.service.MarkdownService</code>):</p> <pre><code>@Service\npublic class MarkdownService {\n    public String renderToHtml(String markdown);\n    public String extractExcerpt(String markdown, int maxLength);\n}\n</code></pre>"},{"location":"features/blog-articles/#supported-github-flavored-markdown-extensions","title":"Supported GitHub Flavored Markdown Extensions","text":"<ol> <li> <p>Tables (<code>TablesExtension</code>): <pre><code>| Header 1 | Header 2 |\n|----------|----------|\n| Cell 1   | Cell 2   |\n</code></pre></p> </li> <li> <p>Strikethrough (<code>StrikethroughExtension</code>): <pre><code>~~strikethrough text~~\n</code></pre></p> </li> <li> <p>Task Lists (<code>TaskListExtension</code>): <pre><code>- [x] Completed task\n- [ ] Pending task\n</code></pre></p> </li> <li> <p>Autolinks (<code>AutolinkExtension</code>): <pre><code>https://example.com automatically becomes a link\n</code></pre></p> </li> </ol>"},{"location":"features/blog-articles/#rendering-configuration","title":"Rendering Configuration","text":"<pre><code>MutableDataSet options = new MutableDataSet()\n    .set(Parser.EXTENSIONS, Arrays.asList(\n        TablesExtension.create(),\n        StrikethroughExtension.create(),\n        TaskListExtension.create(),\n        AutolinkExtension.create()\n    ))\n    .set(HtmlRenderer.SOFT_BREAK, \"&lt;br /&gt;\\n\");\n</code></pre>"},{"location":"features/blog-articles/#excerpt-generation","title":"Excerpt Generation","text":"<pre><code>public String extractExcerpt(String markdown, int maxLength) {\n    String html = renderToHtml(markdown);\n    String text = html.replaceAll(\"&lt;[^&gt;]*&gt;\", \"\");  // Strip HTML tags\n    text = text.trim().replaceAll(\"\\\\s+\", \" \");    // Normalize whitespace\n    if (text.length() &lt;= maxLength) return text;\n    return text.substring(0, maxLength).trim() + \"...\";\n}\n</code></pre>"},{"location":"features/blog-articles/#4-draft-and-publish-workflow","title":"4. Draft and Publish Workflow","text":""},{"location":"features/blog-articles/#draft-state","title":"Draft State","text":"<p>Default State: All new articles start as drafts (<code>draft = true</code>)</p> <p>Characteristics: - Not visible to public users - Accessible only to admins - Can be edited without affecting published content - No publication timestamp</p>"},{"location":"features/blog-articles/#publishing","title":"Publishing","text":"<p>Endpoint: <code>PUT /api/articles/admin/{id}/publish</code></p> <p>Process: <pre><code>public void publish() {\n    this.draft = false;\n    if (this.publishedAt == null) {\n        this.publishedAt = LocalDateTime.now();\n    }\n}\n</code></pre></p> <p>Effects: - Sets <code>draft = false</code> - Records <code>publishedAt</code> timestamp (only on first publish) - Makes article visible to public users - Article appears in public listings</p>"},{"location":"features/blog-articles/#unpublishing","title":"Unpublishing","text":"<p>Endpoint: <code>PUT /api/articles/admin/{id}/unpublish</code></p> <p>Process: <pre><code>public void unpublish() {\n    this.draft = true;\n}\n</code></pre></p> <p>Effects: - Sets <code>draft = true</code> - Retains original <code>publishedAt</code> timestamp - Hides article from public users - Article remains accessible to admins</p>"},{"location":"features/blog-articles/#publication-check","title":"Publication Check","text":"<pre><code>public boolean isPublished() {\n    return !this.draft\n        &amp;&amp; this.publishedAt != null\n        &amp;&amp; !this.publishedAt.isAfter(LocalDateTime.now());\n}\n</code></pre> <p>Validation: - Must not be a draft - Must have a publication timestamp - Publication time must not be in the future (supports scheduled publishing)</p>"},{"location":"features/blog-articles/#5-automatic-content-processing","title":"5. Automatic Content Processing","text":""},{"location":"features/blog-articles/#slug-generation","title":"Slug Generation","text":"<p>Trigger: Automatically called when slug is null or blank</p> <p>Algorithm: <pre><code>public void generateSlug() {\n    if (this.slug == null || this.slug.isBlank()) {\n        this.slug = this.title\n            .toLowerCase()\n            .trim()\n            .replaceAll(\"[^a-z0-9\\\\s-]\", \"\")  // Remove special chars\n            .replaceAll(\"\\\\s+\", \"-\")           // Replace spaces with hyphens\n            .replaceAll(\"-+\", \"-\")              // Collapse multiple hyphens\n            .replaceAll(\"^-|-$\", \"\");           // Remove leading/trailing hyphens\n    }\n}\n</code></pre></p> <p>Examples: - <code>\"Introduction to Spring Boot\"</code> \u2192 <code>\"introduction-to-spring-boot\"</code> - <code>\"Java 21: New Features!\"</code> \u2192 <code>\"java-21-new-features\"</code> - <code>\"How to Build APIs  with REST\"</code> \u2192 <code>\"how-to-build-apis-with-rest\"</code></p>"},{"location":"features/blog-articles/#reading-time-calculation","title":"Reading Time Calculation","text":"<p>Trigger: Automatically called on article creation and updates</p> <p>Algorithm: <pre><code>public void calculateReadingTime() {\n    if (this.content != null &amp;&amp; !this.content.isBlank()) {\n        int wordCount = this.content.split(\"\\\\s+\").length;\n        this.readingTimeMinutes = Math.max(1, (int) Math.ceil(wordCount / 200.0));\n    }\n}\n</code></pre></p> <p>Assumptions: - Average reading speed: 200 words per minute - Minimum reading time: 1 minute - Word count calculated from Markdown content (includes code blocks)</p> <p>Examples: - 150 words \u2192 1 minute - 400 words \u2192 2 minutes - 1000 words \u2192 5 minutes</p>"},{"location":"features/blog-articles/#6-tag-categorization","title":"6. Tag Categorization","text":""},{"location":"features/blog-articles/#many-to-many-relationship","title":"Many-to-Many Relationship","text":"<p>Join Table: <code>article_tags</code></p> <p>Columns: - <code>article_id</code> (FK \u2192 articles.id) - <code>tag_id</code> (FK \u2192 tags.id)</p>"},{"location":"features/blog-articles/#tag-operations","title":"Tag Operations","text":"<p>Adding Tags: <pre><code>public void addTag(Tag tag) {\n    this.tags.add(tag);\n}\n</code></pre></p> <p>Removing Tags: <pre><code>public void removeTag(Tag tag) {\n    this.tags.remove(tag);\n}\n</code></pre></p>"},{"location":"features/blog-articles/#cascade-behavior","title":"Cascade Behavior","text":"<p>Article Creation/Update: - <code>CascadeType.PERSIST</code>: Tags are persisted when article is created - <code>CascadeType.MERGE</code>: Tags are merged when article is updated</p> <p>Article Deletion: - Tags are NOT deleted (only relationship removed) - Tags can be reused across multiple articles</p> <p>Tag Deletion: - Article-tag relationships are removed - Articles remain intact</p>"},{"location":"features/blog-articles/#7-image-management","title":"7. Image Management","text":""},{"location":"features/blog-articles/#articleimage-entity","title":"ArticleImage Entity","text":"<p>Relationship: OneToMany with cascade and orphan removal</p> <p>Entity Listener: <code>ArticleEntityListener</code></p> <p>Lifecycle Hook (<code>@PreRemove</code>): <pre><code>@PreRemove\npublic void preRemove(Article article) {\n    if (article.getImages() != null &amp;&amp; !article.getImages().isEmpty()) {\n        for (ArticleImage image : article.getImages()) {\n            imageService.deleteArticleImage(image.getImageUrl());\n        }\n    }\n}\n</code></pre></p>"},{"location":"features/blog-articles/#automatic-cleanup","title":"Automatic Cleanup","text":"<p>When Article is Deleted: 1. <code>@PreRemove</code> hook triggered 2. All associated <code>ArticleImage</code> records fetched 3. Each image file deleted from filesystem via <code>ImageService</code> 4. Database records removed via orphan removal</p> <p>Benefits: - Prevents orphaned image files - Automatic storage management - No manual cleanup required</p>"},{"location":"features/blog-articles/#image-operations","title":"Image Operations","text":"<p>Adding Images: <pre><code>public void addImage(ArticleImage image) {\n    this.images.add(image);\n    image.setArticle(this);  // Maintain bidirectional relationship\n}\n</code></pre></p> <p>Removing Images: <pre><code>public void removeImage(ArticleImage image) {\n    this.images.remove(image);\n    image.setArticle(null);  // Break bidirectional relationship\n}\n</code></pre></p>"},{"location":"features/blog-articles/#8-pagination-support","title":"8. Pagination Support","text":""},{"location":"features/blog-articles/#paginated-endpoints","title":"Paginated Endpoints","text":"<p>Public Endpoint: <pre><code>GET /api/articles/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n</code></pre></p> <p>Admin Endpoint: <pre><code>GET /api/articles/admin/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n</code></pre></p>"},{"location":"features/blog-articles/#default-configuration","title":"Default Configuration","text":"<pre><code>@PageableDefault(size = 10, sort = \"publishedAt\")\nPageable pageable\n</code></pre> <p>Defaults: - Page number: 0 (first page) - Page size: 10 articles - Sort field: <code>publishedAt</code> - Sort direction: Descending (newest first)</p>"},{"location":"features/blog-articles/#response-structure","title":"Response Structure","text":"<pre><code>{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"title\": \"Article Title\",\n      \"slug\": \"article-title\",\n      \"excerpt\": \"Article summary...\",\n      \"publishedAt\": \"2025-11-19T10:00:00\",\n      \"readingTimeMinutes\": 5,\n      \"tags\": [...]\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 10,\n    \"sort\": {...}\n  },\n  \"totalElements\": 45,\n  \"totalPages\": 5,\n  \"last\": false,\n  \"first\": true,\n  \"numberOfElements\": 10\n}\n</code></pre>"},{"location":"features/blog-articles/#query-parameters","title":"Query Parameters","text":"Parameter Type Description Example <code>page</code> integer Page number (zero-indexed) <code>page=0</code> <code>size</code> integer Number of articles per page <code>size=20</code> <code>sort</code> string Sort field and direction <code>sort=title,asc</code>"},{"location":"features/blog-articles/#9-configuration","title":"9. Configuration","text":""},{"location":"features/blog-articles/#flexmark-configuration","title":"Flexmark Configuration","text":"<p>Library: <code>com.vladsch.flexmark:flexmark-all</code></p> <p>Extensions: <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladsch.flexmark&lt;/groupId&gt;\n    &lt;artifactId&gt;flexmark-all&lt;/artifactId&gt;\n    &lt;version&gt;0.64.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></p>"},{"location":"features/blog-articles/#entity-listeners","title":"Entity Listeners","text":"<p>Registration: <pre><code>@EntityListeners(ArticleEntityListener.class)\npublic class Article { ... }\n</code></pre></p> <p>Component Injection: <pre><code>@Component\npublic class ArticleEntityListener {\n    @Autowired\n    public void setImageService(@Lazy ImageService imageService) {\n        this.imageService = imageService;\n    }\n}\n</code></pre></p> <p>Note: <code>@Lazy</code> injection prevents circular dependency issues during entity initialization.</p>"},{"location":"features/blog-articles/#related-documentation","title":"Related Documentation","text":"<ul> <li>Articles API - Complete API reference</li> <li>Tags API - Tag management</li> <li>Features: Image Processing - Image upload and optimization</li> <li>Architecture: Database Schema - Database structure</li> </ul>"},{"location":"features/caching/","title":"Application Caching","text":""},{"location":"features/caching/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Cache Configuration</li> <li>Cached Services</li> <li>Cache Keys</li> <li>Actuator Endpoints</li> <li>Configuration</li> </ol>"},{"location":"features/caching/#1-overview","title":"1. Overview","text":"<p>Redis-based application caching for frequently accessed, rarely modified data. Reduces database load and improves response times for public endpoints.</p> <p>Cached Resources: - Site configuration (singleton) - Skills list and categories - Projects list and featured projects - Experiences by type - Tags</p> <p>Strategy: Cache-aside pattern with Spring Cache annotations</p> <p>Invalidation: Automatic eviction on create/update/delete operations</p> <p>Storage: Redis with JSON serialization</p>"},{"location":"features/caching/#2-cache-configuration","title":"2. Cache Configuration","text":""},{"location":"features/caching/#cache-manager","title":"Cache Manager","text":"<p>Bean: <code>RedisCacheManager</code> in <code>CacheConfig.java</code></p> <p>Features: - JSON serialization (Jackson <code>GenericJackson2JsonRedisSerializer</code>) - Key prefix: <code>portfolio:</code> - Statistics enabled for Actuator metrics - Per-cache TTL configuration</p>"},{"location":"features/caching/#ttl-configuration","title":"TTL Configuration","text":"Cache Name TTL Use Case <code>siteConfig</code> 6 hours Singleton entity, rarely changes <code>skills</code> 4 hours Skills list, infrequent updates <code>projects</code> 2 hours Project list, moderate updates <code>experiences</code> 4 hours Timeline data, infrequent updates <code>tags</code> 4 hours Small reference table"},{"location":"features/caching/#serialization","title":"Serialization","text":"<p>Key Serializer: <code>StringRedisSerializer</code></p> <p>Value Serializer: <code>GenericJackson2JsonRedisSerializer</code></p> <p>Benefits: - Human-readable values in Redis CLI - Compatible with existing DTOs (no <code>Serializable</code> required) - Type information preserved for deserialization</p>"},{"location":"features/caching/#3-cached-services","title":"3. Cached Services","text":""},{"location":"features/caching/#siteconfigurationservice","title":"SiteConfigurationService","text":"Method Annotation Key <code>getSiteConfiguration()</code> <code>@Cacheable</code> <code>'current'</code> <code>updateSiteConfiguration()</code> <code>@CacheEvict(allEntries=true)</code> - <code>uploadProfileImage()</code> <code>@CacheEvict(allEntries=true)</code> - <code>deleteProfileImage()</code> <code>@CacheEvict(allEntries=true)</code> -"},{"location":"features/caching/#skillservice","title":"SkillService","text":"Method Annotation Key <code>getAllSkills()</code> <code>@Cacheable</code> <code>'all'</code> <code>getSkillById(id)</code> <code>@Cacheable</code> <code>#id</code> <code>getSkillsByCategory(category)</code> <code>@Cacheable</code> <code>'category:' + #category.name()</code> <code>createSkill()</code> <code>@CacheEvict(allEntries=true)</code> - <code>updateSkill()</code> <code>@CacheEvict(allEntries=true)</code> - <code>deleteSkill()</code> <code>@CacheEvict(allEntries=true)</code> - <code>uploadSkillIcon()</code> <code>@CacheEvict(allEntries=true)</code> -"},{"location":"features/caching/#projectservice","title":"ProjectService","text":"Method Annotation Key <code>getAllProjects()</code> <code>@Cacheable</code> <code>'all'</code> <code>getFeaturedProjects()</code> <code>@Cacheable</code> <code>'featured'</code> <code>getProjectById(id)</code> <code>@Cacheable</code> <code>#id</code> <code>createProject()</code> <code>@CacheEvict(allEntries=true)</code> - <code>updateProject()</code> <code>@CacheEvict(allEntries=true)</code> - <code>deleteProject()</code> <code>@CacheEvict(allEntries=true)</code> - Image operations <code>@CacheEvict(allEntries=true)</code> -"},{"location":"features/caching/#experienceservice","title":"ExperienceService","text":"Method Annotation Key <code>getAllExperiences()</code> <code>@Cacheable</code> <code>'all'</code> <code>getExperienceById(id)</code> <code>@Cacheable</code> <code>#id</code> <code>getExperiencesByType(type)</code> <code>@Cacheable</code> <code>'type:' + #type.name()</code> <code>getOngoingExperiences()</code> <code>@Cacheable</code> <code>'ongoing'</code> <code>getRecentExperiences(limit)</code> <code>@Cacheable</code> <code>'recent:' + #limit</code> <code>createExperience()</code> <code>@CacheEvict(allEntries=true)</code> - <code>updateExperience()</code> <code>@CacheEvict(allEntries=true)</code> - <code>deleteExperience()</code> <code>@CacheEvict(allEntries=true)</code> -"},{"location":"features/caching/#tagservice","title":"TagService","text":"Method Annotation Key <code>getAllTags()</code> <code>@Cacheable</code> <code>'all'</code> <code>getTagById(id)</code> <code>@Cacheable</code> <code>#id</code> <code>getTagByName(name)</code> <code>@Cacheable</code> <code>'name:' + #name</code> <code>createTag()</code> <code>@CacheEvict(allEntries=true)</code> - <code>updateTag()</code> <code>@CacheEvict(allEntries=true)</code> - <code>deleteTag()</code> <code>@CacheEvict(allEntries=true)</code> -"},{"location":"features/caching/#4-cache-keys","title":"4. Cache Keys","text":""},{"location":"features/caching/#key-format","title":"Key Format","text":"<p>Pattern: <code>portfolio:{cacheName}::{key}</code></p>"},{"location":"features/caching/#examples","title":"Examples","text":"<pre><code>portfolio:siteConfig::current\nportfolio:skills::all\nportfolio:skills::1\nportfolio:skills::category:FRONTEND\nportfolio:projects::all\nportfolio:projects::featured\nportfolio:projects::5\nportfolio:experiences::all\nportfolio:experiences::type:WORK\nportfolio:experiences::ongoing\nportfolio:experiences::recent:5\nportfolio:tags::all\nportfolio:tags::name:Angular\n</code></pre>"},{"location":"features/caching/#redis-cli-commands","title":"Redis CLI Commands","text":"<p>View all cache keys: <pre><code>redis-cli KEYS \"portfolio:*\"\n</code></pre></p> <p>View specific cache value: <pre><code>redis-cli GET \"portfolio:skills::all\"\n</code></pre></p> <p>Check TTL: <pre><code>redis-cli TTL \"portfolio:siteConfig::current\"\n</code></pre></p> <p>Clear specific cache: <pre><code>redis-cli DEL \"portfolio:skills::all\"\n</code></pre></p> <p>Clear all caches: <pre><code>redis-cli KEYS \"portfolio:*\" | xargs redis-cli DEL\n</code></pre></p>"},{"location":"features/caching/#5-actuator-endpoints","title":"5. Actuator Endpoints","text":""},{"location":"features/caching/#cache-management","title":"Cache Management","text":"Endpoint Method Description <code>/actuator/caches</code> GET List all caches and their configuration <code>/actuator/caches/{name}</code> GET Details of a specific cache <code>/actuator/caches</code> DELETE Clear all caches <code>/actuator/caches/{name}</code> DELETE Clear a specific cache"},{"location":"features/caching/#metrics-prometheus","title":"Metrics (Prometheus)","text":"<p>Available metrics:</p> Metric Description Tags <code>cache_gets_total</code> Total cache requests <code>cache</code>, <code>result</code> (hit/miss) <code>cache_puts_total</code> Total cache writes <code>cache</code> <code>cache_evictions_total</code> Total evictions <code>cache</code> <p>Example Prometheus queries:</p> <pre><code># Cache hit ratio for skills cache\nsum(rate(cache_gets_total{cache=\"skills\",result=\"hit\"}[5m])) /\nsum(rate(cache_gets_total{cache=\"skills\"}[5m]))\n\n# Total cache misses across all caches\nsum(rate(cache_gets_total{result=\"miss\"}[5m]))\n</code></pre>"},{"location":"features/caching/#6-configuration","title":"6. Configuration","text":""},{"location":"features/caching/#application-properties","title":"Application Properties","text":"<p>application.yml: <pre><code>spring:\n  cache:\n    type: redis\n    redis:\n      time-to-live: 3600000  # Default 1 hour (ms)\n\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n      timeout: 2000ms\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,prometheus,metrics,caches\n</code></pre></p>"},{"location":"features/caching/#cacheconfig-bean","title":"CacheConfig Bean","text":"<p>Location: <code>com.emmanuelgabe.portfolio.config.CacheConfig</code></p> <pre><code>@Configuration\npublic class CacheConfig {\n\n    @Bean\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\n        // JSON serializer for cache values\n        GenericJackson2JsonRedisSerializer jsonSerializer =\n            new GenericJackson2JsonRedisSerializer();\n\n        // Default configuration\n        RedisCacheConfiguration defaultConfig = RedisCacheConfiguration.defaultCacheConfig()\n            .entryTtl(Duration.ofHours(1))\n            .serializeKeysWith(...)\n            .serializeValuesWith(...)\n            .prefixCacheNameWith(\"portfolio:\");\n\n        // Per-cache TTL configuration\n        Map&lt;String, RedisCacheConfiguration&gt; cacheConfigs = Map.of(\n            \"siteConfig\", defaultConfig.entryTtl(Duration.ofHours(6)),\n            \"skills\", defaultConfig.entryTtl(Duration.ofHours(4)),\n            \"projects\", defaultConfig.entryTtl(Duration.ofHours(2)),\n            \"experiences\", defaultConfig.entryTtl(Duration.ofHours(4)),\n            \"tags\", defaultConfig.entryTtl(Duration.ofHours(4))\n        );\n\n        return RedisCacheManager.builder(connectionFactory)\n            .cacheDefaults(defaultConfig)\n            .withInitialCacheConfigurations(cacheConfigs)\n            .enableStatistics()\n            .build();\n    }\n}\n</code></pre>"},{"location":"features/caching/#dependencies","title":"Dependencies","text":"<p>build.gradle: <pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis'\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n}\n</code></pre></p>"},{"location":"features/caching/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: Rate Limiting - Redis-based rate limiting (same infrastructure)</li> <li>Reference: Configuration Properties - All configuration options</li> <li>Operations: Health Checks - Actuator endpoints</li> </ul>"},{"location":"features/circuit-breaker/","title":"Circuit Breaker","text":"<p>Resilience4j circuit breaker pattern for external service calls with retry and fallback.</p>"},{"location":"features/circuit-breaker/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Usage</li> <li>Configuration</li> <li>Admin API Endpoints</li> <li>Related Documentation</li> </ol>"},{"location":"features/circuit-breaker/#overview","title":"Overview","text":"<p>The circuit breaker pattern protects the application from cascading failures:</p> <ul> <li>Fail-fast when external services are unavailable</li> <li>Automatic recovery after configured wait duration</li> <li>Retry mechanism before circuit opens</li> <li>Fallback handling for graceful degradation</li> </ul> <p>Key characteristics: - Resilience4j implementation - Annotation-driven configuration - Prometheus metrics exposed - Admin dashboard monitoring</p>"},{"location":"features/circuit-breaker/#architecture","title":"Architecture","text":""},{"location":"features/circuit-breaker/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>EmailSenderServiceImpl</code> <code>service/impl/</code> Protected email sending <code>AdminCircuitBreakerController</code> <code>controller/</code> Status monitoring API <code>CircuitBreakerStatusResponse</code> <code>dto/</code> Status response DTO"},{"location":"features/circuit-breaker/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>CircuitBreakerService</code> <code>services/</code> HTTP service for status <code>DashboardComponent</code> <code>pages/admin/dashboard/</code> Status display card"},{"location":"features/circuit-breaker/#circuit-states","title":"Circuit States","text":"<pre><code>     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502   CLOSED    \u2502 \u2190 Normal operation, calls allowed\n     \u2502 (healthy)   \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502 failure rate exceeds threshold\n            \u25bc\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502    OPEN     \u2502 \u2190 Calls blocked, fast-fail\n     \u2502  (failing)  \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502 wait duration expires\n            \u25bc\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502  HALF_OPEN  \u2502 \u2190 Limited calls allowed\n     \u2502  (testing)  \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502 success \u2192 CLOSED\n            \u2502 failure \u2192 OPEN\n            \u25bc\n</code></pre>"},{"location":"features/circuit-breaker/#usage","title":"Usage","text":""},{"location":"features/circuit-breaker/#annotating-methods","title":"Annotating Methods","text":"<p>Apply <code>@CircuitBreaker</code> and <code>@Retry</code> annotations:</p> <pre><code>@Retry(name = \"emailService\")\n@CircuitBreaker(name = \"emailService\", fallbackMethod = \"sendHtmlEmailFallback\")\npublic void sendHtmlEmail(String from, String to, String subject, String body) {\n    // Implementation\n}\n\nprivate void sendHtmlEmailFallback(String from, String to, String subject,\n        String body, Throwable t) {\n    log.warn(\"[EMAIL_SENDER] Circuit breaker fallback triggered - to={}, reason={}\",\n            to, t.getMessage());\n    throw new EmailException(\"Email service unavailable\", t);\n}\n</code></pre>"},{"location":"features/circuit-breaker/#execution-order","title":"Execution Order","text":"<ol> <li>Retry wrapper executes first</li> <li>Circuit breaker evaluates retry results</li> <li>If all retries fail, circuit breaker may open</li> <li>When open, fallback method is invoked immediately</li> </ol>"},{"location":"features/circuit-breaker/#configuration","title":"Configuration","text":""},{"location":"features/circuit-breaker/#application-properties","title":"Application Properties","text":"<pre><code>resilience4j:\n  circuitbreaker:\n    instances:\n      emailService:\n        registerHealthIndicator: true\n        slidingWindowType: COUNT_BASED\n        slidingWindowSize: 10\n        minimumNumberOfCalls: 5\n        failureRateThreshold: 50\n        waitDurationInOpenState: 60s\n        permittedNumberOfCallsInHalfOpenState: 3\n        automaticTransitionFromOpenToHalfOpenEnabled: true\n        recordExceptions:\n          - jakarta.mail.MessagingException\n          - org.springframework.mail.MailException\n          - com.emmanuelgabe.portfolio.exception.EmailException\n\n  retry:\n    instances:\n      emailService:\n        maxAttempts: 3\n        waitDuration: 1s\n        enableExponentialBackoff: true\n        exponentialBackoffMultiplier: 2\n        retryExceptions:\n          - jakarta.mail.MessagingException\n          - org.springframework.mail.MailException\n          - java.net.ConnectException\n        ignoreExceptions:\n          - com.emmanuelgabe.portfolio.exception.EmailException\n</code></pre>"},{"location":"features/circuit-breaker/#configuration-parameters","title":"Configuration Parameters","text":"<p>Circuit Breaker:</p> Parameter Value Description <code>slidingWindowType</code> COUNT_BASED Window based on call count <code>slidingWindowSize</code> 10 Number of calls in window <code>minimumNumberOfCalls</code> 5 Min calls before evaluating <code>failureRateThreshold</code> 50% Threshold to open circuit <code>waitDurationInOpenState</code> 60s Time before half-open <code>permittedNumberOfCallsInHalfOpenState</code> 3 Test calls in half-open <p>Retry:</p> Parameter Value Description <code>maxAttempts</code> 3 Maximum retry attempts <code>waitDuration</code> 1s Initial wait between retries <code>enableExponentialBackoff</code> true Exponential delay increase <code>exponentialBackoffMultiplier</code> 2 Backoff multiplier"},{"location":"features/circuit-breaker/#admin-api-endpoints","title":"Admin API Endpoints","text":"Method Endpoint Description GET <code>/api/admin/circuit-breakers</code> List all circuit breakers GET <code>/api/admin/circuit-breakers/{name}</code> Get specific breaker"},{"location":"features/circuit-breaker/#response-model","title":"Response Model","text":"<pre><code>interface CircuitBreakerStatus {\n  name: string;\n  state: 'CLOSED' | 'OPEN' | 'HALF_OPEN' | 'DISABLED' | 'FORCED_OPEN';\n  metrics: {\n    failureCount: number;\n    successCount: number;\n    bufferedCalls: number;\n    failureRate: number;\n    notPermittedCalls: number;\n  };\n  timestamp: string;\n}\n</code></pre>"},{"location":"features/circuit-breaker/#related-documentation","title":"Related Documentation","text":"<ul> <li>Messaging - Email processing via RabbitMQ</li> <li>Observability - Prometheus and Grafana</li> </ul>"},{"location":"features/contact-form/","title":"Contact Form Feature","text":""},{"location":"features/contact-form/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Form Structure</li> <li>Rate Limiting</li> <li>Email Sending</li> <li>IP Address Extraction</li> <li>Configuration</li> </ol>"},{"location":"features/contact-form/#1-overview","title":"1. Overview","text":"<p>The Contact Form feature provides a public endpoint for users to send messages without requiring authentication.</p> <p>Key Capabilities: - Public contact form submission - Email sending to portfolio owner - IP-based rate limiting (default: 5 messages per hour) - Redis-backed distributed rate limit tracking - Automatic quota reset after 1-hour window - Support for proxied requests (X-Forwarded-For header)</p>"},{"location":"features/contact-form/#2-form-structure","title":"2. Form Structure","text":""},{"location":"features/contact-form/#contactrequest-dto","title":"ContactRequest DTO","text":"Field Type Required Constraints Description <code>name</code> String Yes 2-100 chars Sender's full name <code>email</code> String Yes Valid email, max 100 chars Sender's email address <code>subject</code> String Yes 3-200 chars Message subject line <code>message</code> String Yes 10-5000 chars Message body"},{"location":"features/contact-form/#validation-rules","title":"Validation Rules","text":"<p>Name: - <code>@NotBlank(message = \"Name is required\")</code> - <code>@Size(min = 2, max = 100)</code></p> <p>Email: - <code>@NotBlank</code>, <code>@Email</code>, <code>@Size(max = 100)</code> - Must be RFC 5322 compliant</p> <p>Subject: - <code>@NotBlank</code>, <code>@Size(min = 3, max = 200)</code></p> <p>Message: - <code>@NotBlank</code>, <code>@Size(min = 10, max = 5000)</code></p>"},{"location":"features/contact-form/#contactresponse-dto","title":"ContactResponse DTO","text":"Field Type Description <code>message</code> String Response message <code>success</code> boolean Success indicator <code>timestamp</code> LocalDateTime Response timestamp"},{"location":"features/contact-form/#3-rate-limiting","title":"3. Rate Limiting","text":""},{"location":"features/contact-form/#rate-limit-strategy","title":"Rate Limit Strategy","text":"<p>Implementation: IP-based rate limiting using Redis</p> <p>Default Configuration: - Max Requests: 5 messages per hour per IP - Window Size: 1 hour (fixed window) - Reset: Automatic after 1 hour</p>"},{"location":"features/contact-form/#rate-limit-flow","title":"Rate Limit Flow","text":"<pre><code>1. Client submits contact form\n2. Extract client IP address\n3. Check Redis counter for IP\n4. If count &gt; limit \u2192 Return 429 Too Many Requests\n5. If count &lt;= limit \u2192 Send email \u2192 Return 200 OK\n</code></pre>"},{"location":"features/contact-form/#redis-key-structure","title":"Redis Key Structure","text":"<p>Key Format: <code>rate_limit:contact:{ip}</code></p> <p>Operations: - <code>INCR</code> - Atomic increment counter - <code>EXPIRE</code> - Set 1-hour TTL on first request - Automatic cleanup after expiration</p>"},{"location":"features/contact-form/#4-email-sending","title":"4. Email Sending","text":""},{"location":"features/contact-form/#asynchronous-email-sending","title":"Asynchronous Email Sending","text":"<p>Email sending is handled asynchronously via RabbitMQ:</p> <pre><code>1. Client submits contact form\n2. Backend validates request\n3. Message published to RabbitMQ queue\n4. Response returned immediately to client\n5. Consumer processes queue and sends email via SMTP\n6. Circuit breaker protects against SMTP failures\n</code></pre> <p>Benefits: - Non-blocking response (faster user experience) - Retry mechanism for transient failures - Dead Letter Queue (DLQ) for failed messages - Circuit breaker prevents cascade failures</p>"},{"location":"features/contact-form/#5-ip-address-extraction","title":"5. IP Address Extraction","text":""},{"location":"features/contact-form/#header-priority","title":"Header Priority","text":"<ol> <li>X-Forwarded-For: Standard header for proxied requests</li> <li>Proxy-Client-IP: Alternative proxy header</li> <li>WL-Proxy-Client-IP: WebLogic proxy header</li> <li>RemoteAddr: Direct connection IP (fallback)</li> </ol>"},{"location":"features/contact-form/#multiple-proxies-handling","title":"Multiple Proxies Handling","text":"<p>For <code>X-Forwarded-For: 203.0.113.5, 10.0.0.1</code>: - First IP (203.0.113.5) is used as original client IP</p>"},{"location":"features/contact-form/#6-configuration","title":"6. Configuration","text":""},{"location":"features/contact-form/#application-properties","title":"Application Properties","text":"<p>Rate Limit Configuration: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Default quota per IP\n</code></pre></p> <p>Email Configuration: <pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${MAIL_USERNAME}\n    password: ${MAIL_APP_PASSWORD}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n</code></pre></p> <p>Redis Configuration: <pre><code>spring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n</code></pre></p>"},{"location":"features/contact-form/#environment-specific-settings","title":"Environment-Specific Settings","text":"Environment Rate Limit Development 10 requests/hour Staging 5 requests/hour Production 3 requests/hour"},{"location":"features/contact-form/#related-documentation","title":"Related Documentation","text":"<ul> <li>Contact API - Complete API reference</li> <li>Security: Rate Limiting - Rate limiting details</li> <li>Reference: Configuration Properties - All configuration options</li> <li>Features: Messaging - RabbitMQ async email sending</li> </ul>"},{"location":"features/cv-management/","title":"CV Management System","text":""},{"location":"features/cv-management/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Versioning System</li> <li>Database Schema</li> <li>Configuration</li> </ol>"},{"location":"features/cv-management/#1-overview","title":"1. Overview","text":"<p>The CV Management System provides a complete solution for uploading, versioning, and managing CV/resume files with a single \"current\" CV designation.</p> <p>Key Features: - Multiple CV versions support - Single \"current\" CV at any time - User tracking (who uploaded each CV) - Public access to current CV - Admin-only upload and management - PDF validation and security</p> <p>Use Case: Portfolio website owner can upload multiple CV versions, set one as current for public download, and maintain historical versions.</p>"},{"location":"features/cv-management/#2-architecture","title":"2. Architecture","text":""},{"location":"features/cv-management/#component-diagram","title":"Component Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Frontend (Angular)                    \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Public Pages  \u2502  \u2502  Admin Pages   \u2502  \u2502  CV Service    \u2502 \u2502\n\u2502  \u2502                \u2502  \u2502                \u2502  \u2502                \u2502 \u2502\n\u2502  \u2502 - Download CV  \u2502  \u2502 - Upload CV    \u2502  \u2502 - HTTP Client  \u2502 \u2502\n\u2502  \u2502 - View current \u2502  \u2502 - List all CVs \u2502  \u2502 - File upload  \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 - Set current  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502           \u2502          \u2502 - Delete CV    \u2502           \u2502         \u2502\n\u2502           \u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502         \u2502\n\u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502 HTTP/REST\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Backend (Spring Boot)                \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  CvController  \u2502  \u2502   CvService    \u2502  \u2502 FileStorage    \u2502 \u2502\n\u2502  \u2502                \u2502  \u2502                \u2502  \u2502    Service     \u2502 \u2502\n\u2502  \u2502 - Public API   \u2502\u2500&gt;\u2502 - Business     \u2502\u2500&gt;\u2502                \u2502 \u2502\n\u2502  \u2502 - Admin API    \u2502  \u2502   logic        \u2502  \u2502 - Upload       \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 - Validation   \u2502  \u2502 - Delete       \u2502 \u2502\n\u2502                      \u2502 - Versioning   \u2502  \u2502 - Validation   \u2502 \u2502\n\u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                               \u2502                              \u2502\n\u2502                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502                      \u2502 CvRepository   \u2502                      \u2502\n\u2502                      \u2502                \u2502                      \u2502\n\u2502                      \u2502 - JPA CRUD     \u2502                      \u2502\n\u2502                      \u2502 - Custom query \u2502                      \u2502\n\u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502 JDBC\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PostgreSQL Database                    \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502  \u2502   cvs table    \u2502  \u2502  users table   \u2502                      \u2502\n\u2502  \u2502                \u2502  \u2502                \u2502                      \u2502\n\u2502  \u2502 - id           \u2502  \u2502 - id           \u2502                      \u2502\n\u2502  \u2502 - filename     \u2502  \u2502 - username     \u2502                      \u2502\n\u2502  \u2502 - file_path    \u2502  \u2502 - password     \u2502                      \u2502\n\u2502  \u2502 - is_current   \u2502  \u2502 - roles        \u2502                      \u2502\n\u2502  \u2502 - user_id (FK) \u2502&lt;\u2500\u2502                \u2502                      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        File System                            \u2502\n\u2502                                                               \u2502\n\u2502  uploads/cvs/                                                 \u2502\n\u2502  \u251c\u2500\u2500 cv_1_1700000000.pdf                                      \u2502\n\u2502  \u251c\u2500\u2500 cv_2_1700100000.pdf                                      \u2502\n\u2502  \u2514\u2500\u2500 cv_3_1700200000.pdf (current)                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/cv-management/#request-flow","title":"Request Flow","text":"<p>Upload CV Flow: <pre><code>User \u2192 AdminCvComponent \u2192 CvService (Angular)\n\u2192 POST /api/admin/cv/upload\n\u2192 CvController \u2192 CvService (Spring)\n\u2192 FileStorageService \u2192 File System\n\u2192 CvRepository \u2192 Database\n\u2192 Response with CV metadata\n</code></pre></p> <p>Get Current CV Flow: <pre><code>User \u2192 HomePage \u2192 CvService (Angular)\n\u2192 GET /api/cv/current\n\u2192 CvController \u2192 CvService (Spring)\n\u2192 CvRepository \u2192 Database (WHERE is_current = true)\n\u2192 Response with CV metadata\n</code></pre></p> <p>Download CV Flow: <pre><code>User \u2192 Click download \u2192 CvService (Angular)\n\u2192 GET /api/cv/download/{id}\n\u2192 CvController \u2192 CvService (Spring)\n\u2192 File System \u2192 Read PDF\n\u2192 Stream PDF to client\n</code></pre></p>"},{"location":"features/cv-management/#3-versioning-system","title":"3. Versioning System","text":""},{"location":"features/cv-management/#how-versioning-works","title":"How Versioning Works","text":"<p>The system supports multiple CV versions with a \"current\" flag to designate which CV is publicly visible.</p> <p>Key Rules: 1. Multiple Versions: Unlimited CV uploads allowed 2. Single Current: Only ONE CV can be marked as <code>is_current = true</code> at any time 3. Manual Activation: New uploads are NOT automatically current 4. Database Constraint: Unique index enforces single current CV</p>"},{"location":"features/cv-management/#version-states","title":"Version States","text":"State Description Public Access Admin Actions Current Active CV shown on public pages Yes Download, Delete Historical Previous CV versions No Set as current, Download, Delete"},{"location":"features/cv-management/#setting-current-cv","title":"Setting Current CV","text":"<p>Process: <pre><code>-- Step 1: Unset all current CVs\nUPDATE cvs SET is_current = false WHERE is_current = true;\n\n-- Step 2: Set new current CV\nUPDATE cvs SET is_current = true WHERE id = ?;\n</code></pre></p> <p>Backend Implementation: <pre><code>@Transactional\npublic CvResponse setCurrentCv(Long cvId) {\n    // Unset all current CVs\n    cvRepository.unsetAllCurrent();\n\n    // Set new current\n    Cv cv = cvRepository.findById(cvId)\n        .orElseThrow(() -&gt; new ResourceNotFoundException(\"CV not found\"));\n\n    cv.setIsCurrent(true);\n    Cv updated = cvRepository.save(cv);\n\n    return cvMapper.toResponse(updated);\n}\n</code></pre></p>"},{"location":"features/cv-management/#database-constraint","title":"Database Constraint","text":"<p>Unique Index ensures only one current CV: <pre><code>CREATE UNIQUE INDEX unique_current_cv ON cvs (is_current) WHERE is_current = true;\n</code></pre></p> <p>Why This Works: - Partial unique index (only rows where <code>is_current = true</code>) - Multiple <code>false</code> values allowed (no constraint) - Exactly one <code>true</code> value allowed (enforced by database) - Prevents race conditions</p>"},{"location":"features/cv-management/#4-database-schema","title":"4. Database Schema","text":""},{"location":"features/cv-management/#cvs-table","title":"CVs Table","text":"<p>Migration: <code>V5__create_cvs_table.sql</code></p> <pre><code>CREATE TABLE cvs (\n    id BIGSERIAL PRIMARY KEY,\n    filename VARCHAR(255) NOT NULL,\n    file_path VARCHAR(500) NOT NULL,\n    uploaded_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    is_current BOOLEAN NOT NULL DEFAULT false,\n    user_id BIGINT NOT NULL,\n    CONSTRAINT fk_cvs_user FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n\n-- Ensure only one CV can be current at a time\nCREATE UNIQUE INDEX unique_current_cv ON cvs (is_current) WHERE is_current = true;\n\n-- Index for fast lookup of current CV\nCREATE INDEX idx_cvs_is_current ON cvs (is_current);\n</code></pre> <p>Columns: | Column | Type | Nullable | Description | |--------|------|----------|-------------| | <code>id</code> | BIGSERIAL | No | Primary key | | <code>filename</code> | VARCHAR(255) | No | Original filename | | <code>file_path</code> | VARCHAR(500) | No | Server file path | | <code>uploaded_at</code> | TIMESTAMP | No | Upload timestamp | | <code>is_current</code> | BOOLEAN | No | Current CV flag (default: false) | | <code>user_id</code> | BIGINT | No | Foreign key to users table |</p> <p>Indexes: - Primary key on <code>id</code> - Unique partial index on <code>is_current</code> (WHERE <code>is_current = true</code>) - Regular index on <code>is_current</code> for fast lookups</p> <p>Constraints: - Foreign key to <code>users(id)</code> with CASCADE delete - Unique current CV (enforced by partial index)</p>"},{"location":"features/cv-management/#5-configuration","title":"5. Configuration","text":""},{"location":"features/cv-management/#application-properties","title":"Application Properties","text":"<p>File: <code>application.yml</code></p> <pre><code>file:\n  upload:\n    base-path: uploads\n    cv-path: cvs\n    max-size: 10MB\n\nspring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre>"},{"location":"features/cv-management/#environment-variables","title":"Environment Variables","text":"<pre><code># Optional: Override upload paths\nFILE_UPLOAD_BASE_PATH=/var/www/uploads\nFILE_UPLOAD_CV_PATH=cvs\n\n# Optional: Override max file size\nSPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=20MB\n</code></pre>"},{"location":"features/cv-management/#docker-volume","title":"Docker Volume","text":"<p>docker-compose.yml: <pre><code>services:\n  portfolio-backend:\n    volumes:\n      - cv-uploads:/app/uploads/cvs\n    environment:\n      - FILE_UPLOAD_BASE_PATH=/app/uploads\n\nvolumes:\n  cv-uploads:\n</code></pre></p> <p>Benefits: - Persistent storage across container restarts - Shared storage in multi-container setups - Easy backup and restore</p>"},{"location":"features/cv-management/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: CV Management - CV API endpoints</li> <li>Features: File Storage - File storage architecture</li> <li>Security: RBAC - Role-based access control</li> <li>Development: Testing - Testing guidelines</li> </ul>"},{"location":"features/error-tracking/","title":"Error Tracking (Sentry)","text":"<p>Sentry integration for error tracking in backend and frontend applications.</p>"},{"location":"features/error-tracking/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Backend Integration</li> <li>Frontend Integration</li> <li>Configuration</li> <li>Error Capture</li> </ol>"},{"location":"features/error-tracking/#1-overview","title":"1. Overview","text":"<p>Sentry provides real-time error tracking and monitoring for both backend and frontend applications.</p> <p>Key Capabilities: - Automatic exception capture - Stack trace analysis - Error grouping and deduplication - Release tracking - Environment separation (local, staging, production) - User context attachment - GDPR compliance (feature flag)</p> <p>Feature Flag: <code>SENTRY_ENABLED</code> controls error tracking activation.</p>"},{"location":"features/error-tracking/#2-backend-integration","title":"2. Backend Integration","text":""},{"location":"features/error-tracking/#21-dependencies","title":"2.1 Dependencies","text":"<pre><code>implementation 'io.sentry:sentry-spring-boot-starter-jakarta:7.x'\nimplementation 'io.sentry:sentry-logback:7.x'\n</code></pre>"},{"location":"features/error-tracking/#22-captured-errors","title":"2.2 Captured Errors","text":"Type Captured Uncaught exceptions Yes (automatic) HTTP 5xx errors Yes (automatic) HTTP 4xx errors Configurable Log errors (ERROR level) Yes (via Logback) Scheduled job failures Yes"},{"location":"features/error-tracking/#23-context-information","title":"2.3 Context Information","text":"<p>Captured with each error: - Request URL, method, headers - User ID (if authenticated) - Environment (local/staging/prod) - Release version - Server name - Transaction/span IDs</p>"},{"location":"features/error-tracking/#3-frontend-integration","title":"3. Frontend Integration","text":""},{"location":"features/error-tracking/#31-dependencies","title":"3.1 Dependencies","text":"<pre><code>{\n  \"dependencies\": {\n    \"@sentry/angular\": \"^8.x\",\n    \"@sentry/tracing\": \"^8.x\"\n  }\n}\n</code></pre>"},{"location":"features/error-tracking/#32-captured-errors","title":"3.2 Captured Errors","text":"Type Captured JavaScript exceptions Yes Unhandled promise rejections Yes Angular error handler Yes HTTP errors Configurable Console errors Configurable"},{"location":"features/error-tracking/#33-context-information","title":"3.3 Context Information","text":"<p>Captured with each error: - Browser and OS - URL and referrer - User session ID - Release version - Angular component tree - Redux/NgRx state (if applicable)</p>"},{"location":"features/error-tracking/#4-configuration","title":"4. Configuration","text":""},{"location":"features/error-tracking/#41-backend-configuration","title":"4.1 Backend Configuration","text":"<pre><code># application.yml\nsentry:\n  dsn: ${SENTRY_DSN:}\n  environment: ${SPRING_PROFILES_ACTIVE:local}\n  traces-sample-rate: 0.1\n  send-default-pii: false\n  in-app-includes:\n    - com.emmanuelgabe.portfolio\n  ignored-exceptions-for-type:\n    - com.emmanuelgabe.portfolio.exception.ResourceNotFoundException\n</code></pre>"},{"location":"features/error-tracking/#42-frontend-configuration","title":"4.2 Frontend Configuration","text":"<pre><code>// environment.ts\nexport const environment = {\n  sentryDsn: 'https://xxx@sentry.io/xxx',\n  sentryEnabled: true,\n  environment: 'production'\n};\n</code></pre>"},{"location":"features/error-tracking/#43-environment-variables","title":"4.3 Environment Variables","text":"Variable Description Required <code>SENTRY_DSN</code> Backend Sentry DSN Staging/Prod <code>SENTRY_DSN_FRONTEND</code> Frontend Sentry DSN Staging/Prod <code>SENTRY_ENABLED</code> Enable/disable tracking Optional"},{"location":"features/error-tracking/#44-dsn-setup","title":"4.4 DSN Setup","text":"<ol> <li>Create project at https://sentry.io</li> <li>Go to Settings &gt; Projects &gt; [Project] &gt; Client Keys (DSN)</li> <li>Copy DSN URL</li> <li>Add to environment variables or secrets</li> </ol>"},{"location":"features/error-tracking/#5-error-capture","title":"5. Error Capture","text":""},{"location":"features/error-tracking/#51-automatic-capture","title":"5.1 Automatic Capture","text":"<p>Sentry automatically captures: - Unhandled exceptions in controllers - Spring MVC errors - Async method failures - Scheduled task errors - Angular uncaught exceptions</p>"},{"location":"features/error-tracking/#52-manual-capture-backend","title":"5.2 Manual Capture (Backend)","text":"<pre><code>// Capture exception with context\ntry {\n    // risky operation\n} catch (Exception e) {\n    Sentry.captureException(e);\n    throw e;\n}\n\n// Capture message\nSentry.captureMessage(\"Custom event occurred\");\n\n// With extra context\nSentry.withScope(scope -&gt; {\n    scope.setExtra(\"orderId\", orderId);\n    scope.setTag(\"module\", \"payments\");\n    Sentry.captureException(exception);\n});\n</code></pre>"},{"location":"features/error-tracking/#53-manual-capture-frontend","title":"5.3 Manual Capture (Frontend)","text":"<pre><code>// Capture exception\ntry {\n  // risky operation\n} catch (error) {\n  Sentry.captureException(error);\n}\n\n// Capture message\nSentry.captureMessage('User action failed');\n\n// With context\nSentry.withScope(scope =&gt; {\n  scope.setExtra('userId', userId);\n  scope.setTag('component', 'checkout');\n  Sentry.captureException(error);\n});\n</code></pre>"},{"location":"features/error-tracking/#54-filtering-errors","title":"5.4 Filtering Errors","text":"<p>Backend (excluded exceptions): - <code>ResourceNotFoundException</code> - Expected 404 errors - <code>ValidationException</code> - User input errors - <code>RateLimitExceededException</code> - Rate limiting</p> <p>Frontend (excluded errors): - Network errors (handled separately) - User-initiated cancellations - Third-party script errors</p>"},{"location":"features/error-tracking/#6-gdpr-compliance","title":"6. GDPR Compliance","text":""},{"location":"features/error-tracking/#61-feature-flag","title":"6.1 Feature Flag","text":"<p>Error tracking can be disabled for GDPR compliance:</p> <pre><code>sentry:\n  enabled: ${SENTRY_ENABLED:true}\n</code></pre>"},{"location":"features/error-tracking/#62-pii-handling","title":"6.2 PII Handling","text":"<ul> <li><code>send-default-pii: false</code> - No IP addresses or user agents</li> <li>User IDs are anonymized</li> <li>Request bodies are stripped of sensitive data</li> <li>Cookies are not captured</li> </ul>"},{"location":"features/error-tracking/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: Initial Setup - Environment variables</li> <li>Security: Infrastructure Credentials - Sentry DSN configuration</li> <li>Operations: Observability - Monitoring overview</li> <li>Reference: Configuration Properties - All configuration options</li> </ul>"},{"location":"features/event-streaming/","title":"Event Streaming","text":"<p>Real-time event streaming using Apache Kafka for admin actions, analytics, and activity tracking.</p>"},{"location":"features/event-streaming/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Event Categories</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/event-streaming/#overview","title":"Overview","text":"<p>The event streaming feature provides real-time event processing for:</p> <ul> <li>Admin events - CRUD operations and authentication tracking for event sourcing</li> <li>Analytics events - Page views, entity views, user interactions</li> <li>Activity events - Session tracking and navigation patterns</li> </ul> <p>Key capabilities: - Real-time event processing with Kafka - Key-based partitioning for ordered processing - Asynchronous non-blocking publishing - Prometheus metrics for monitoring - Optional activation via feature toggle</p>"},{"location":"features/event-streaming/#architecture","title":"Architecture","text":""},{"location":"features/event-streaming/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>KafkaConfig</code> <code>config/</code> Topic definitions <code>KafkaEventProducer</code> <code>kafka/producer/</code> Event publishing <code>NoOpKafkaEventProducer</code> <code>kafka/producer/</code> No-op fallback <code>AdminEventConsumer</code> <code>kafka/consumer/</code> Admin event processing <code>AnalyticsEventConsumer</code> <code>kafka/consumer/</code> Analytics processing <code>ActivityEventConsumer</code> <code>kafka/consumer/</code> Activity processing"},{"location":"features/event-streaming/#event-classes","title":"Event Classes","text":"Class Purpose <code>BaseEvent</code> Common event fields <code>AdminActionEvent</code> Admin CRUD and auth events <code>AnalyticsEvent</code> Page views and interactions <code>ActivityEvent</code> Session and navigation"},{"location":"features/event-streaming/#event-categories","title":"Event Categories","text":""},{"location":"features/event-streaming/#admin-action-events","title":"Admin Action Events","text":"<p>Captures all administrative operations for audit trail and event sourcing.</p> <p>Topic: <code>portfolio.admin.events</code></p> <p>Actions:</p> Action Description <code>CREATE</code> Entity created <code>UPDATE</code> Entity updated <code>DELETE</code> Entity deleted <code>PUBLISH</code> Article published <code>UNPUBLISH</code> Article unpublished <code>FEATURE</code> Project featured <code>UNFEATURE</code> Project unfeatured <code>LOGIN</code> Admin login <code>LOGOUT</code> Admin logout <code>LOGIN_FAILED</code> Failed login attempt <code>PASSWORD_CHANGE</code> Password changed <p>Event fields: - <code>action</code> - Action type - <code>entityType</code> - PROJECT, ARTICLE, SKILL, etc. - <code>entityId</code> - Entity identifier - <code>entityName</code> - Human-readable name - <code>username</code> - Admin username - <code>ipAddress</code> - Client IP - <code>success</code> - Operation result - <code>payload</code> - Additional data</p>"},{"location":"features/event-streaming/#analytics-events","title":"Analytics Events","text":"<p>Captures user interactions for analytics processing.</p> <p>Topic: <code>portfolio.analytics.events</code></p> <p>Event types:</p> Type Description Tracked Data <code>PAGE_VIEW</code> Page visit path, referrer, userAgent <code>PROJECT_VIEW</code> Project detail view projectId, sessionId <code>ARTICLE_VIEW</code> Article view articleId, slug, sessionId <code>CONTACT_SUBMIT</code> Contact form submit ipAddress, sessionId <code>DOWNLOAD_CV</code> CV download sessionId <code>EXTERNAL_LINK_CLICK</code> External link click url, sessionId <p>Event fields: - <code>analyticsType</code> - Event type - <code>path</code> - Page path - <code>entityId</code> - Related entity ID - <code>entitySlug</code> - URL slug - <code>sessionId</code> - User session - <code>ipAddress</code> - Client IP - <code>userAgent</code> - Browser info - <code>referrer</code> - Referrer URL</p>"},{"location":"features/event-streaming/#activity-events","title":"Activity Events","text":"<p>Captures session and navigation patterns.</p> <p>Topic: <code>portfolio.activity.events</code></p> <p>Event types:</p> Type Description <code>SESSION_START</code> New session initiated <code>SESSION_END</code> Session terminated <code>NAVIGATION</code> Page navigation <code>SEARCH</code> Search query"},{"location":"features/event-streaming/#configuration","title":"Configuration","text":""},{"location":"features/event-streaming/#application-properties","title":"Application Properties","text":"<pre><code># Kafka connection\nspring:\n  kafka:\n    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      acks: all\n      retries: 3\n    consumer:\n      group-id: portfolio-consumer-group\n      auto-offset-reset: earliest\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n\n# Feature toggle\nkafka:\n  enabled: ${KAFKA_ENABLED:false}\n</code></pre>"},{"location":"features/event-streaming/#topics","title":"Topics","text":"Topic Partitions Replicas Key <code>portfolio.admin.events</code> 3 1 entityType <code>portfolio.analytics.events</code> 3 1 sessionId <code>portfolio.activity.events</code> 3 1 sessionId"},{"location":"features/event-streaming/#feature-toggle","title":"Feature Toggle","text":"<p>Event streaming can be disabled:</p> <pre><code>kafka:\n  enabled: false\n</code></pre> <p>When disabled: - <code>NoOpKafkaEventProducer</code> is activated - All publish operations become no-ops - Application continues without event streaming</p>"},{"location":"features/event-streaming/#related-documentation","title":"Related Documentation","text":"<ul> <li>Event Streaming Architecture - Technical architecture</li> <li>Audit System - Audit logging feature</li> <li>Observability - Kafka monitoring</li> </ul>"},{"location":"features/experience-management/","title":"Experience Management Feature","text":""},{"location":"features/experience-management/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Experience Types</li> <li>Experience Structure</li> <li>Date Range Management</li> <li>Display Order</li> <li>Filtering and Retrieval</li> <li>Configuration</li> </ol>"},{"location":"features/experience-management/#1-overview","title":"1. Overview","text":"<p>The Experience Management feature provides a comprehensive system for managing professional, educational, certification, and volunteering experiences. Used to build an interactive timeline showcasing career and educational milestones.</p> <p>Key Capabilities: - Five distinct experience types for categorization - Optional fields for flexible experience entries - Date range tracking with ongoing experience support - Manual display order with reorder endpoint - Type-based filtering for targeted retrieval - Chronological sorting by display order then start date</p> <p>Public Access: - View all experiences in sorted order - Filter experiences by type - View ongoing experiences - Retrieve recent experiences with configurable limit</p> <p>Admin Access: - Create, update, and delete experiences - Reorder experiences manually - Manage all experience types</p>"},{"location":"features/experience-management/#2-experience-types","title":"2. Experience Types","text":""},{"location":"features/experience-management/#experiencetype-enum","title":"ExperienceType Enum","text":"<p>Definition (<code>com.emmanuelgabe.portfolio.entity.ExperienceType</code>):</p> <pre><code>public enum ExperienceType {\n    WORK,           // Professional work experience\n    STAGE,          // Internship experience\n    EDUCATION,      // Educational experience\n    CERTIFICATION,  // Professional certifications\n    VOLUNTEERING    // Volunteer work and community service\n}\n</code></pre>"},{"location":"features/experience-management/#type-descriptions","title":"Type Descriptions","text":"Type Description Use Cases <code>WORK</code> Professional work experience Full-time jobs, freelance projects, consulting <code>STAGE</code> Internship experience Internships, trainee positions, apprenticeships <code>EDUCATION</code> Educational experience Bachelor's, Master's, PhD degrees, diplomas, online courses <code>CERTIFICATION</code> Professional certifications Technical certifications (AWS, Azure, Oracle), qualifications <code>VOLUNTEERING</code> Volunteer work Community service, open source contributions, mentorship"},{"location":"features/experience-management/#field-naming-conventions","title":"Field Naming Conventions","text":"<ul> <li><code>WORK</code>: company = \"Acme Corporation\", role = \"Senior Software Engineer\"</li> <li><code>STAGE</code>: company = \"Tech Startup\", role = \"Software Development Intern\"</li> <li><code>EDUCATION</code>: company = \"Tech University\", role = \"Master's Degree in Computer Science\"</li> <li><code>CERTIFICATION</code>: company = \"Oracle\", role = \"Oracle Certified Professional Java SE 17\"</li> <li><code>VOLUNTEERING</code>: company = \"Local Tech Community\", role = \"Volunteer Mentor\"</li> </ul>"},{"location":"features/experience-management/#3-experience-structure","title":"3. Experience Structure","text":""},{"location":"features/experience-management/#entity-model","title":"Entity Model","text":"<p>Experience Entity (<code>com.emmanuelgabe.portfolio.entity.Experience</code>):</p> Field Type Required Constraints Description <code>id</code> Long No Auto-generated Primary key <code>company</code> String No max 200 chars Company or organization name <code>role</code> String No max 200 chars Job title, degree, or certification name <code>startDate</code> LocalDate No Past/present Experience start date <code>endDate</code> LocalDate No Past/present, nullable Experience end date (null = ongoing) <code>description</code> String Yes 10-2000 chars Detailed description <code>type</code> ExperienceType No Enum value Type of experience <code>showMonths</code> boolean No Default true Show months in displayed date range <code>displayOrder</code> Integer No Nullable Manual display order <code>createdAt</code> LocalDateTime No Auto-generated Creation timestamp <code>updatedAt</code> LocalDateTime No Auto-updated Last modification timestamp"},{"location":"features/experience-management/#computed-properties","title":"Computed Properties","text":"<p>Check if Experience is Ongoing: <pre><code>public boolean isOngoing() {\n    return this.endDate == null;\n}\n</code></pre></p> <p>Date Validation: <pre><code>public void validateDates() {\n    if (this.endDate != null &amp;&amp; this.startDate != null\n            &amp;&amp; this.endDate.isBefore(this.startDate)) {\n        throw new IllegalStateException(\"End date cannot be before start date\");\n    }\n}\n</code></pre></p>"},{"location":"features/experience-management/#4-date-range-management","title":"4. Date Range Management","text":""},{"location":"features/experience-management/#date-validation-rules","title":"Date Validation Rules","text":"<ol> <li>Start Date: Optional, must be past or present if provided</li> <li>End Date: Optional, must be past or present if provided, must be after start date</li> <li>Ongoing: Experience is ongoing when <code>endDate</code> is null</li> </ol>"},{"location":"features/experience-management/#date-handling-in-ui","title":"Date Handling in UI","text":"<p>Display Formats: - Ongoing: \"January 2023 - Present\" - Completed: \"January 2023 - June 2023\" - Year Only: \"2022 - 2024\" (when <code>showMonths</code> is false) - Single Day: \"May 10, 2023\" (for certifications)</p>"},{"location":"features/experience-management/#5-display-order","title":"5. Display Order","text":""},{"location":"features/experience-management/#reorder-functionality","title":"Reorder Functionality","text":"<p>The reorder endpoint allows manual ordering of experiences independent of dates.</p> <p>Endpoint: <code>POST /api/admin/experiences/reorder</code></p> <p>Request Body: <pre><code>{\n  \"orderedIds\": [3, 1, 2, 5, 4]\n}\n</code></pre></p>"},{"location":"features/experience-management/#sorting-logic","title":"Sorting Logic","text":"<p>Repository Methods: <pre><code>List&lt;Experience&gt; findAllByOrderByDisplayOrderAscStartDateDesc();\nList&lt;Experience&gt; findByTypeOrderByDisplayOrderAscStartDateDesc(ExperienceType type);\nList&lt;Experience&gt; findByEndDateIsNullOrderByDisplayOrderAscStartDateDesc();\n</code></pre></p> <p>Sort Priority: 1. <code>displayOrder</code> ascending (experiences with order appear first) 2. <code>startDate</code> descending (most recent first)</p>"},{"location":"features/experience-management/#6-filtering-and-retrieval","title":"6. Filtering and Retrieval","text":""},{"location":"features/experience-management/#filter-by-type","title":"Filter by Type","text":"<p>Endpoint: <code>GET /api/experiences/type/{type}</code></p> <p>Supported Types: WORK, STAGE, EDUCATION, CERTIFICATION, VOLUNTEERING</p>"},{"location":"features/experience-management/#ongoing-experiences","title":"Ongoing Experiences","text":"<p>Endpoint: <code>GET /api/experiences/ongoing</code></p> <p>Returns experiences where <code>endDate</code> is null.</p>"},{"location":"features/experience-management/#recent-experiences","title":"Recent Experiences","text":"<p>Endpoint: <code>GET /api/experiences/recent?limit=N</code></p> <p>Default Limit: 3 experiences</p> <p>Returns the N most recent experiences for homepage display.</p>"},{"location":"features/experience-management/#7-configuration","title":"7. Configuration","text":""},{"location":"features/experience-management/#entity-configuration","title":"Entity Configuration","text":"<p>Table Name: <code>experiences</code></p> <p>Annotations: <pre><code>@Entity\n@Table(name = \"experiences\")\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Experience { ... }\n</code></pre></p>"},{"location":"features/experience-management/#validation-annotations","title":"Validation Annotations","text":"<pre><code>@Size(max = 200)\nprivate String company;  // Optional\n\n@Size(max = 200)\nprivate String role;  // Optional\n\n@PastOrPresent(message = \"Start date cannot be in the future\")\nprivate LocalDate startDate;  // Optional\n\n@PastOrPresent(message = \"End date cannot be in the future\")\nprivate LocalDate endDate;  // Optional\n\n@NotBlank(message = \"Description is required\")\n@Size(min = 10, max = 2000)\nprivate String description;  // Required\n\n@Enumerated(EnumType.STRING)\nprivate ExperienceType type;  // Optional\n\n@Column(name = \"show_months\", nullable = false)\nprivate boolean showMonths = true;\n\n@Min(value = 0)\n@Column(name = \"display_order\")\nprivate Integer displayOrder;  // Optional\n</code></pre>"},{"location":"features/experience-management/#mapstruct-configuration","title":"MapStruct Configuration","text":"<p>Mapper Interface: <pre><code>@Mapper(componentModel = \"spring\")\npublic interface ExperienceMapper {\n    ExperienceResponse toResponse(Experience experience);\n\n    @Mapping(target = \"id\", ignore = true)\n    @Mapping(target = \"showMonths\", defaultValue = \"true\")\n    Experience toEntity(CreateExperienceRequest request);\n\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n    void updateEntityFromRequest(UpdateExperienceRequest request, @MappingTarget Experience experience);\n\n    @AfterMapping\n    default void setOngoingFlag(Experience experience, @MappingTarget ExperienceResponse response) {\n        response.setOngoing(experience.getEndDate() == null);\n    }\n}\n</code></pre></p>"},{"location":"features/experience-management/#cache-configuration","title":"Cache Configuration","text":"<p>Cache Names: - <code>experiences</code> - All experiences list - <code>experiencesByType</code> - Experiences filtered by type - <code>ongoingExperiences</code> - Ongoing experiences - <code>recentExperiences</code> - Recent experiences</p> <p>Cache Eviction: All caches are evicted on create, update, delete, and reorder operations.</p>"},{"location":"features/experience-management/#related-documentation","title":"Related Documentation","text":"<ul> <li>Experiences API - Complete API reference</li> <li>Architecture: Database Schema - Database structure</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"features/file-storage/","title":"File Storage Architecture","text":""},{"location":"features/file-storage/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Storage Structure</li> <li>File Naming Conventions</li> <li>Security Validation</li> </ol>"},{"location":"features/file-storage/#1-overview","title":"1. Overview","text":"<p>The File Storage system provides a secure, organized structure for managing uploaded files in the Portfolio application.</p> <p>Key Features: - Organized directory structure - Timestamped filenames (prevents collisions) - MIME type validation (magic bytes) - Configurable storage paths - File size limits - Old file cleanup</p> <p>Supported File Types: - Images: JPEG, PNG, WebP (for projects) - Documents: PDF (for CVs)</p>"},{"location":"features/file-storage/#2-storage-structure","title":"2. Storage Structure","text":""},{"location":"features/file-storage/#directory-organization","title":"Directory Organization","text":"<pre><code>uploads/\n\u251c\u2500\u2500 projects/                          # Project images\n\u2502   \u251c\u2500\u2500 project_1_1700000000.webp     # Full image\n\u2502   \u251c\u2500\u2500 project_1_1700000000_thumb.webp # Thumbnail\n\u2502   \u251c\u2500\u2500 project_2_1700100000.webp\n\u2502   \u251c\u2500\u2500 project_2_1700100000_thumb.webp\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 cvs/                               # CV documents\n\u2502   \u251c\u2500\u2500 cv_1_1700000000.pdf\n\u2502   \u251c\u2500\u2500 cv_2_1700100000.pdf\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u2514\u2500\u2500 (future directories)\n    \u251c\u2500\u2500 avatars/                       # User avatars (future)\n    \u251c\u2500\u2500 attachments/                   # Generic attachments (future)\n    \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"features/file-storage/#directory-purpose","title":"Directory Purpose","text":"Directory Purpose File Types Access <code>uploads/projects/</code> Project images WebP Public read <code>uploads/cvs/</code> CV documents PDF Public read (current only)"},{"location":"features/file-storage/#storage-locations-by-environment","title":"Storage Locations by Environment","text":"<p>Local Development: <pre><code>Working directory: C:\\Users\\...\\portfolio\\\nStorage: C:\\Users\\...\\portfolio\\uploads\\\n</code></pre></p> <p>Docker (Development): <pre><code>Container: /app/\nStorage: /app/uploads/\nVolume: portfolio-uploads (persisted)\n</code></pre></p> <p>Production (Recommended): <pre><code>Application: /var/www/portfolio/\nStorage: /var/www/uploads/ (separate partition)\nOR\nCloud Storage: AWS S3, Azure Blob, GCP Cloud Storage\n</code></pre></p>"},{"location":"features/file-storage/#3-file-naming-conventions","title":"3. File Naming Conventions","text":""},{"location":"features/file-storage/#naming-pattern","title":"Naming Pattern","text":"<p>Format: <code>{type}_{id}_{timestamp}.{extension}</code></p> <p>Examples: <pre><code>project_1_1700000000.webp\nproject_1_1700000000_thumb.webp\ncv_3_1700200000.pdf\n</code></pre></p>"},{"location":"features/file-storage/#components","title":"Components","text":"Component Description Example <code>{type}</code> File category <code>project</code>, <code>cv</code> <code>{id}</code> Entity ID <code>1</code>, <code>2</code>, <code>3</code> <code>{timestamp}</code> Unix timestamp (ms) <code>1700000000</code> <code>{extension}</code> File extension <code>webp</code>, <code>pdf</code> <p>Special Suffix: - <code>_thumb</code>: Indicates thumbnail version</p>"},{"location":"features/file-storage/#why-timestamps","title":"Why Timestamps?","text":"<p>Benefits: 1. Uniqueness: Prevents filename collisions 2. Sorting: Files naturally sorted by upload time 3. Tracking: Easy to identify when file was uploaded 4. Caching: Browser cache busting (URL changes on update)</p> <p>Example Collision Prevention: <pre><code>Without timestamp:\n- project_1.webp (uploaded 9:00 AM)\n- project_1.webp (uploaded 9:05 AM) \u2190 OVERWRITES!\n\nWith timestamp:\n- project_1_1700000000.webp (uploaded 9:00 AM)\n- project_1_1700000300.webp (uploaded 9:05 AM) [OK] Both preserved\n</code></pre></p>"},{"location":"features/file-storage/#4-security-validation","title":"4. Security Validation","text":""},{"location":"features/file-storage/#mime-type-validation","title":"MIME Type Validation","text":"<p>Two-Layer Validation:</p> <ol> <li>Content-Type Header (client-provided, untrusted)</li> <li>Magic Bytes (file content, trusted)</li> </ol> <p>Magic Bytes Lookup:</p> File Type Magic Bytes Hex Representation JPEG <code>\u00ff\u00d8\u00ff</code> <code>FF D8 FF</code> PNG <code>\u2030PNG\\r\\n\\x1A\\n</code> <code>89 50 4E 47 0D 0A 1A 0A</code> WebP <code>RIFF....WEBP</code> <code>52 49 46 46 ... 57 45 42 50</code> PDF <code>%PDF</code> <code>25 50 44 46</code> <p>Implementation: <pre><code>public boolean validateMagicBytes(MultipartFile file, String expectedType) throws IOException {\n    byte[] header = new byte[12];\n    file.getInputStream().read(header);\n\n    switch (expectedType) {\n        case \"image/jpeg\":\n            return header[0] == (byte) 0xFF &amp;&amp;\n                   header[1] == (byte) 0xD8 &amp;&amp;\n                   header[2] == (byte) 0xFF;\n\n        case \"image/png\":\n            return header[0] == (byte) 0x89 &amp;&amp;\n                   header[1] == 0x50 &amp;&amp;\n                   header[2] == 0x4E &amp;&amp;\n                   header[3] == 0x47;\n\n        case \"image/webp\":\n            return header[8] == 0x57 &amp;&amp;\n                   header[9] == 0x45 &amp;&amp;\n                   header[10] == 0x42 &amp;&amp;\n                   header[11] == 0x50;\n\n        case \"application/pdf\":\n            return header[0] == 0x25 &amp;&amp;\n                   header[1] == 0x50 &amp;&amp;\n                   header[2] == 0x44 &amp;&amp;\n                   header[3] == 0x46;\n\n        default:\n            return false;\n    }\n}\n</code></pre></p>"},{"location":"features/file-storage/#file-size-limits","title":"File Size Limits","text":"<p>Current Limits: | File Type | Max Size | Enforced By | |-----------|----------|-------------| | Project Images | 10 MB | Spring Boot config | | CV Documents | 10 MB | Spring Boot config |</p> <p>Configuration (application.yml): <pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre></p> <p>Backend Validation: <pre><code>public void validateFileSize(MultipartFile file, long maxSizeBytes) {\n    if (file.getSize() &gt; maxSizeBytes) {\n        throw new FileSizeLimitExceededException(\n            \"File size exceeds maximum allowed size: \" + maxSizeBytes + \" bytes\"\n        );\n    }\n}\n</code></pre></p>"},{"location":"features/file-storage/#path-traversal-prevention","title":"Path Traversal Prevention","text":"<p>Vulnerable Code (DO NOT USE): <pre><code>// DANGEROUS: User can specify path like \"../../etc/passwd\"\nString filename = request.getParameter(\"filename\");\nPath path = Paths.get(\"uploads/\" + filename);\nFiles.write(path, data);\n</code></pre></p> <p>Secure Code (USED): <pre><code>// SAFE: Sanitize filename and use absolute paths\nString sanitizedFilename = filename.replaceAll(\"[^a-zA-Z0-9._-]\", \"_\");\nPath uploadDir = Paths.get(\"uploads\").toAbsolutePath().normalize();\nPath targetPath = uploadDir.resolve(sanitizedFilename).normalize();\n\n// Verify target path is within upload directory\nif (!targetPath.startsWith(uploadDir)) {\n    throw new SecurityException(\"Invalid file path\");\n}\n\nFiles.write(targetPath, data);\n</code></pre></p>"},{"location":"features/file-storage/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Files - File upload API</li> <li>Features: Image Processing - Image optimization</li> <li>Features: CV Management - CV storage</li> <li>Deployment: CI/CD - Deployment pipeline</li> </ul>"},{"location":"features/graphql/","title":"GraphQL API","text":"<p>GraphQL endpoint as an alternative to REST API for flexible data querying.</p>"},{"location":"features/graphql/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoint</li> <li>Schema</li> <li>Queries</li> <li>Mutations</li> <li>Configuration</li> </ol>"},{"location":"features/graphql/#1-overview","title":"1. Overview","text":"<p>The Portfolio application provides a GraphQL API alongside the REST API for flexible data querying.</p> <p>Key Capabilities: - Single endpoint for all operations - Client-specified response fields - Reduced over-fetching - Type-safe schema - Introspection support - GraphiQL playground (development)</p> <p>Endpoint: <code>/graphql</code></p>"},{"location":"features/graphql/#2-endpoint","title":"2. Endpoint","text":""},{"location":"features/graphql/#21-url","title":"2.1 URL","text":"Environment URL Local http://localhost:8080/graphql Staging https://staging-api.example.com/graphql Production https://api.example.com/graphql"},{"location":"features/graphql/#22-graphiql-playground","title":"2.2 GraphiQL Playground","text":"<p>URL: <code>/graphiql</code> (development only)</p> <p>Provides: - Interactive query editor - Schema documentation - Query history - Variables panel</p>"},{"location":"features/graphql/#23-request-format","title":"2.3 Request Format","text":"<pre><code>POST /graphql\nContent-Type: application/json\n\n{\n  \"query\": \"query { projects { id title } }\",\n  \"variables\": {},\n  \"operationName\": \"GetProjects\"\n}\n</code></pre>"},{"location":"features/graphql/#3-schema","title":"3. Schema","text":""},{"location":"features/graphql/#31-types","title":"3.1 Types","text":"<p>Project: <pre><code>type Project {\n  id: ID!\n  title: String!\n  slug: String!\n  description: String\n  shortDescription: String\n  technologies: [String!]!\n  githubUrl: String\n  demoUrl: String\n  imageUrl: String\n  thumbnailUrl: String\n  featured: Boolean!\n  displayOrder: Int\n  startDate: String\n  endDate: String\n  tags: [Tag!]!\n  createdAt: String!\n  updatedAt: String!\n}\n</code></pre></p> <p>Article: <pre><code>type Article {\n  id: ID!\n  title: String!\n  slug: String!\n  content: String!\n  htmlContent: String!\n  published: Boolean!\n  publishedAt: String\n  readingTime: Int\n  tags: [Tag!]!\n  createdAt: String!\n  updatedAt: String!\n}\n</code></pre></p> <p>Experience: <pre><code>type Experience {\n  id: ID!\n  title: String!\n  organization: String!\n  location: String\n  description: String\n  type: ExperienceType!\n  startDate: String!\n  endDate: String\n  ongoing: Boolean!\n  createdAt: String!\n}\n\nenum ExperienceType {\n  WORK\n  EDUCATION\n  CERTIFICATION\n  VOLUNTEERING\n}\n</code></pre></p> <p>Tag: <pre><code>type Tag {\n  id: ID!\n  name: String!\n  slug: String!\n}\n</code></pre></p> <p>Skill: <pre><code>type Skill {\n  id: ID!\n  name: String!\n  category: String!\n  proficiency: Int!\n  displayOrder: Int\n}\n</code></pre></p>"},{"location":"features/graphql/#4-queries","title":"4. Queries","text":""},{"location":"features/graphql/#41-projects","title":"4.1 Projects","text":"<pre><code># Get all projects\nquery {\n  projects {\n    id\n    title\n    description\n    tags { name }\n  }\n}\n\n# Get featured projects\nquery {\n  featuredProjects {\n    id\n    title\n    imageUrl\n  }\n}\n\n# Get project by ID\nquery {\n  project(id: 1) {\n    id\n    title\n    description\n    technologies\n    githubUrl\n    demoUrl\n  }\n}\n\n# Get project by slug\nquery {\n  projectBySlug(slug: \"my-project\") {\n    id\n    title\n    description\n  }\n}\n</code></pre>"},{"location":"features/graphql/#42-articles","title":"4.2 Articles","text":"<pre><code># Get published articles\nquery {\n  articles {\n    id\n    title\n    slug\n    readingTime\n    publishedAt\n  }\n}\n\n# Get article by slug\nquery {\n  articleBySlug(slug: \"my-article\") {\n    id\n    title\n    htmlContent\n    tags { name }\n  }\n}\n</code></pre>"},{"location":"features/graphql/#43-experiences","title":"4.3 Experiences","text":"<pre><code># Get all experiences\nquery {\n  experiences {\n    id\n    title\n    organization\n    type\n    startDate\n    endDate\n    ongoing\n  }\n}\n\n# Get experiences by type\nquery {\n  experiencesByType(type: WORK) {\n    id\n    title\n    organization\n    description\n  }\n}\n</code></pre>"},{"location":"features/graphql/#44-skills","title":"4.4 Skills","text":"<pre><code># Get all skills\nquery {\n  skills {\n    id\n    name\n    category\n    proficiency\n  }\n}\n\n# Get skills by category\nquery {\n  skillsByCategory(category: \"Backend\") {\n    id\n    name\n    proficiency\n  }\n}\n</code></pre>"},{"location":"features/graphql/#45-tags","title":"4.5 Tags","text":"<pre><code># Get all tags\nquery {\n  tags {\n    id\n    name\n    slug\n  }\n}\n</code></pre>"},{"location":"features/graphql/#5-mutations","title":"5. Mutations","text":""},{"location":"features/graphql/#51-admin-mutations-requires-authentication","title":"5.1 Admin Mutations (Requires Authentication)","text":"<p>Projects: <pre><code>mutation {\n  createProject(input: {\n    title: \"New Project\"\n    description: \"Description\"\n    technologies: [\"Java\", \"Spring\"]\n  }) {\n    id\n    title\n  }\n}\n\nmutation {\n  updateProject(id: 1, input: {\n    title: \"Updated Title\"\n  }) {\n    id\n    title\n  }\n}\n\nmutation {\n  deleteProject(id: 1)\n}\n</code></pre></p> <p>Articles: <pre><code>mutation {\n  createArticle(input: {\n    title: \"New Article\"\n    content: \"# Markdown content\"\n  }) {\n    id\n    title\n    slug\n  }\n}\n\nmutation {\n  publishArticle(id: 1) {\n    id\n    published\n    publishedAt\n  }\n}\n</code></pre></p>"},{"location":"features/graphql/#52-authentication","title":"5.2 Authentication","text":"<p>Admin mutations require JWT token:</p> <pre><code>POST /graphql\nAuthorization: Bearer &lt;access_token&gt;\nContent-Type: application/json\n</code></pre>"},{"location":"features/graphql/#6-configuration","title":"6. Configuration","text":""},{"location":"features/graphql/#61-dependencies","title":"6.1 Dependencies","text":"<pre><code>implementation 'org.springframework.boot:spring-boot-starter-graphql'\n</code></pre>"},{"location":"features/graphql/#62-application-properties","title":"6.2 Application Properties","text":"<pre><code>spring:\n  graphql:\n    graphiql:\n      enabled: true  # Disable in production\n    schema:\n      locations: classpath:graphql/\n      printer:\n        enabled: true\n    cors:\n      allowed-origins: \"*\"\n</code></pre>"},{"location":"features/graphql/#63-schema-location","title":"6.3 Schema Location","text":"<p>Schema files in <code>src/main/resources/graphql/</code>: - <code>schema.graphqls</code> - Main schema - <code>types/project.graphqls</code> - Project types - <code>types/article.graphqls</code> - Article types</p>"},{"location":"features/graphql/#7-rest-vs-graphql","title":"7. REST vs GraphQL","text":""},{"location":"features/graphql/#71-comparison","title":"7.1 Comparison","text":"Aspect REST GraphQL Endpoints Multiple Single Response size Fixed Client-defined Over-fetching Common Avoided Under-fetching Requires multiple calls Single query Caching HTTP caching Client-side File uploads Native Requires multipart"},{"location":"features/graphql/#72-when-to-use-graphql","title":"7.2 When to Use GraphQL","text":"<p>Use GraphQL for: - Complex nested queries - Client-specified fields - Aggregating multiple resources - Mobile apps (bandwidth optimization)</p> <p>Use REST for: - Simple CRUD operations - File uploads - Webhooks - Server-side caching</p>"},{"location":"features/graphql/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: REST Overview - REST API documentation</li> <li>Architecture: Backend - Backend architecture</li> <li>Security: Authentication - JWT authentication</li> </ul>"},{"location":"features/i18n/","title":"Internationalization (i18n)","text":"<p>Multi-language support with ngx-translate and RTL layout handling.</p>"},{"location":"features/i18n/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Supported Languages</li> <li>Usage</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/i18n/#overview","title":"Overview","text":"<p>The internationalization system provides:</p> <ul> <li>10 languages - Including non-Latin scripts</li> <li>RTL support - Arabic with right-to-left layout</li> <li>Persistence - Language preference saved locally</li> <li>Auto-detection - Browser language detection on first visit</li> </ul> <p>Key characteristics: - ngx-translate library - JSON translation files - Signal-based reactive updates - Lazy loading of translations</p>"},{"location":"features/i18n/#architecture","title":"Architecture","text":""},{"location":"features/i18n/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>LanguageService</code> <code>services/</code> Language management <code>LanguageSelectorComponent</code> <code>components/shared/</code> UI selector dropdown <code>TranslateModule</code> <code>@ngx-translate/core</code> Translation pipe and service"},{"location":"features/i18n/#translation-files","title":"Translation Files","text":"<pre><code>src/assets/i18n/\n\u251c\u2500\u2500 ar.json   # Arabic (RTL)\n\u251c\u2500\u2500 de.json   # German\n\u251c\u2500\u2500 en.json   # English\n\u251c\u2500\u2500 es.json   # Spanish\n\u251c\u2500\u2500 fr.json   # French (default)\n\u251c\u2500\u2500 hi.json   # Hindi\n\u251c\u2500\u2500 ja.json   # Japanese\n\u251c\u2500\u2500 pt.json   # Portuguese\n\u251c\u2500\u2500 ru.json   # Russian\n\u2514\u2500\u2500 zh.json   # Chinese\n</code></pre>"},{"location":"features/i18n/#supported-languages","title":"Supported Languages","text":"Code Language Script Direction <code>fr</code> Fran Latin LTR <code>en</code> English Latin LTR <code>es</code> Espa Latin LTR <code>pt</code> Portugu Latin LTR <code>de</code> Deutsch Latin LTR <code>zh</code> Chinese CJK LTR <code>ja</code> Japanese CJK LTR <code>ru</code> Russian Cyrillic LTR <code>ar</code> Arabic Arabic RTL <code>hi</code> Hindi Devanagari LTR"},{"location":"features/i18n/#usage","title":"Usage","text":""},{"location":"features/i18n/#template-translation","title":"Template Translation","text":"<p>Using translate pipe:</p> <pre><code>&lt;h1&gt;{{ 'home.title' | translate }}&lt;/h1&gt;\n&lt;p&gt;{{ 'home.description' | translate }}&lt;/p&gt;\n</code></pre> <p>With parameters:</p> <pre><code>&lt;p&gt;{{ 'greeting.welcome' | translate: { name: userName } }}&lt;/p&gt;\n</code></pre>"},{"location":"features/i18n/#component-translation","title":"Component Translation","text":"<p>Programmatic access:</p> <pre><code>export class MyComponent {\n  private readonly languageService = inject(LanguageService);\n\n  getMessage(): string {\n    return this.languageService.instant('messages.success');\n  }\n}\n</code></pre>"},{"location":"features/i18n/#language-switching","title":"Language Switching","text":"<pre><code>// Change language\nthis.languageService.setLanguage('en');\n\n// Get current language\nconst currentLang = this.languageService.getCurrentLanguage();\n\n// Subscribe to changes\neffect(() =&gt; {\n  const lang = this.languageService.currentLang();\n  console.log('Language changed to:', lang);\n});\n</code></pre>"},{"location":"features/i18n/#configuration","title":"Configuration","text":""},{"location":"features/i18n/#languageservice-implementation","title":"LanguageService Implementation","text":"<pre><code>@Injectable({ providedIn: 'root' })\nexport class LanguageService {\n  private readonly STORAGE_KEY = 'preferred-language';\n  private readonly DEFAULT_LANG = 'fr';\n  private readonly SUPPORTED_LANGS = ['en', 'fr', 'es', 'pt', 'de', 'zh', 'ja', 'ru', 'ar', 'hi'];\n  private readonly RTL_LANGS = ['ar'];\n\n  readonly currentLang = signal&lt;string&gt;(this.DEFAULT_LANG);\n\n  initialize(): void {\n    const savedLang = localStorage.getItem(this.STORAGE_KEY);\n    const browserLang = this.translate.getBrowserLang();\n\n    let lang = this.DEFAULT_LANG;\n    if (savedLang &amp;&amp; this.SUPPORTED_LANGS.includes(savedLang)) {\n      lang = savedLang;\n    } else if (browserLang &amp;&amp; this.SUPPORTED_LANGS.includes(browserLang)) {\n      lang = browserLang;\n    }\n\n    this.setLanguage(lang);\n  }\n\n  setLanguage(lang: string): void {\n    this.translate.use(lang);\n    this.currentLang.set(lang);\n    localStorage.setItem(this.STORAGE_KEY, lang);\n    document.documentElement.lang = lang;\n    document.documentElement.dir = this.RTL_LANGS.includes(lang) ? 'rtl' : 'ltr';\n  }\n}\n</code></pre>"},{"location":"features/i18n/#app-initialization","title":"App Initialization","text":"<pre><code>// main.ts\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\nbootstrapApplication(AppComponent, {\n  providers: [\n    importProvidersFrom(\n      TranslateModule.forRoot({\n        loader: {\n          provide: TranslateLoader,\n          useFactory: HttpLoaderFactory,\n          deps: [HttpClient]\n        }\n      })\n    )\n  ]\n});\n</code></pre>"},{"location":"features/i18n/#translation-file-structure","title":"Translation File Structure","text":"<pre><code>{\n  \"nav\": {\n    \"home\": \"Accueil\",\n    \"blog\": \"Blog\",\n    \"contact\": \"Contact\"\n  },\n  \"home\": {\n    \"title\": \"Bienvenue\",\n    \"description\": \"D\"\n  },\n  \"contact\": {\n    \"form\": {\n      \"name\": \"Nom\",\n      \"email\": \"Email\",\n      \"message\": \"Message\",\n      \"submit\": \"Envoyer\"\n    }\n  }\n}\n</code></pre>"},{"location":"features/i18n/#rtl-support","title":"RTL Support","text":"<p>Arabic language triggers RTL layout:</p> <pre><code>setLanguage(lang: string): void {\n  document.documentElement.dir = this.RTL_LANGS.includes(lang) ? 'rtl' : 'ltr';\n}\n</code></pre> <p>CSS considerations:</p> <pre><code>/* Automatic mirroring with logical properties */\n.sidebar {\n  margin-inline-start: 1rem;\n  padding-inline-end: 2rem;\n}\n\n/* RTL-specific overrides */\n[dir=\"rtl\"] .icon-arrow {\n  transform: scaleX(-1);\n}\n</code></pre>"},{"location":"features/i18n/#related-documentation","title":"Related Documentation","text":"<ul> <li>Frontend Architecture - Angular setup</li> <li>SEO - Meta tags with language support</li> </ul>"},{"location":"features/image-processing/","title":"Image Processing System","text":""},{"location":"features/image-processing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>WebP Conversion</li> <li>Thumbnail Generation</li> <li>Architecture</li> <li>Performance</li> <li>Configuration</li> </ol>"},{"location":"features/image-processing/#1-overview","title":"1. Overview","text":"<p>The Image Processing System automatically converts uploaded project images to WebP format and generates optimized thumbnails.</p> <p>Key Features: - Automatic WebP conversion (from JPEG, PNG, WebP) - Thumbnail generation (400x300px) - Configurable quality settings - MIME type validation (magic bytes) - Old image cleanup - Optimized for web performance</p> <p>Technology: Thumbnailator library (Java)</p>"},{"location":"features/image-processing/#2-webp-conversion","title":"2. WebP Conversion","text":""},{"location":"features/image-processing/#why-webp","title":"Why WebP?","text":"<p>Benefits: - 25-35% smaller file size vs JPEG (same quality) - Supports transparency (like PNG) - Faster page load times - Modern browser support (95%+ globally)</p> <p>Comparison: | Format | File Size (example) | Transparency | Browser Support | |--------|---------------------|--------------|-----------------| | JPEG | 500 KB | No | 100% | | PNG | 800 KB | Yes | 100% | | WebP | 350 KB | Yes | 95%+ |</p>"},{"location":"features/image-processing/#conversion-process","title":"Conversion Process","text":"<p>Flow: <pre><code>1. User uploads image (JPEG/PNG/WebP)\n   \u2193\n2. MIME type validation (magic bytes)\n   \u2193\n3. Load image with Thumbnailator\n   \u2193\n4. Convert to WebP format\n   \u2193\n5. Apply quality compression (0.85)\n   \u2193\n6. Save as project_{id}_{timestamp}.webp\n   \u2193\n7. Delete old image (if exists)\n   \u2193\n8. Update project.imageUrl in database\n</code></pre></p>"},{"location":"features/image-processing/#quality-settings","title":"Quality Settings","text":"<p>Full-Size Image: - Quality: 0.85 (85%) - Format: WebP - Naming: <code>project_{id}_{timestamp}.webp</code></p> <p>Thumbnail: - Quality: 0.8 (80%) - Size: 400x300px (fixed dimensions) - Format: WebP - Naming: <code>project_{id}_{timestamp}_thumb.webp</code></p> <p>Quality Scale: - 1.0 = Maximum quality (large file) - 0.85 = High quality (recommended for full images) - 0.8 = Good quality (recommended for thumbnails) - 0.5 = Medium quality (noticeable compression)</p>"},{"location":"features/image-processing/#3-thumbnail-generation","title":"3. Thumbnail Generation","text":""},{"location":"features/image-processing/#thumbnail-specifications","title":"Thumbnail Specifications","text":"<p>Dimensions: 400\u00d7300px (fixed aspect ratio)</p> <p>Resize Mode: <code>FIT</code> (maintains aspect ratio, may add letterboxing)</p> <p>Quality: 0.8 (80%)</p> <p>Purpose: - Fast loading on list/grid views - Reduced bandwidth usage - Better mobile performance</p>"},{"location":"features/image-processing/#resize-modes","title":"Resize Modes","text":"<p>Available Modes:</p> <ol> <li>FIT (used in this project):</li> <li>Maintains aspect ratio</li> <li>Fits within 400\u00d7300px</li> <li>May result in smaller dimensions</li> <li> <p>No cropping</p> </li> <li> <p>CROP (alternative):</p> </li> <li>Forces exact 400\u00d7300px</li> <li>Crops excess areas</li> <li>Always fills entire space</li> </ol> <p>Example: <pre><code>Original image: 1920\u00d71080px (16:9)\n\nFIT mode:\n\u2192 400\u00d7225px (maintains 16:9, fits within 400\u00d7300)\n\nCROP mode:\n\u2192 400\u00d7300px (crops to 4:3, may lose content)\n</code></pre></p>"},{"location":"features/image-processing/#use-cases","title":"Use Cases","text":"<p>Full Image (<code>imageUrl</code>): - Project detail page - Lightbox/modal view - High-quality display</p> <p>Thumbnail (<code>thumbnailUrl</code>): - Project list/grid - Homepage featured projects - Mobile views - Fast previews</p>"},{"location":"features/image-processing/#4-architecture","title":"4. Architecture","text":""},{"location":"features/image-processing/#component-diagram","title":"Component Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  ProjectController                      \u2502\n\u2502                                                         \u2502\n\u2502  POST /api/admin/projects/{id}/upload-image            \u2502\n\u2502  \u251c\u2500 Validate multipart file                            \u2502\n\u2502  \u251c\u2500 Call ImageService.uploadProjectImage()             \u2502\n\u2502  \u2514\u2500 Return ImageUploadResponse                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   ImageService                          \u2502\n\u2502                                                         \u2502\n\u2502  uploadProjectImage(projectId, file)                   \u2502\n\u2502  \u251c\u2500 Load project from database                         \u2502\n\u2502  \u251c\u2500 Validate MIME type (magic bytes)                   \u2502\n\u2502  \u251c\u2500 Generate filenames (main + thumbnail)              \u2502\n\u2502  \u251c\u2500 Convert to WebP (quality 0.85)                     \u2502\n\u2502  \u251c\u2500 Generate thumbnail (400\u00d7300, quality 0.8)          \u2502\n\u2502  \u251c\u2500 Delete old images (if exist)                       \u2502\n\u2502  \u251c\u2500 Update project imageUrl &amp; thumbnailUrl             \u2502\n\u2502  \u2514\u2500 Return URLs                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u25bc                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 FileStorage     \u2502      \u2502 Thumbnailator  \u2502\n\u2502 Service         \u2502      \u2502 Library        \u2502\n\u2502                 \u2502      \u2502                \u2502\n\u2502 - Store files   \u2502      \u2502 - Resize       \u2502\n\u2502 - Delete files  \u2502      \u2502 - Convert      \u2502\n\u2502 - Validate      \u2502      \u2502 - Compress     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    File System                          \u2502\n\u2502                                                         \u2502\n\u2502  uploads/projects/                                      \u2502\n\u2502  \u251c\u2500\u2500 project_1_1700000000.webp                         \u2502\n\u2502  \u251c\u2500\u2500 project_1_1700000000_thumb.webp                   \u2502\n\u2502  \u251c\u2500\u2500 project_2_1700100000.webp                         \u2502\n\u2502  \u2514\u2500\u2500 project_2_1700100000_thumb.webp                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/image-processing/#processing-pipeline","title":"Processing Pipeline","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Upload JPEG/PNG \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 MIME Validation \u2502 \u2500\u2500 Magic bytes check (not extension)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Load Image      \u2502 \u2500\u2500 Thumbnailator reads original\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u25bc                                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Full Image       \u2502              \u2502 Thumbnail        \u2502\n\u2502                  \u2502              \u2502                  \u2502\n\u2502 - Keep original  \u2502              \u2502 - Resize 400\u00d7300 \u2502\n\u2502   dimensions     \u2502              \u2502 - Quality 0.8    \u2502\n\u2502 - Quality 0.85   \u2502              \u2502 - Format: WebP   \u2502\n\u2502 - Format: WebP   \u2502              \u2502                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                 \u2502\n         \u25bc                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Save to disk     \u2502              \u2502 Save to disk     \u2502\n\u2502 project_X.webp   \u2502              \u2502 project_X_thumb  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                 \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u25bc\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502 Delete old files \u2502 \u2500\u2500 Cleanup previous images\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u25bc\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502 Update database  \u2502 \u2500\u2500 Save URLs to project\n          \u2502 - imageUrl       \u2502\n          \u2502 - thumbnailUrl   \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/image-processing/#5-performance","title":"5. Performance","text":""},{"location":"features/image-processing/#file-size-comparison","title":"File Size Comparison","text":"<p>Example: Project screenshot (1920\u00d71080)</p> Format File Size Quality Savings Original PNG 2.1 MB Lossless - JPEG (quality 90) 850 KB High 59% WebP (quality 0.85) 580 KB High 72% WebP Thumbnail (400\u00d7300) 45 KB Good 98%"},{"location":"features/image-processing/#processing-time","title":"Processing Time","text":"<p>Benchmarks (average, on modern hardware):</p> Operation Time File Upload 2 MB image ~50ms - WebP conversion ~200ms Full image Thumbnail generation ~100ms 400\u00d7300px Total processing ~350ms Complete flow <p>Optimization Tips: - Use async processing for large batches - Consider CDN for static file serving - Implement lazy loading on frontend</p>"},{"location":"features/image-processing/#bandwidth-savings","title":"Bandwidth Savings","text":"<p>Example: Portfolio with 10 projects</p> <p>Before Optimization (PNG/JPEG): - Full images: 10 \u00d7 1.5 MB = 15 MB - No thumbnails (load full images) - Total: ~15 MB per page load</p> <p>After Optimization (WebP): - Thumbnails (list): 10 \u00d7 50 KB = 500 KB - Full image (detail): 1 \u00d7 600 KB = 600 KB - Total: ~1.1 MB per typical session</p> <p>Savings: 93% reduction in bandwidth</p>"},{"location":"features/image-processing/#6-configuration","title":"6. Configuration","text":""},{"location":"features/image-processing/#dependencies","title":"Dependencies","text":"<p>build.gradle: <pre><code>dependencies {\n    // Image processing\n    implementation 'net.coobird:thumbnailator:0.4.19'\n\n    // Spring Boot (already included)\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n}\n</code></pre></p>"},{"location":"features/image-processing/#application-properties","title":"Application Properties","text":"<p>application.yml: <pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n\nfile:\n  upload:\n    base-path: uploads\n    projects-path: projects\n    allowed-image-types:\n      - image/jpeg\n      - image/png\n      - image/webp\n\nimage:\n  processing:\n    full-image-quality: 0.85\n    thumbnail-quality: 0.8\n    thumbnail-width: 400\n    thumbnail-height: 300\n</code></pre></p>"},{"location":"features/image-processing/#static-resource-serving","title":"Static Resource Serving","text":"<p>WebMvcConfig.java: <pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/uploads/**\")\n                .addResourceLocations(\"file:uploads/\")\n                .setCachePeriod(3600); // 1 hour cache\n    }\n}\n</code></pre></p>"},{"location":"features/image-processing/#production-recommendations","title":"Production Recommendations","text":"<p>1. Use Cloud Storage: <pre><code>// AWS S3 example\n@Service\npublic class S3ImageService {\n\n    private final AmazonS3 s3Client;\n\n    public String uploadToS3(MultipartFile file, String bucketName, String key) {\n        // Convert to WebP\n        byte[] webpData = convertToWebP(file);\n\n        // Upload to S3\n        ObjectMetadata metadata = new ObjectMetadata();\n        metadata.setContentType(\"image/webp\");\n        metadata.setContentLength(webpData.length);\n\n        s3Client.putObject(bucketName, key, new ByteArrayInputStream(webpData), metadata);\n\n        return s3Client.getUrl(bucketName, key).toString();\n    }\n}\n</code></pre></p> <p>2. Enable CDN: - Use CloudFront (AWS) or Cloudflare - Cache images at edge locations - Reduce server load - Faster global delivery</p> <p>3. Lazy Loading (Frontend): <pre><code>&lt;img [src]=\"project.thumbnailUrl\"\n     [attr.data-full]=\"project.imageUrl\"\n     loading=\"lazy\"\n     alt=\"{{ project.title }}\"&gt;\n</code></pre></p> <p>4. Responsive Images: <pre><code>&lt;img [srcset]=\"project.thumbnailUrl + ' 400w, ' + project.imageUrl + ' 1920w'\"\n     sizes=\"(max-width: 768px) 400px, 1920px\"\n     [src]=\"project.imageUrl\"\n     alt=\"{{ project.title }}\"&gt;\n</code></pre></p>"},{"location":"features/image-processing/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Projects - Project image upload API</li> <li>Features: File Storage - File storage architecture</li> <li>Development: Setup - Development environment</li> </ul>"},{"location":"features/messaging/","title":"Messaging","text":"<p>Asynchronous task processing using RabbitMQ for email sending, image processing, and audit logging.</p>"},{"location":"features/messaging/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Use Cases</li> <li>Configuration</li> <li>Database Schema</li> <li>Related Documentation</li> </ol>"},{"location":"features/messaging/#overview","title":"Overview","text":"<p>The messaging feature provides asynchronous processing for:</p> <ul> <li>Contact form emails - Non-blocking email delivery via SMTP</li> <li>Image optimization - WebP conversion and thumbnail generation in background</li> <li>Audit logging - Non-blocking audit trail persistence</li> </ul> <p>Key capabilities: - Immediate HTTP response while processing happens asynchronously - Dead Letter Queues (DLQ) for failed message handling - Message TTL for automatic cleanup - Image status tracking (PROCESSING, READY, FAILED) - Prometheus metrics integration</p>"},{"location":"features/messaging/#architecture","title":"Architecture","text":""},{"location":"features/messaging/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>RabbitMQConfig</code> <code>messaging/config/</code> Exchange, queue, binding definitions <code>RabbitMQProperties</code> <code>messaging/config/</code> Configuration properties <code>RabbitMQEventPublisher</code> <code>messaging/publisher/</code> Event publishing <code>EmailConsumer</code> <code>messaging/consumer/</code> Contact email processing <code>ImageProcessingConsumer</code> <code>messaging/consumer/</code> Image optimization <code>AuditConsumer</code> <code>messaging/consumer/</code> Audit log persistence <code>DeadLetterConsumer</code> <code>messaging/consumer/</code> Failed message handling"},{"location":"features/messaging/#event-types","title":"Event Types","text":"Event Class Purpose Contact Email <code>ContactEmailEvent</code> Contact form submission Image Processing <code>ImageProcessingEvent</code> Image optimization task Audit <code>AuditEvent</code> Admin action logging"},{"location":"features/messaging/#use-cases","title":"Use Cases","text":""},{"location":"features/messaging/#contact-form-email","title":"Contact Form Email","text":"<p>User submits contact form and receives immediate response while email is sent asynchronously.</p> <p>Flow: 1. User submits contact form 2. <code>ContactController</code> validates input 3. <code>ContactServiceImpl</code> publishes <code>ContactEmailEvent</code> to queue 4. HTTP 202 Accepted returned immediately 5. <code>EmailConsumer</code> processes event and sends email via SMTP 6. Failed emails routed to DLQ for manual review</p> <p>Event payload: <pre><code>{\n  \"eventId\": \"uuid\",\n  \"senderName\": \"John Doe\",\n  \"senderEmail\": \"john@example.com\",\n  \"recipientEmail\": \"admin@portfolio.com\",\n  \"subject\": \"Contact inquiry\",\n  \"body\": \"&lt;html&gt;...&lt;/html&gt;\"\n}\n</code></pre></p>"},{"location":"features/messaging/#image-processing","title":"Image Processing","text":"<p>Image upload returns immediately while optimization happens in background.</p> <p>Flow: 1. User uploads image via admin panel 2. Image saved to temp location with PROCESSING status 3. <code>ImageProcessingEvent</code> published to queue 4. HTTP 201 Created returned with image metadata (status: PROCESSING) 5. <code>ImageProcessingConsumer</code> processes image:    - Converts to WebP format    - Generates thumbnail    - Saves original for batch reprocessing    - Updates status to READY 6. Frontend polls or receives status update</p> <p>Processing types:</p> Type Dimensions Quality Output <code>PROJECT</code> 1200\u00d7800 0.85 Full + thumbnail <code>PROJECT_CAROUSEL</code> 16:9 ratio 0.85 Full + thumbnail <code>ARTICLE</code> 1200\u00d7675 0.85 Full + thumbnail <code>PROFILE</code> 400\u00d7400 0.90 Optimized only <p>Status tracking: <pre><code>PROCESSING \u2192 READY (success)\nPROCESSING \u2192 FAILED (error)\n</code></pre></p>"},{"location":"features/messaging/#audit-logging","title":"Audit Logging","text":"<p>Admin actions logged asynchronously without impacting request latency.</p> <p>Flow: 1. Admin performs action (CREATE, UPDATE, DELETE) 2. <code>@Auditable</code> aspect captures action details 3. <code>AuditEvent</code> published to queue 4. HTTP response returned immediately 5. <code>AuditConsumer</code> persists audit log to database</p>"},{"location":"features/messaging/#configuration","title":"Configuration","text":""},{"location":"features/messaging/#application-properties","title":"Application Properties","text":"<pre><code># RabbitMQ connection\nspring:\n  rabbitmq:\n    host: ${RABBITMQ_HOST:localhost}\n    port: ${RABBITMQ_PORT:5672}\n    username: ${RABBITMQ_USERNAME:guest}\n    password: ${RABBITMQ_PASSWORD:guest}\n    publisher-confirm-type: correlated\n    publisher-returns: true\n\n# Feature toggle and queue configuration\nrabbitmq:\n  enabled: ${RABBITMQ_ENABLED:true}\n\n  queues:\n    email: portfolio.email.queue\n    email-dlq: portfolio.email.dlq\n    image: portfolio.image.queue\n    image-dlq: portfolio.image.dlq\n    audit: portfolio.audit.queue\n    audit-dlq: portfolio.audit.dlq\n\n  exchanges:\n    email: portfolio.email.exchange\n    image: portfolio.image.exchange\n    audit: portfolio.audit.exchange\n    dlx: portfolio.dlx.exchange\n\n  routing-keys:\n    email: email.send\n    image: image.process\n    audit: audit.log\n</code></pre>"},{"location":"features/messaging/#queue-settings","title":"Queue Settings","text":"Queue Message TTL Dead Letter Exchange <code>portfolio.email.queue</code> 24 hours <code>portfolio.dlx.exchange</code> <code>portfolio.image.queue</code> 1 hour <code>portfolio.dlx.exchange</code> <code>portfolio.audit.queue</code> 24 hours <code>portfolio.dlx.exchange</code>"},{"location":"features/messaging/#image-processing-settings","title":"Image Processing Settings","text":"<pre><code>image:\n  storage:\n    image-max-width: ${IMAGE_MAX_WIDTH:1200}\n    thumbnail-size: ${THUMBNAIL_SIZE:300}\n    jpeg-quality: ${JPEG_QUALITY:0.85}\n    thumbnail-quality: ${THUMBNAIL_QUALITY:0.80}\n    keep-originals: ${IMAGE_KEEP_ORIGINALS:true}\n</code></pre>"},{"location":"features/messaging/#database-schema","title":"Database Schema","text":""},{"location":"features/messaging/#image-status-column","title":"Image Status Column","text":"<p>Added to <code>project_images</code> and <code>article_images</code> tables:</p> <pre><code>-- V22: Add status to project_images\nALTER TABLE project_images ADD COLUMN status VARCHAR(20) DEFAULT 'READY';\n\n-- V23: Add status to article_images\nALTER TABLE article_images ADD COLUMN status VARCHAR(20) DEFAULT 'READY';\n</code></pre> <p>Status values:</p> Status Description <code>PROCESSING</code> Image uploaded, processing in queue <code>READY</code> Processing complete, image available <code>FAILED</code> Processing failed, original available"},{"location":"features/messaging/#feature-toggle","title":"Feature Toggle","text":"<p>Messaging can be disabled for development:</p> <pre><code>rabbitmq:\n  enabled: false\n</code></pre> <p>When disabled: - <code>NoOpEventPublisher</code> is activated - Operations fall back to synchronous processing where applicable - Email sending becomes synchronous - Image processing becomes synchronous</p>"},{"location":"features/messaging/#related-documentation","title":"Related Documentation","text":"<ul> <li>Messaging Architecture - Technical architecture</li> <li>Image Processing - Image processing details</li> <li>Contact Form - Contact form feature</li> <li>Audit System - Audit logging feature</li> <li>Observability - RabbitMQ monitoring</li> </ul>"},{"location":"features/pwa/","title":"Progressive Web App (PWA)","text":"<p>Service Worker implementation for offline support and optimized caching.</p>"},{"location":"features/pwa/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Caching Strategies</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/pwa/#overview","title":"Overview","text":"<p>The PWA implementation provides:</p> <ul> <li>Offline support - Core app works without network</li> <li>Smart caching - API responses cached with strategies</li> <li>Fast loading - Prefetched assets for instant startup</li> <li>Installable - Add to home screen capability</li> </ul> <p>Key characteristics: - Angular Service Worker (@angular/service-worker) - Freshness strategy for API data - Performance strategy for images - Automatic cache invalidation on deployment</p>"},{"location":"features/pwa/#architecture","title":"Architecture","text":""},{"location":"features/pwa/#configuration-files","title":"Configuration Files","text":"File Purpose <code>ngsw-config.json</code> Service Worker configuration <code>site.webmanifest</code> Web app manifest <code>angular.json</code> Build configuration with SW enabled"},{"location":"features/pwa/#asset-groups","title":"Asset Groups","text":"Group Install Mode Files <code>app</code> Prefetch index.html, JS, CSS, favicons <code>assets</code> Lazy Images, fonts, SVG files"},{"location":"features/pwa/#data-groups","title":"Data Groups","text":"Group Strategy Max Age Description <code>api-site-config</code> Freshness 1 day Site configuration <code>api-projects</code> Freshness 1 hour Project data <code>api-skills</code> Freshness 1 hour Skills data <code>api-articles</code> Freshness 30 min Article listings <code>api-experiences</code> Freshness 1 hour Experience data <code>api-tags</code> Freshness 1 hour Tags data <code>api-cv</code> Freshness 1 day CV metadata <code>api-images</code> Performance 7 days Uploaded images"},{"location":"features/pwa/#caching-strategies","title":"Caching Strategies","text":""},{"location":"features/pwa/#freshness-strategy","title":"Freshness Strategy","text":"<p>Network-first with cache fallback:</p> <pre><code>{\n  \"name\": \"api-projects\",\n  \"urls\": [\"**/api/projects\", \"**/api/projects/featured\"],\n  \"cacheConfig\": {\n    \"maxSize\": 50,\n    \"maxAge\": \"1h\",\n    \"timeout\": \"10s\",\n    \"strategy\": \"freshness\"\n  }\n}\n</code></pre> <p>Behavior: 1. Attempt network request with 10s timeout 2. If network fails, serve from cache 3. Cache updated on successful network response 4. Entries expire after configured maxAge</p>"},{"location":"features/pwa/#performance-strategy","title":"Performance Strategy","text":"<p>Cache-first for static assets:</p> <pre><code>{\n  \"name\": \"api-images\",\n  \"urls\": [\"**/uploads/**\"],\n  \"cacheConfig\": {\n    \"maxSize\": 100,\n    \"maxAge\": \"7d\",\n    \"timeout\": \"5s\",\n    \"strategy\": \"performance\"\n  }\n}\n</code></pre> <p>Behavior: 1. Serve from cache if available 2. Background fetch to update cache 3. Network request only if not in cache 4. Optimal for rarely-changing content</p>"},{"location":"features/pwa/#configuration","title":"Configuration","text":""},{"location":"features/pwa/#ngsw-configjson","title":"ngsw-config.json","text":"<pre><code>{\n  \"$schema\": \"./node_modules/@angular/service-worker/config/schema.json\",\n  \"index\": \"/index.html\",\n  \"assetGroups\": [\n    {\n      \"name\": \"app\",\n      \"installMode\": \"prefetch\",\n      \"resources\": {\n        \"files\": [\n          \"/favicon.ico\",\n          \"/favicon.svg\",\n          \"/index.html\",\n          \"/site.webmanifest\",\n          \"/*.css\",\n          \"/*.js\"\n        ]\n      }\n    },\n    {\n      \"name\": \"assets\",\n      \"installMode\": \"lazy\",\n      \"updateMode\": \"prefetch\",\n      \"resources\": {\n        \"files\": [\n          \"/assets/**\",\n          \"/*.(svg|jpg|jpeg|png|webp|gif|woff|woff2)\"\n        ]\n      }\n    }\n  ],\n  \"navigationUrls\": [\n    \"/**\",\n    \"!/**/*.*\",\n    \"!/api/**\"\n  ]\n}\n</code></pre>"},{"location":"features/pwa/#web-app-manifest","title":"Web App Manifest","text":"<pre><code>{\n  \"name\": \"Emmanuel Gabe - Portfolio\",\n  \"short_name\": \"Portfolio\",\n  \"start_url\": \"/\",\n  \"display\": \"standalone\",\n  \"background_color\": \"#ffffff\",\n  \"theme_color\": \"#1a1a2e\",\n  \"icons\": [\n    {\n      \"src\": \"/web-app-manifest-192x192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/web-app-manifest-512x512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ]\n}\n</code></pre>"},{"location":"features/pwa/#angular-build-configuration","title":"Angular Build Configuration","text":"<pre><code>{\n  \"projects\": {\n    \"portfolio-frontend\": {\n      \"architect\": {\n        \"build\": {\n          \"configurations\": {\n            \"production\": {\n              \"serviceWorker\": true,\n              \"ngswConfigPath\": \"ngsw-config.json\"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"features/pwa/#navigation-urls","title":"Navigation URLs","text":"<p>URLs handled by Service Worker for SPA routing:</p> <pre><code>{\n  \"navigationUrls\": [\n    \"/**\",\n    \"!/**/*.*\",\n    \"!/**/*__*\",\n    \"!/api/**\"\n  ]\n}\n</code></pre> <ul> <li><code>/**</code> - All paths handled</li> <li><code>!/**/*.*</code> - Exclude files with extensions</li> <li><code>!/api/**</code> - Exclude API calls (handled by data groups)</li> </ul>"},{"location":"features/pwa/#related-documentation","title":"Related Documentation","text":"<ul> <li>Frontend Architecture - Angular setup</li> <li>SEO - Meta tags and structured data</li> </ul>"},{"location":"features/search/","title":"Full-Text Search","text":"<p>Elasticsearch-based full-text search with JPA fallback for articles, projects, and experiences.</p>"},{"location":"features/search/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Indexed Entities</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/search/#overview","title":"Overview","text":"<p>The search feature provides full-text search capabilities:</p> <ul> <li>Article search - Search by title, content, excerpt, and tags</li> <li>Project search - Search by title, description, tech stack, and tags</li> <li>Experience search - Search by company, role, and description</li> </ul> <p>Key capabilities: - Elasticsearch primary implementation - JPA-based fallback when Elasticsearch unavailable - Automatic index updates on entity changes - Manual reindex endpoint for admin - Weekly scheduled reindex job</p>"},{"location":"features/search/#architecture","title":"Architecture","text":""},{"location":"features/search/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>SearchService</code> <code>service/</code> Search interface <code>ElasticsearchSearchServiceImpl</code> <code>service/impl/</code> Elasticsearch implementation <code>JpaFallbackSearchServiceImpl</code> <code>service/impl/</code> JPA fallback implementation <code>ArticleSearchRepository</code> <code>search/</code> Elasticsearch article repository <code>ProjectSearchRepository</code> <code>search/</code> Elasticsearch project repository <code>ExperienceSearchRepository</code> <code>search/</code> Elasticsearch experience repository <code>SearchDocumentMapper</code> <code>search/</code> Entity to document mapper <code>SearchIndexEventListener</code> <code>search/</code> Event listener for index updates <code>AdminSearchController</code> <code>controller/</code> REST API endpoints"},{"location":"features/search/#document-classes","title":"Document Classes","text":"Document Fields Indexed <code>ArticleDocument</code> title, content, excerpt, tags <code>ProjectDocument</code> title, description, techStack, tags <code>ExperienceDocument</code> company, role, description"},{"location":"features/search/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>SearchService</code> <code>services/</code> HTTP service for search API <code>SearchInputComponent</code> <code>components/shared/</code> Reusable search input"},{"location":"features/search/#indexed-entities","title":"Indexed Entities","text":""},{"location":"features/search/#articles","title":"Articles","text":"<p>Searchable fields: - <code>title</code> - Article title - <code>content</code> - Full markdown content - <code>excerpt</code> - Article summary - <code>tags</code> - Associated tag names</p>"},{"location":"features/search/#projects","title":"Projects","text":"<p>Searchable fields: - <code>title</code> - Project title - <code>description</code> - Project description - <code>techStack</code> - Technologies used - <code>tags</code> - Associated tag names</p>"},{"location":"features/search/#experiences","title":"Experiences","text":"<p>Searchable fields: - <code>company</code> - Company name - <code>role</code> - Job title - <code>description</code> - Experience description</p>"},{"location":"features/search/#configuration","title":"Configuration","text":""},{"location":"features/search/#application-properties","title":"Application Properties","text":"<pre><code># Elasticsearch connection\nelasticsearch:\n  enabled: ${ELASTICSEARCH_ENABLED:false}\n  host: ${ELASTICSEARCH_HOST:localhost}\n  port: ${ELASTICSEARCH_PORT:9200}\n  username: ${ELASTICSEARCH_USERNAME:elastic}\n  password: ${ELASTICSEARCH_PASSWORD:}\n\n# Batch reindex job\nbatch:\n  search-reindex:\n    cron: \"0 0 3 * * SUN\"  # Every Sunday at 3:00 AM\n</code></pre>"},{"location":"features/search/#docker-compose","title":"Docker Compose","text":"<pre><code>services:\n  elasticsearch:\n    image: docker.elastic.co/elasticsearch/elasticsearch:8.12.0\n    container_name: portfolio-elasticsearch\n    environment:\n      - discovery.type=single-node\n      - xpack.security.enabled=false\n      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m\"\n    ports:\n      - \"9200:9200\"\n    volumes:\n      - elasticsearch_data:/usr/share/elasticsearch/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"curl -s http://localhost:9200/_cluster/health | grep -q 'green\\\\|yellow'\"]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n</code></pre>"},{"location":"features/search/#fallback-strategy","title":"Fallback Strategy","text":"<p>When Elasticsearch is unavailable or disabled:</p> <ol> <li><code>JpaFallbackSearchServiceImpl</code> is activated</li> <li>Searches use LIKE queries on database</li> <li>Less efficient but functional</li> <li>Logs warning when falling back</li> </ol>"},{"location":"features/search/#index-management","title":"Index Management","text":""},{"location":"features/search/#automatic-updates","title":"Automatic Updates","text":"<p>Entity changes trigger automatic index updates: - CREATE: Document added to index - UPDATE: Document updated in index - DELETE: Document removed from index</p>"},{"location":"features/search/#manual-reindex","title":"Manual Reindex","text":"<p>Admin can trigger full reindex via API:</p> <pre><code>POST /api/admin/search/reindex\n</code></pre>"},{"location":"features/search/#scheduled-reindex","title":"Scheduled Reindex","text":"<p>Weekly job rebuilds all indices every Sunday at 3:00 AM.</p>"},{"location":"features/search/#related-documentation","title":"Related Documentation","text":"<ul> <li>Search API - REST API endpoints</li> <li>GraphQL API - GraphQL search queries</li> <li>Batch Processing - Scheduled reindex job</li> </ul>"},{"location":"features/seo/","title":"SEO (Search Engine Optimization)","text":"<p>Dynamic meta tags, OpenGraph, Twitter Cards, and JSON-LD structured data.</p>"},{"location":"features/seo/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Meta Tags</li> <li>Structured Data</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/seo/#overview","title":"Overview","text":"<p>The SEO system provides:</p> <ul> <li>Dynamic meta tags - Page-specific titles and descriptions</li> <li>OpenGraph protocol - Social media sharing optimization</li> <li>Twitter Cards - Enhanced Twitter previews</li> <li>JSON-LD schemas - Structured data for search engines</li> <li>Canonical URLs - Proper URL management</li> </ul> <p>Key characteristics: - Angular Meta and Title services - Centralized SeoService - Per-route configuration - Article-specific schemas</p>"},{"location":"features/seo/#architecture","title":"Architecture","text":""},{"location":"features/seo/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>SeoService</code> <code>services/</code> Meta tag and schema management <code>HomeComponent</code> <code>components/home/</code> Home page SEO <code>ArticleDetailComponent</code> <code>pages/blog/</code> Article SEO <code>ProjectDetailComponent</code> <code>components/project-detail/</code> Project SEO"},{"location":"features/seo/#meta-tag-types","title":"Meta Tag Types","text":"Type Protocol Purpose Standard HTML Basic meta description, robots OpenGraph og: Facebook, LinkedIn sharing Twitter twitter: Twitter card previews JSON-LD Schema.org Structured data"},{"location":"features/seo/#meta-tags","title":"Meta Tags","text":""},{"location":"features/seo/#standard-meta-tags","title":"Standard Meta Tags","text":"<pre><code>&lt;title&gt;Page Title | Emmanuel Gabe&lt;/title&gt;\n&lt;meta name=\"description\" content=\"Page description for search results\"&gt;\n&lt;meta name=\"robots\" content=\"index, follow\"&gt;\n&lt;link rel=\"canonical\" href=\"https://emmanuelgabe.com/page\"&gt;\n</code></pre>"},{"location":"features/seo/#opengraph-tags","title":"OpenGraph Tags","text":"<pre><code>&lt;meta property=\"og:title\" content=\"Page Title\"&gt;\n&lt;meta property=\"og:description\" content=\"Page description\"&gt;\n&lt;meta property=\"og:image\" content=\"https://emmanuelgabe.com/assets/og-default.jpg\"&gt;\n&lt;meta property=\"og:url\" content=\"https://emmanuelgabe.com/page\"&gt;\n&lt;meta property=\"og:type\" content=\"website\"&gt;\n&lt;meta property=\"og:site_name\" content=\"Emmanuel Gabe\"&gt;\n&lt;meta property=\"og:locale\" content=\"fr_FR\"&gt;\n</code></pre>"},{"location":"features/seo/#twitter-card-tags","title":"Twitter Card Tags","text":"<pre><code>&lt;meta name=\"twitter:card\" content=\"summary_large_image\"&gt;\n&lt;meta name=\"twitter:title\" content=\"Page Title\"&gt;\n&lt;meta name=\"twitter:description\" content=\"Page description\"&gt;\n&lt;meta name=\"twitter:image\" content=\"https://emmanuelgabe.com/assets/og-default.jpg\"&gt;\n</code></pre>"},{"location":"features/seo/#article-specific-tags","title":"Article-Specific Tags","text":"<pre><code>&lt;meta property=\"og:type\" content=\"article\"&gt;\n&lt;meta property=\"article:published_time\" content=\"2024-01-15T10:00:00Z\"&gt;\n&lt;meta property=\"article:modified_time\" content=\"2024-01-20T14:30:00Z\"&gt;\n&lt;meta property=\"article:author\" content=\"Emmanuel Gabe\"&gt;\n</code></pre>"},{"location":"features/seo/#structured-data","title":"Structured Data","text":""},{"location":"features/seo/#website-schema-home-page","title":"WebSite Schema (Home Page)","text":"<pre><code>{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"WebSite\",\n  \"@id\": \"https://emmanuelgabe.com/#website\",\n  \"url\": \"https://emmanuelgabe.com\",\n  \"name\": \"Emmanuel Gabe\",\n  \"description\": \"Portfolio and blog\",\n  \"inLanguage\": \"fr-FR\"\n}\n</code></pre>"},{"location":"features/seo/#person-schema-home-page","title":"Person Schema (Home Page)","text":"<pre><code>{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"Person\",\n  \"@id\": \"https://emmanuelgabe.com/#person\",\n  \"name\": \"Emmanuel Gabe\",\n  \"jobTitle\": \"Full-Stack Developer\",\n  \"description\": \"Developer description\",\n  \"email\": \"mailto:contact@emmanuelgabe.com\",\n  \"url\": \"https://emmanuelgabe.com\",\n  \"sameAs\": [\n    \"https://github.com/username\",\n    \"https://linkedin.com/in/username\"\n  ]\n}\n</code></pre>"},{"location":"features/seo/#article-schema","title":"Article Schema","text":"<pre><code>{\n  \"@context\": \"https://schema.org\",\n  \"@type\": \"Article\",\n  \"headline\": \"Article Title\",\n  \"description\": \"Article excerpt\",\n  \"image\": \"https://emmanuelgabe.com/uploads/article-image.webp\",\n  \"url\": \"https://emmanuelgabe.com/blog/article-slug\",\n  \"datePublished\": \"2024-01-15T10:00:00Z\",\n  \"dateModified\": \"2024-01-20T14:30:00Z\",\n  \"author\": {\n    \"@type\": \"Person\",\n    \"name\": \"Emmanuel Gabe\",\n    \"url\": \"https://emmanuelgabe.com\"\n  },\n  \"publisher\": {\n    \"@type\": \"Person\",\n    \"name\": \"Emmanuel Gabe\",\n    \"url\": \"https://emmanuelgabe.com\"\n  },\n  \"mainEntityOfPage\": {\n    \"@type\": \"WebPage\",\n    \"@id\": \"https://emmanuelgabe.com/blog/article-slug\"\n  },\n  \"keywords\": \"angular, spring boot, tutorial\"\n}\n</code></pre>"},{"location":"features/seo/#configuration","title":"Configuration","text":""},{"location":"features/seo/#seoservice-usage","title":"SeoService Usage","text":"<pre><code>@Injectable({ providedIn: 'root' })\nexport class SeoService {\n  updateMetaTags(config: SeoConfig): void {\n    const fullTitle = `${config.title} | ${this.siteName}`;\n    this.titleService.setTitle(fullTitle);\n    this.meta.updateTag({ name: 'description', content: config.description });\n    // OpenGraph and Twitter tags...\n    this.updateCanonicalUrl(config.url);\n  }\n\n  setJsonLd(schema: object): void {\n    const script = this.document.createElement('script');\n    script.type = 'application/ld+json';\n    script.text = JSON.stringify(schema);\n    this.document.head.appendChild(script);\n  }\n}\n</code></pre>"},{"location":"features/seo/#page-component-usage","title":"Page Component Usage","text":"<pre><code>@Component({...})\nexport class ArticleDetailComponent {\n  private readonly seoService = inject(SeoService);\n\n  ngOnInit(): void {\n    this.loadArticle();\n  }\n\n  private loadArticle(): void {\n    this.articleService.getBySlug(this.slug).subscribe(article =&gt; {\n      this.seoService.updateMetaTags({\n        title: article.title,\n        description: article.excerpt,\n        image: article.coverImageUrl,\n        url: `/blog/${article.slug}`,\n        type: 'article',\n        article: {\n          publishedTime: article.publishedAt,\n          modifiedTime: article.updatedAt,\n          author: 'Emmanuel Gabe',\n          tags: article.tags.map(t =&gt; t.name)\n        }\n      });\n\n      this.seoService.setArticleSchema({\n        title: article.title,\n        description: article.excerpt,\n        image: article.coverImageUrl,\n        url: `/blog/${article.slug}`,\n        publishedDate: article.publishedAt,\n        modifiedDate: article.updatedAt,\n        authorName: 'Emmanuel Gabe',\n        tags: article.tags.map(t =&gt; t.name)\n      });\n    });\n  }\n}\n</code></pre>"},{"location":"features/seo/#environment-configuration","title":"Environment Configuration","text":"<pre><code>// environment.ts\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:8080',\n  baseUrl: 'https://emmanuelgabe.com'\n};\n</code></pre>"},{"location":"features/seo/#noindex-for-admin-pages","title":"noindex for Admin Pages","text":"<p>Admin pages excluded from indexing:</p> <pre><code>this.seoService.updateMetaTags({\n  title: 'Admin Dashboard',\n  description: 'Admin area',\n  noIndex: true\n});\n</code></pre> <p>Generates: <pre><code>&lt;meta name=\"robots\" content=\"noindex, nofollow\"&gt;\n</code></pre></p>"},{"location":"features/seo/#related-documentation","title":"Related Documentation","text":"<ul> <li>Sitemap - Dynamic sitemap generation</li> <li>Frontend Architecture - Angular setup</li> </ul>"},{"location":"features/site-configuration/","title":"Site Configuration Feature","text":"<p>Centralized configuration management for all site-wide settings including personal identity, hero section content, SEO metadata, and social links.</p>"},{"location":"features/site-configuration/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Architecture</li> <li>Database Schema</li> <li>Configuration Fields</li> <li>Profile Image Management</li> <li>Related Documentation</li> </ul>"},{"location":"features/site-configuration/#overview","title":"Overview","text":"<p>The Site Configuration feature provides a single point of management for all configurable site content:</p> <ul> <li>Personal Identity: Full name and contact email</li> <li>Hero Section: Landing page title and description</li> <li>SEO Metadata: Browser title and meta description for search engines</li> <li>Social Links: GitHub and LinkedIn profile URLs</li> <li>Profile Image: Photo displayed in hero section with WebP optimization</li> </ul> <p>The configuration follows a singleton pattern with a single row (id=1) in the database.</p>"},{"location":"features/site-configuration/#architecture","title":"Architecture","text":""},{"location":"features/site-configuration/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>SiteConfiguration</code> <code>entity/</code> JPA entity with validation <code>SiteConfigurationRepository</code> <code>repository/</code> Data access layer <code>SiteConfigurationService</code> <code>service/</code> Business logic interface <code>SiteConfigurationServiceImpl</code> <code>service/impl/</code> Service implementation <code>SiteConfigurationController</code> <code>controller/</code> Public REST endpoint <code>AdminSiteConfigurationController</code> <code>controller/</code> Admin REST endpoints <code>SiteConfigurationMapper</code> <code>mapper/</code> MapStruct entity-DTO mapping <code>SiteConfigurationResponse</code> <code>dto/</code> Response DTO <code>UpdateSiteConfigurationRequest</code> <code>dto/</code> Update request DTO"},{"location":"features/site-configuration/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>SiteConfigurationService</code> <code>services/</code> HTTP client for API calls <code>SiteConfigurationResponse</code> <code>models/</code> TypeScript interface <code>UpdateSiteConfigurationRequest</code> <code>models/</code> TypeScript interface <code>HomeComponent</code> <code>components/home/</code> Displays hero section Admin form component <code>pages/admin/</code> Configuration edit form"},{"location":"features/site-configuration/#data-flow","title":"Data Flow","text":"<pre><code>Frontend                    Backend\n   |                           |\n   |-- GET /api/configuration -|-&gt; SiteConfigurationController\n   |                           |        |\n   |&lt;-- SiteConfigurationResponse       v\n   |                           |   SiteConfigurationService\n   |                           |        |\n   |                           |        v\n   |                           |   SiteConfigurationRepository\n   |                           |        |\n   |                           |        v\n   |                           |   PostgreSQL (site_configuration)\n</code></pre>"},{"location":"features/site-configuration/#database-schema","title":"Database Schema","text":""},{"location":"features/site-configuration/#site_configuration-table","title":"site_configuration Table","text":"<pre><code>CREATE TABLE site_configuration (\n    id BIGSERIAL PRIMARY KEY,\n    full_name VARCHAR(100) NOT NULL,\n    email VARCHAR(255) NOT NULL,\n    hero_title VARCHAR(200) NOT NULL,\n    hero_description TEXT NOT NULL,\n    site_title VARCHAR(100) NOT NULL,\n    seo_description VARCHAR(300) NOT NULL,\n    profile_image_url VARCHAR(500),\n    github_url VARCHAR(500) NOT NULL,\n    linkedin_url VARCHAR(500) NOT NULL,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    CONSTRAINT chk_site_configuration_single_row CHECK (id = 1)\n);\n</code></pre>"},{"location":"features/site-configuration/#singleton-constraint","title":"Singleton Constraint","text":"<p>The <code>CHECK (id = 1)</code> constraint ensures only one configuration row exists. This guarantees: - Consistent site-wide settings - No orphan configurations - Simple retrieval without ID parameter</p>"},{"location":"features/site-configuration/#migration","title":"Migration","text":"<p>The schema is created by Flyway migration <code>V19__transform_hero_to_site_configuration.sql</code> which: 1. Creates the <code>site_configuration</code> table 2. Migrates data from the legacy <code>hero_section</code> table 3. Drops the old <code>hero_section</code> table</p>"},{"location":"features/site-configuration/#configuration-fields","title":"Configuration Fields","text":""},{"location":"features/site-configuration/#personal-identity","title":"Personal Identity","text":"Field Column Constraints Usage Full Name <code>full_name</code> 2-100 chars, required Displayed in hero and contact Email <code>email</code> Valid email, max 255 chars Contact information"},{"location":"features/site-configuration/#hero-section","title":"Hero Section","text":"Field Column Constraints Usage Hero Title <code>hero_title</code> 3-200 chars, required Main heading on landing page Hero Description <code>hero_description</code> 10-1000 chars, required Subheading text"},{"location":"features/site-configuration/#seo-metadata","title":"SEO Metadata","text":"Field Column Constraints Usage Site Title <code>site_title</code> 3-100 chars, required Browser tab title SEO Description <code>seo_description</code> 10-300 chars, required Meta description tag"},{"location":"features/site-configuration/#social-links","title":"Social Links","text":"Field Column Constraints Usage GitHub URL <code>github_url</code> Valid URL, max 500 chars GitHub profile link LinkedIn URL <code>linkedin_url</code> Valid URL, max 500 chars LinkedIn profile link"},{"location":"features/site-configuration/#profile-image-management","title":"Profile Image Management","text":""},{"location":"features/site-configuration/#upload-process","title":"Upload Process","text":"<ol> <li>Admin uploads image via multipart form</li> <li>ImageService validates file type (JPEG, PNG, GIF, WebP)</li> <li>Image is converted to WebP format for optimization</li> <li>File is saved to <code>/uploads/profile/profile.webp</code></li> <li>Previous image is automatically replaced</li> <li><code>profile_image_url</code> field is updated</li> </ol>"},{"location":"features/site-configuration/#storage-location","title":"Storage Location","text":"<pre><code>uploads/\n  profile/\n    profile.webp    # Current profile image\n</code></pre>"},{"location":"features/site-configuration/#image-constraints","title":"Image Constraints","text":"Constraint Value Max file size 5 MB Allowed formats JPEG, PNG, GIF, WebP Output format WebP Fixed filename <code>profile.webp</code>"},{"location":"features/site-configuration/#deletion","title":"Deletion","text":"<p>When the profile image is deleted: 1. File is removed from disk 2. <code>profile_image_url</code> is set to <code>null</code> 3. Frontend displays default placeholder</p>"},{"location":"features/site-configuration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Site Configuration API - REST endpoints reference</li> <li>Image Processing - WebP conversion details</li> <li>File Storage - Upload directory structure</li> </ul>"},{"location":"features/sitemap/","title":"Sitemap Generation","text":"<p>Dynamic sitemap.xml generation with scheduled updates.</p>"},{"location":"features/sitemap/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>URL Structure</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/sitemap/#overview","title":"Overview","text":"<p>The sitemap system provides:</p> <ul> <li>Dynamic generation - Includes all projects and articles</li> <li>Scheduled updates - Daily batch job regeneration</li> <li>Priority weighting - Higher priority for important pages</li> <li>Last modification dates - Accurate lastmod for content</li> </ul> <p>Key characteristics: - XML Sitemap Protocol 0.9 - Batch job scheduled daily at 4:00 AM - Includes static pages, projects, and published articles - Excludes admin and draft content</p>"},{"location":"features/sitemap/#architecture","title":"Architecture","text":""},{"location":"features/sitemap/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>SitemapService</code> <code>service/</code> Sitemap interface <code>SitemapServiceImpl</code> <code>service/impl/</code> Generation implementation <code>SitemapGenerationJobConfig</code> <code>batch/</code> Scheduled batch job"},{"location":"features/sitemap/#generation-flow","title":"Generation Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  SitemapService.generateSitemap()            \u2502\n\u2502  1. Add static pages (home, blog, contact)                  \u2502\n\u2502  2. Fetch all projects from database                        \u2502\n\u2502  3. Fetch published articles (non-draft)                    \u2502\n\u2502  4. Generate XML with lastmod, priority, changefreq         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  SitemapService.writeSitemapToFile()         \u2502\n\u2502  Write generated XML to configured output path              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/sitemap/#url-structure","title":"URL Structure","text":""},{"location":"features/sitemap/#static-pages","title":"Static Pages","text":"URL Priority Change Frequency <code>/</code> 1.0 weekly <code>/blog</code> 0.8 weekly <code>/contact</code> 0.5 monthly"},{"location":"features/sitemap/#dynamic-pages","title":"Dynamic Pages","text":"URL Pattern Priority Change Frequency lastmod <code>/projects/{id}</code> 0.6 monthly updatedAt <code>/blog/{slug}</code> 0.7 monthly updatedAt or publishedAt"},{"location":"features/sitemap/#xml-output-format","title":"XML Output Format","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"&gt;\n  &lt;url&gt;\n    &lt;loc&gt;https://emmanuelgabe.com&lt;/loc&gt;\n    &lt;changefreq&gt;weekly&lt;/changefreq&gt;\n    &lt;priority&gt;1.0&lt;/priority&gt;\n  &lt;/url&gt;\n  &lt;url&gt;\n    &lt;loc&gt;https://emmanuelgabe.com/blog&lt;/loc&gt;\n    &lt;changefreq&gt;weekly&lt;/changefreq&gt;\n    &lt;priority&gt;0.8&lt;/priority&gt;\n  &lt;/url&gt;\n  &lt;url&gt;\n    &lt;loc&gt;https://emmanuelgabe.com/projects/1&lt;/loc&gt;\n    &lt;lastmod&gt;2024-01-15&lt;/lastmod&gt;\n    &lt;changefreq&gt;monthly&lt;/changefreq&gt;\n    &lt;priority&gt;0.6&lt;/priority&gt;\n  &lt;/url&gt;\n  &lt;url&gt;\n    &lt;loc&gt;https://emmanuelgabe.com/blog/my-article&lt;/loc&gt;\n    &lt;lastmod&gt;2024-01-20&lt;/lastmod&gt;\n    &lt;changefreq&gt;monthly&lt;/changefreq&gt;\n    &lt;priority&gt;0.7&lt;/priority&gt;\n  &lt;/url&gt;\n&lt;/urlset&gt;\n</code></pre>"},{"location":"features/sitemap/#configuration","title":"Configuration","text":""},{"location":"features/sitemap/#application-properties","title":"Application Properties","text":"<pre><code>sitemap:\n  base-url: ${SITEMAP_BASE_URL:https://emmanuelgabe.com}\n  output-path: ${SITEMAP_OUTPUT_PATH:sitemap.xml}\n\nbatch:\n  sitemap:\n    cron: \"0 0 4 * * ?\"  # Daily at 4:00 AM\n</code></pre>"},{"location":"features/sitemap/#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>SITEMAP_BASE_URL</code> <code>https://emmanuelgabe.com</code> Base URL for all sitemap entries <code>SITEMAP_OUTPUT_PATH</code> <code>sitemap.xml</code> Output file path"},{"location":"features/sitemap/#nginxreverse-proxy","title":"Nginx/Reverse Proxy","text":"<p>Serve sitemap from generated location:</p> <pre><code>location = /sitemap.xml {\n    alias /app/sitemap.xml;\n    add_header Content-Type application/xml;\n}\n</code></pre>"},{"location":"features/sitemap/#exclusions","title":"Exclusions","text":"<p>The following are NOT included in sitemap:</p> <ul> <li>Admin pages (<code>/admin/*</code>)</li> <li>Draft articles (<code>draft = true</code>)</li> <li>Login page</li> <li>Error pages</li> <li>API endpoints</li> </ul>"},{"location":"features/sitemap/#related-documentation","title":"Related Documentation","text":"<ul> <li>Batch Processing - Scheduled generation job</li> <li>SEO - Meta tags and structured data</li> <li>Blog Articles - Article publishing workflow</li> </ul>"},{"location":"features/visitor-tracking/","title":"Visitor Tracking","text":"<p>Real-time visitor tracking using Redis sessions and Server-Sent Events (SSE).</p>"},{"location":"features/visitor-tracking/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Session Management</li> <li>Real-time Updates</li> <li>Configuration</li> <li>Related Documentation</li> </ol>"},{"location":"features/visitor-tracking/#overview","title":"Overview","text":"<p>The visitor tracking system provides real-time analytics:</p> <ul> <li>Active visitors - Current users browsing the site</li> <li>Daily unique visitors - Aggregated by day for reporting</li> <li>Real-time updates - SSE stream for admin dashboard</li> <li>Historical data - 7-day chart with daily breakdowns</li> </ul> <p>Key characteristics: - Redis-based session storage with automatic TTL - Heartbeat mechanism (30-second intervals) - SSE broadcasting for live dashboard updates - No cookies or PII stored</p>"},{"location":"features/visitor-tracking/#architecture","title":"Architecture","text":""},{"location":"features/visitor-tracking/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>VisitorTrackingService</code> <code>service/</code> Service interface <code>VisitorTrackingServiceImpl</code> <code>service/impl/</code> Redis implementation <code>VisitorController</code> <code>controller/</code> Public heartbeat endpoint <code>AdminActiveUsersController</code> <code>controller/</code> Admin SSE and stats <code>DailyStatsRepository</code> <code>repository/</code> Historical data access"},{"location":"features/visitor-tracking/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>VisitorTrackerService</code> <code>services/</code> Heartbeat sender <code>ActiveUsersService</code> <code>services/</code> SSE consumer <code>VisitorsChartComponent</code> <code>components/shared/</code> Chart.js visualization"},{"location":"features/visitor-tracking/#data-flow","title":"Data Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Public Frontend                          \u2502\n\u2502  VisitorTrackerService sends heartbeat every 30 seconds     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     VisitorController                        \u2502\n\u2502  POST /api/visitors/heartbeat                               \u2502\n\u2502  Header: X-Session-Id (UUID from sessionStorage)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  VisitorTrackingService                      \u2502\n\u2502  1. Set Redis key with TTL (60s) for active tracking        \u2502\n\u2502  2. Add to daily unique visitors set (7-day TTL)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          Redis                               \u2502\n\u2502  visitor:{sessionId} \u2192 timestamp (TTL: 60s)                 \u2502\n\u2502  visitors:daily:{YYYY-MM-DD} \u2192 Set of sessionIds (TTL: 7d) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/visitor-tracking/#session-management","title":"Session Management","text":""},{"location":"features/visitor-tracking/#session-id-generation","title":"Session ID Generation","text":"<p>Frontend generates a UUID stored in sessionStorage:</p> <pre><code>private getOrCreateSessionId(): string {\n  let sessionId = sessionStorage.getItem(this.SESSION_KEY);\n  if (!sessionId) {\n    sessionId = crypto.randomUUID();\n    sessionStorage.setItem(this.SESSION_KEY, sessionId);\n  }\n  return sessionId;\n}\n</code></pre> <p>Session ID characteristics: - Generated client-side using <code>crypto.randomUUID()</code> - Persists across page refreshes (sessionStorage) - Cleared on browser tab close - Not linked to any user identity</p>"},{"location":"features/visitor-tracking/#redis-key-structure","title":"Redis Key Structure","text":"Key Pattern Value TTL Purpose <code>visitor:{sessionId}</code> timestamp 60s Active session marker <code>visitors:daily:{YYYY-MM-DD}</code> Set of sessionIds 7 days Daily unique tracking"},{"location":"features/visitor-tracking/#heartbeat-flow","title":"Heartbeat Flow","text":"<ol> <li>Frontend starts tracking on page load</li> <li>Immediate heartbeat sent</li> <li>Interval heartbeat every 30 seconds</li> <li>Backend updates Redis key TTL</li> <li>Key expires after 60s without heartbeat</li> </ol>"},{"location":"features/visitor-tracking/#real-time-updates","title":"Real-time Updates","text":""},{"location":"features/visitor-tracking/#server-sent-events-sse","title":"Server-Sent Events (SSE)","text":"<p>Admin dashboard receives live updates via SSE:</p> <pre><code>GET /api/admin/visitors/stream\nContent-Type: text/event-stream\nAuthorization: Bearer {token}\n</code></pre> <p>Event Format: <pre><code>event: active-users\ndata: {\"count\": 42, \"timestamp\": \"2024-01-15T10:30:00Z\"}\n</code></pre></p>"},{"location":"features/visitor-tracking/#sse-implementation","title":"SSE Implementation","text":"<p>Backend maintains list of active emitters:</p> <pre><code>private final CopyOnWriteArrayList&lt;SseEmitter&gt; emitters = new CopyOnWriteArrayList&lt;&gt;();\n\n@Scheduled(fixedRate = 30000)\npublic void broadcastActiveUsers() {\n    if (emitters.isEmpty()) return;\n\n    ActiveUsersResponse response = new ActiveUsersResponse(\n        visitorTrackingService.getActiveVisitorsCount(),\n        Instant.now()\n    );\n\n    for (SseEmitter emitter : emitters) {\n        emitter.send(SseEmitter.event()\n            .name(\"active-users\")\n            .data(response, MediaType.APPLICATION_JSON));\n    }\n}\n</code></pre>"},{"location":"features/visitor-tracking/#frontend-sse-consumption","title":"Frontend SSE Consumption","text":"<p>Uses Fetch API with streaming for authenticated SSE:</p> <pre><code>private async connectWithFetch(token: string): Promise&lt;void&gt; {\n  const response = await fetch(`${this.apiUrl}/api/admin/visitors/stream`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      Accept: 'text/event-stream',\n    },\n  });\n\n  const reader = response.body.getReader();\n  // ... process stream\n}\n</code></pre> <p>Features: - Automatic reconnection (5 attempts) - BehaviorSubject for reactive updates - NgZone integration for change detection</p>"},{"location":"features/visitor-tracking/#configuration","title":"Configuration","text":""},{"location":"features/visitor-tracking/#application-properties","title":"Application Properties","text":"<pre><code># Redis connection (required for visitor tracking)\nspring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n</code></pre>"},{"location":"features/visitor-tracking/#constants","title":"Constants","text":"Constant Value Description Heartbeat interval 30 seconds Frontend sends heartbeat Session TTL 60 seconds Redis key expiration Daily set TTL 7 days Historical data retention SSE broadcast rate 30 seconds Admin dashboard updates Max reconnect attempts 5 SSE client reconnection"},{"location":"features/visitor-tracking/#docker-compose-redis","title":"Docker Compose (Redis)","text":"<pre><code>services:\n  redis:\n    image: redis:7-alpine\n    container_name: portfolio-redis\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis_data:/data\n    command: redis-server --appendonly yes\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n</code></pre>"},{"location":"features/visitor-tracking/#related-documentation","title":"Related Documentation","text":"<ul> <li>Visitors API - REST API endpoints</li> <li>Batch Processing - Stats aggregation job</li> <li>Rate Limiting - Redis-backed rate limiting</li> </ul>"},{"location":"features/web-vitals/","title":"Web Vitals Tracking","text":"<p>Core Web Vitals measurement for frontend performance monitoring.</p>"},{"location":"features/web-vitals/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Metrics Collected</li> <li>Implementation</li> <li>Configuration</li> <li>GDPR Compliance</li> </ol>"},{"location":"features/web-vitals/#1-overview","title":"1. Overview","text":"<p>Web Vitals tracking measures Core Web Vitals metrics to monitor frontend performance and user experience.</p> <p>Key Capabilities: - Largest Contentful Paint (LCP) measurement - First Input Delay (FID) measurement - Cumulative Layout Shift (CLS) measurement - First Contentful Paint (FCP) tracking - Time to First Byte (TTFB) tracking - GDPR-compliant feature flag</p> <p>Feature Flag: <code>WEB_VITALS_ENABLED</code> controls tracking activation.</p>"},{"location":"features/web-vitals/#2-metrics-collected","title":"2. Metrics Collected","text":""},{"location":"features/web-vitals/#21-core-web-vitals","title":"2.1 Core Web Vitals","text":"Metric Description Good Needs Improvement Poor LCP Largest Contentful Paint &lt; 2.5s 2.5s - 4.0s &gt; 4.0s FID First Input Delay &lt; 100ms 100ms - 300ms &gt; 300ms CLS Cumulative Layout Shift &lt; 0.1 0.1 - 0.25 &gt; 0.25"},{"location":"features/web-vitals/#22-additional-metrics","title":"2.2 Additional Metrics","text":"Metric Description Purpose FCP First Contentful Paint Time to first visible content TTFB Time to First Byte Server response time INP Interaction to Next Paint Responsiveness (replaces FID)"},{"location":"features/web-vitals/#23-metric-data-structure","title":"2.3 Metric Data Structure","text":"<pre><code>interface WebVitalMetric {\n  name: 'LCP' | 'FID' | 'CLS' | 'FCP' | 'TTFB' | 'INP';\n  value: number;\n  rating: 'good' | 'needs-improvement' | 'poor';\n  delta: number;\n  id: string;\n  navigationType: 'navigate' | 'reload' | 'back-forward';\n}\n</code></pre>"},{"location":"features/web-vitals/#3-implementation","title":"3. Implementation","text":""},{"location":"features/web-vitals/#31-service-architecture","title":"3.1 Service Architecture","text":"<p>WebVitalsService (<code>src/app/services/web-vitals.service.ts</code>): - Initializes web-vitals library - Collects metrics on page load - Sends data to analytics backend (optional) - Provides observable for dashboard</p>"},{"location":"features/web-vitals/#32-dependencies","title":"3.2 Dependencies","text":"<pre><code>{\n  \"dependencies\": {\n    \"web-vitals\": \"^3.x\"\n  }\n}\n</code></pre>"},{"location":"features/web-vitals/#33-initialization","title":"3.3 Initialization","text":"<p>Service initializes on app bootstrap: 1. Check feature flag (<code>WEB_VITALS_ENABLED</code>) 2. Register metric callbacks 3. Collect metrics on page load 4. Report to analytics (if configured)</p>"},{"location":"features/web-vitals/#34-metric-collection","title":"3.4 Metric Collection","text":"<pre><code>// Service collects metrics via web-vitals library\n// Metrics are collected automatically on:\n// - Page load (LCP, FCP, TTFB)\n// - User interaction (FID, INP)\n// - Page lifecycle (CLS)\n</code></pre>"},{"location":"features/web-vitals/#4-configuration","title":"4. Configuration","text":""},{"location":"features/web-vitals/#41-environment-configuration","title":"4.1 Environment Configuration","text":"<pre><code>// environment.ts\nexport const environment = {\n  webVitalsEnabled: true,\n  webVitalsEndpoint: '/api/analytics/vitals'\n};\n</code></pre>"},{"location":"features/web-vitals/#42-feature-flag","title":"4.2 Feature Flag","text":"<p>Enable tracking: <pre><code>WEB_VITALS_ENABLED: true\n</code></pre></p> <p>Disable tracking (GDPR compliance): <pre><code>WEB_VITALS_ENABLED: false\n</code></pre></p>"},{"location":"features/web-vitals/#43-analytics-integration","title":"4.3 Analytics Integration","text":"<p>When enabled, metrics can be sent to: - Sentry (performance monitoring) - Custom analytics endpoint - Kafka analytics topic - Console (development only)</p>"},{"location":"features/web-vitals/#5-gdpr-compliance","title":"5. GDPR Compliance","text":""},{"location":"features/web-vitals/#51-privacy-considerations","title":"5.1 Privacy Considerations","text":"<p>Web Vitals tracking is privacy-friendly by default: - No personal data collected - No cookies required - No user identification - Metrics are aggregated</p>"},{"location":"features/web-vitals/#52-feature-flag-control","title":"5.2 Feature Flag Control","text":"<p>Users can opt-out via feature flag:</p> <pre><code>// Check feature flag before tracking\nif (environment.webVitalsEnabled) {\n  this.webVitalsService.initialize();\n}\n</code></pre>"},{"location":"features/web-vitals/#53-data-collected","title":"5.3 Data Collected","text":"<p>Collected: - Metric values (numeric) - Page URL (anonymized) - Navigation type - Timestamp</p> <p>Not Collected: - User IP address - User ID - Cookies - Session data</p>"},{"location":"features/web-vitals/#6-usage","title":"6. Usage","text":""},{"location":"features/web-vitals/#61-dashboard-integration","title":"6.1 Dashboard Integration","text":"<p>Admin dashboard can display: - Current page LCP/FID/CLS - Historical trends - Performance score</p>"},{"location":"features/web-vitals/#62-accessing-metrics","title":"6.2 Accessing Metrics","text":"<pre><code>// Subscribe to metrics stream\nthis.webVitalsService.metrics$.subscribe(metric =&gt; {\n  console.log(`${metric.name}: ${metric.value} (${metric.rating})`);\n});\n</code></pre>"},{"location":"features/web-vitals/#63-manual-reporting","title":"6.3 Manual Reporting","text":"<pre><code>// Report to backend\nthis.webVitalsService.reportToAnalytics(metric);\n</code></pre>"},{"location":"features/web-vitals/#related-documentation","title":"Related Documentation","text":"<ul> <li>Features: SEO - SEO optimization</li> <li>Features: PWA - Progressive Web App features</li> <li>Architecture: Frontend - Angular architecture</li> <li>Operations: Observability - Monitoring overview</li> </ul>"},{"location":"operations/","title":"Operations Documentation","text":"<p>Documentation for monitoring, health checks, and operational tasks.</p>"},{"location":"operations/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Health Endpoints</li> <li>Observability Stack</li> <li>Operational Tasks</li> </ol>"},{"location":"operations/#1-overview","title":"1. Overview","text":"<p>This section documents operational aspects of the Portfolio application including health monitoring, observability, and routine maintenance tasks.</p> <p>Components: - Spring Boot Actuator for health endpoints - Grafana dashboards for visualization - Prometheus for metrics collection - Loki for log aggregation - Sentry for error tracking</p>"},{"location":"operations/#contents","title":"Contents","text":"Document Description Health Checks Application health endpoints, monitoring configuration Observability Monitoring stack (Grafana, Prometheus, Loki), dashboards, alerting"},{"location":"operations/#2-health-endpoints","title":"2. Health Endpoints","text":""},{"location":"operations/#21-available-endpoints","title":"2.1 Available Endpoints","text":"Endpoint Description Auth Required <code>GET /actuator/health</code> Basic health status No <code>GET /actuator/health/liveness</code> Kubernetes liveness probe No <code>GET /actuator/health/readiness</code> Kubernetes readiness probe No <code>GET /api/health/ping</code> Simple ping endpoint No <code>GET /api/health/full</code> Full stack health check No"},{"location":"operations/#22-health-check-response","title":"2.2 Health Check Response","text":"<pre><code>{\n  \"status\": \"UP\",\n  \"components\": {\n    \"db\": { \"status\": \"UP\" },\n    \"redis\": { \"status\": \"UP\" },\n    \"elasticsearch\": { \"status\": \"UP\" },\n    \"rabbitMQ\": { \"status\": \"UP\" }\n  }\n}\n</code></pre>"},{"location":"operations/#23-quick-health-check","title":"2.3 Quick Health Check","text":"<pre><code># Basic health check\ncurl http://localhost:8080/actuator/health\n\n# Full stack health\ncurl http://localhost:8080/api/health/full\n\n# Specific component (liveness)\ncurl http://localhost:8080/actuator/health/liveness\n</code></pre>"},{"location":"operations/#3-observability-stack","title":"3. Observability Stack","text":""},{"location":"operations/#31-components","title":"3.1 Components","text":"Component Port Purpose Prometheus 9090 Metrics collection and alerting Grafana 3001 Dashboards and visualization Loki 3100 Log aggregation Promtail - Log collector Sentry Cloud Error tracking"},{"location":"operations/#32-available-dashboards","title":"3.2 Available Dashboards","text":"Dashboard Purpose Executive Overview SLA uptime, Apdex score, traffic overview Spring Boot Application JVM metrics, HTTP stats, thread pools PostgreSQL Database Connections, queries, cache hit ratio RabbitMQ Queues, messages, consumers Kafka Topics, partitions, consumer lag Circuit Breaker Resilience4j states and metrics Spring Batch Job executions, duration, history Security &amp; Auth Login attempts, rate limiting Logs Explorer Loki log queries"},{"location":"operations/#33-accessing-dashboards","title":"3.3 Accessing Dashboards","text":"<ul> <li>Grafana: http://localhost:3001 (admin/admin)</li> <li>Prometheus: http://localhost:9090</li> <li>Alertmanager: http://localhost:9093</li> </ul>"},{"location":"operations/#4-operational-tasks","title":"4. Operational Tasks","text":""},{"location":"operations/#41-log-analysis","title":"4.1 Log Analysis","text":"<pre><code># View backend logs\ndocker logs portfolio-backend -f\n\n# Search specific logs\ndocker logs portfolio-backend 2&gt;&amp;1 | grep \"[ERROR]\"\n</code></pre>"},{"location":"operations/#42-database-operations","title":"4.2 Database Operations","text":"<pre><code># Connect to database\ndocker exec -it portfolio-db psql -U portfolio -d portfolio\n\n# View active connections\nSELECT count(*) FROM pg_stat_activity WHERE state = 'active';\n</code></pre>"},{"location":"operations/#43-cache-operations","title":"4.3 Cache Operations","text":"<pre><code># Connect to Redis\ndocker exec -it portfolio-redis redis-cli\n\n# View rate limit keys\nKEYS rate_limit:*\n\n# Clear specific cache\nDEL \"cache:siteConfig\"\n</code></pre>"},{"location":"operations/#related-documentation","title":"Related Documentation","text":"<ul> <li>Health Checks - Detailed health endpoint documentation</li> <li>Observability - Full observability stack documentation</li> <li>Deployment - CI/CD and deployment</li> <li>Reference: Environments - URLs and ports by environment</li> <li>Features: Caching - Redis caching implementation</li> </ul>"},{"location":"operations/health-checks/","title":"Health Check Operations Guide","text":""},{"location":"operations/health-checks/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Health Check Endpoints</li> <li>Testing Procedures</li> <li>Docker Health Checks</li> <li>CI/CD Integration</li> </ol>"},{"location":"operations/health-checks/#1-overview","title":"1. Overview","text":"<p>Health check infrastructure verifies system components are operational and can communicate with each other.</p>"},{"location":"operations/health-checks/#11-health-check-layers","title":"1.1 Health Check Layers","text":"<ol> <li>Nginx Layer: Availability checks</li> <li>Frontend Layer: Angular application status</li> <li>Backend Layer: Spring Boot API status</li> <li>Database Layer: PostgreSQL connectivity</li> <li>Messaging Layer: RabbitMQ and Kafka connectivity</li> <li>Cache Layer: Redis connectivity</li> <li>Integration Layer: End-to-end verification</li> </ol>"},{"location":"operations/health-checks/#12-health-check-types","title":"1.2 Health Check Types","text":"Type Purpose Frequency Liveness Service running Every 30 seconds Readiness Service can accept traffic Every 30 seconds Startup Service initialization On container start"},{"location":"operations/health-checks/#2-health-check-endpoints","title":"2. Health Check Endpoints","text":""},{"location":"operations/health-checks/#21-production-endpoints","title":"2.1 Production Endpoints","text":"<p>Base URL: <code>http://localhost:80</code></p> Endpoint Description Expected Status <code>/health</code> Nginx simple check 200 OK <code>/health/full</code> Complete system check 200 OK (JSON) <code>/health/frontend</code> Frontend check 200 OK (JSON) <code>/health/backend</code> Backend check 200 OK (JSON)"},{"location":"operations/health-checks/#22-backend-direct-access","title":"2.2 Backend Direct Access","text":"<p>Base URL: <code>http://localhost:8080</code></p> Endpoint Description <code>/actuator/health</code> Spring Boot Actuator <code>/api/health/ping</code> Simple API ping <code>/api/health/db</code> Database connectivity <code>/api/health/status</code> Complete status (API + DB)"},{"location":"operations/health-checks/#23-monitoring-services-health","title":"2.3 Monitoring Services Health","text":"<p>Actuator Health Endpoints (with detailed components):</p> Endpoint Description Requires Auth <code>/actuator/health/db</code> PostgreSQL database status No <code>/actuator/health/redis</code> Redis cache connectivity No <code>/actuator/health/rabbit</code> RabbitMQ messaging status No <code>/actuator/health/diskSpace</code> Disk space availability No <p>Monitoring Stack URLs (Local Development):</p> Service URL Purpose Grafana http://localhost:3001 Dashboards and visualization Prometheus http://localhost:9090 Metrics collection RabbitMQ Management http://localhost:15672 Message queue UI"},{"location":"operations/health-checks/#24-frontend-direct-access","title":"2.4 Frontend Direct Access","text":"<p>Base URL: <code>http://localhost:4200</code></p> Endpoint Description <code>/health.json</code> Static health file"},{"location":"operations/health-checks/#25-environment-specific-ports","title":"2.5 Environment-Specific Ports","text":"Environment Port Production 80 Staging 3000 Development 8081"},{"location":"operations/health-checks/#3-testing-procedures","title":"3. Testing Procedures","text":""},{"location":"operations/health-checks/#31-command-line-testing","title":"3.1 Command-Line Testing","text":"<pre><code># Basic health check\ncurl http://localhost:8081/health\n\n# Complete health check with formatted output\ncurl -s http://localhost:8081/health/full | jq\n\n# Component-specific checks\ncurl http://localhost:8081/health/frontend\ncurl http://localhost:8081/health/backend\ncurl http://localhost:8080/api/health/db\n</code></pre>"},{"location":"operations/health-checks/#32-automated-script-testing","title":"3.2 Automated Script Testing","text":"<pre><code># Test local environment\n./scripts/test-health.sh local\n\n# Test staging environment\n./scripts/test-health.sh staging\n\n# Test production environment\n./scripts/test-health.sh prod\n</code></pre> <p>Expected Response:</p> <pre><code>{\n  \"status\": \"healthy\",\n  \"checks\": {\n    \"api\": {\n      \"status\": \"ok\",\n      \"message\": \"API is responding\"\n    },\n    \"database\": {\n      \"status\": \"ok\",\n      \"message\": \"Database connection is healthy\",\n      \"type\": \"PostgreSQL\"\n    }\n  },\n  \"timestamp\": 1699012345678\n}\n</code></pre>"},{"location":"operations/health-checks/#4-docker-health-checks","title":"4. Docker Health Checks","text":""},{"location":"operations/health-checks/#41-container-status-verification","title":"4.1 Container Status Verification","text":"<pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml ps\n</code></pre> <p>Expected Output:</p> <pre><code>NAME                       STATUS\nportfolio-frontend-local   Up (healthy)\nportfolio-backend-local    Up (healthy)\nportfolio-db-local         Up (healthy)\nportfolio-nginx-local      Up\n</code></pre>"},{"location":"operations/health-checks/#42-health-check-configuration","title":"4.2 Health Check Configuration","text":"<p>Frontend (Production/Staging): <pre><code>healthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:80/health.json\"]\n  interval: 30s\n  timeout: 10s\n  retries: 5\n  start_period: 90s\n</code></pre></p> <p>Note: Frontend health check is disabled in local development mode (<code>docker-compose.local.yml</code>) because the Angular dev server (<code>ng serve</code>) is too slow to start reliably in CI environments. Backend and database health checks are sufficient for local testing.</p> <p>Backend (Production/Staging): <pre><code>healthcheck:\n  test: [\"CMD\", \"wget\", \"--no-verbose\", \"--tries=1\", \"--spider\", \"http://localhost:8080/actuator/health\"]\n  interval: 30s\n  timeout: 10s\n  retries: 5\n  start_period: 90s\n</code></pre></p> <p>Backend (Development): <pre><code>healthcheck:\n  test: [\"CMD-SHELL\", \"wget --no-verbose --tries=1 --spider http://localhost:8080/actuator/health || exit 1\"]\n  interval: 30s\n  timeout: 10s\n  retries: 5\n  start_period: 90s\n</code></pre></p> <p>Database: <pre><code>healthcheck:\n  test: [\"CMD-SHELL\", \"pg_isready -U postgres_app -d portfolio_local\"]\n  interval: 10s\n  timeout: 5s\n  retries: 5\n  start_period: 40s\n</code></pre></p>"},{"location":"operations/health-checks/#43-health-check-parameters","title":"4.3 Health Check Parameters","text":"Parameter Description Production/Staging Development <code>interval</code> Time between health checks 30 seconds 30 seconds <code>timeout</code> Maximum wait time for response 10 seconds 10 seconds <code>retries</code> Consecutive failures before unhealthy 5 5 <code>start_period</code> Grace period before first check 90 seconds 90 seconds <p>Rationale for extended timings: - Extended <code>start_period</code> (90s) accommodates slower CI/CD runner environments - Increased <code>retries</code> (5) reduces false positives during startup - These values ensure reliable health checks in resource-constrained environments</p>"},{"location":"operations/health-checks/#5-cicd-integration","title":"5. CI/CD Integration","text":""},{"location":"operations/health-checks/#51-github-actions-workflows","title":"5.1 GitHub Actions Workflows","text":"<p>Two separate workflows handle health checks:</p>"},{"location":"operations/health-checks/#511-health-check-ci","title":"5.1.1 Health Check CI","text":"<p>Workflow file: <code>.github/workflows/health-check.yml</code></p> <p>Purpose: Tests local development environment</p> <p>Triggers: - Push to <code>develop</code> branch only - Pull requests to <code>develop</code> branch - Manual trigger via GitHub Actions UI</p> <p>Steps: 1. Build Docker containers with <code>docker-compose.local.yml</code> 2. Start all services 3. Wait for containers to reach healthy state 4. Execute health check script 5. Verify individual endpoints 6. Display logs on failure</p> <p>Note: This workflow is NOT triggered on <code>staging</code> or <code>main</code> branches because it tests the development environment, not production deployments.</p>"},{"location":"operations/health-checks/#512-cicd-pipeline","title":"5.1.2 CI/CD Pipeline","text":"<p>Workflow file: <code>.github/workflows/ci-cd.yml</code></p> <p>Purpose: Build, deploy, and verify staging/production environments</p> <p>Triggers: - Push to <code>staging</code> or <code>main</code> branches - Pull requests to <code>staging</code> or <code>main</code></p> <p>Health Check Steps: - Waits for containers to become healthy (max 5 minutes) - Runs smoke tests on deployed services - Verifies frontend, backend, database, and nginx</p>"},{"location":"operations/health-checks/#52-manual-workflow-trigger","title":"5.2 Manual Workflow Trigger","text":"<p>Navigate to GitHub Actions and trigger manually:</p> <pre><code>Repository \u2192 Actions \u2192 Health Check CI \u2192 Run workflow\n</code></pre> <p>Select the branch to test (typically <code>develop</code>)</p>"},{"location":"operations/health-checks/#related-documentation","title":"Related Documentation","text":"<ul> <li>Observability - Monitoring stack (Grafana, Prometheus, Loki)</li> <li>Environments - URLs and ports by environment</li> <li>Deployment - CI/CD pipeline</li> </ul>"},{"location":"operations/observability/","title":"Observability Stack","text":""},{"location":"operations/observability/#overview","title":"Overview","text":"<ul> <li>Prometheus for metrics collection and alerting</li> <li>Loki for centralized log aggregation</li> <li>Grafana for unified visualization</li> <li>Sentry for error tracking (frontend and backend)</li> <li>Web Vitals for frontend performance metrics</li> </ul>"},{"location":"operations/observability/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        GRAFANA (:3001)                          \u2502\n\u2502              Unified dashboard (metrics + logs)                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Prometheus  \u2502     Loki     \u2502    Sentry    \u2502   Exporters        \u2502\n\u2502   (:9090)    \u2502   (:3100)    \u2502  (sentry.io) \u2502                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Micrometer  \u2502   Promtail   \u2502  Sentry SDK  \u2502 - RabbitMQ Exporter\u2502\n\u2502  + Web Vitals\u2502  (collector) \u2502  (FE + BE)   \u2502 - Kafka Exporter   \u2502\n\u2502              \u2502              \u2502              \u2502 - PG Exporter      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          Backend (Spring Boot) + Frontend (Angular)             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  RabbitMQ (:5672)  \u2502  Kafka (:9092)  \u2502  Elasticsearch (:9200)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"operations/observability/#components","title":"Components","text":""},{"location":"operations/observability/#prometheus","title":"Prometheus","text":"<p>Metrics collection and storage with 15-day retention.</p> <p>Endpoints scraped: - <code>spring-backend:8080/actuator/prometheus</code> (10s interval)</p> <p>Alert rules: - ServiceDown: Backend unavailable &gt; 1 minute - HighErrorRate: Error rate &gt; 10% for 5 minutes - HighResponseTime: p95 latency &gt; 2 seconds - HighMemoryUsage: Heap &gt; 90% - HighAuthFailureRate: Auth failures &gt; 50% - RabbitMQDLQMessages: Dead letter queue messages &gt; 0 - RabbitMQNoConsumers: Queue has no consumers - KafkaConsumerLag: Consumer lag &gt; 1000 - CircuitBreakerOpen: Circuit breaker in OPEN state - BatchJobFailed: Batch job execution failed</p>"},{"location":"operations/observability/#loki","title":"Loki","text":"<p>Centralized log aggregation with 7-day retention.</p> <p>Log sources: - Docker container logs via Promtail - Spring Boot application logs (JSON format)</p>"},{"location":"operations/observability/#grafana","title":"Grafana","text":"<p>Visualization platform with 11 pre-provisioned dashboards covering JVM, API, business metrics, messaging, database, and security.</p>"},{"location":"operations/observability/#rabbitmq-exporter","title":"RabbitMQ Exporter","text":"<p>Metrics from rabbitmq_prometheus plugin (port 15692).</p> <p>Metrics: Queue depth, message rates, consumer count, unacked messages, DLQ messages</p>"},{"location":"operations/observability/#kafka-exporter","title":"Kafka Exporter","text":"<p>Metrics via kafka-exporter (port 9308).</p> <p>Metrics: Consumer group lag, partition offsets, topic message rate</p>"},{"location":"operations/observability/#postgresql-exporter","title":"PostgreSQL Exporter","text":"<p>Metrics via postgres_exporter (port 9187).</p> <p>Metrics: Connection count, transaction rate, cache hit ratio, table sizes</p>"},{"location":"operations/observability/#sentry","title":"Sentry","text":"<p>Error tracking and performance monitoring.</p> <p>Backend: - Automatic exception capture via <code>sentry-spring-boot-starter-jakarta</code> - Integration with Logback for error-level logs - Trace sampling: 10% (staging), 5% (production)</p> <p>Frontend: - Global error handler via <code>@sentry/angular</code> - Browser tracing integration - Web Vitals reporting (LCP, INP, CLS, FCP, TTFB)</p>"},{"location":"operations/observability/#configuration","title":"Configuration","text":""},{"location":"operations/observability/#backend-metrics","title":"Backend Metrics","text":"<p>File: <code>portfolio-backend/src/main/resources/application.yml</code></p> <pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,prometheus,metrics\n  endpoint:\n    prometheus:\n      enabled: true\n  metrics:\n    tags:\n      application: ${spring.application.name}\n    distribution:\n      percentiles-histogram:\n        http.server.requests: true\n      percentiles:\n        http.server.requests: 0.5, 0.75, 0.95, 0.99\n</code></pre>"},{"location":"operations/observability/#backend-sentry","title":"Backend Sentry","text":"<p>File: <code>portfolio-backend/src/main/resources/application.yml</code></p> <pre><code>sentry:\n  dsn: ${SENTRY_DSN:}\n  environment: ${SPRING_PROFILES_ACTIVE:dev}\n  traces-sample-rate: ${SENTRY_TRACES_SAMPLE_RATE:0.1}\n  send-default-pii: false\n  logging:\n    minimum-event-level: error\n    minimum-breadcrumb-level: info\n</code></pre>"},{"location":"operations/observability/#frontend-sentry","title":"Frontend Sentry","text":"<p>File: <code>portfolio-frontend/src/environments/environment.prod.ts</code></p> <pre><code>sentry: {\n  dsn: '',  // Set via build or replace placeholder\n  enabled: true,\n  tracesSampleRate: 0.05,\n},\nwebVitals: {\n  enabled: true,\n},\n</code></pre>"},{"location":"operations/observability/#custom-metrics","title":"Custom Metrics","text":""},{"location":"operations/observability/#businessmetrics-component","title":"BusinessMetrics Component","text":"<p>File: <code>portfolio-backend/src/main/java/com/emmanuelgabe/portfolio/metrics/BusinessMetrics.java</code></p> <p>Counters: - <code>portfolio.contact.submissions</code> - Contact form submissions - <code>portfolio.contact.failures</code> - Contact form failures - <code>portfolio.auth.attempts</code> - Authentication attempts - <code>portfolio.auth.failures</code> - Authentication failures - <code>portfolio.ratelimit.hits</code> - Rate limit hits</p> <p>Timers: - <code>portfolio.image.processing</code> - Image processing duration - <code>portfolio.email.sending</code> - Email sending duration</p>"},{"location":"operations/observability/#deployment","title":"Deployment","text":""},{"location":"operations/observability/#start-monitoring-stack","title":"Start Monitoring Stack","text":"<pre><code># Staging\ndocker-compose -f docker-compose.yml \\\n  -f docker-compose.staging.yml \\\n  -f docker-compose.monitoring.yml up -d\n\n# Production\ndocker-compose -f docker-compose.yml \\\n  -f docker-compose.prod.yml \\\n  -f docker-compose.monitoring.yml up -d\n</code></pre>"},{"location":"operations/observability/#access-points","title":"Access Points","text":"Service URL Credentials Grafana http://localhost:3001 GRAFANA_ADMIN_USER / GRAFANA_ADMIN_PASSWORD Prometheus http://localhost:9090 N/A Loki http://localhost:3100 N/A"},{"location":"operations/observability/#environment-variables","title":"Environment Variables","text":""},{"location":"operations/observability/#github-secrets-cicd","title":"GitHub Secrets (CI/CD)","text":"<p>Configure these secrets in GitHub repository settings for CI/CD deployment:</p> Secret Description Required <code>SENTRY_DSN</code> Backend Sentry DSN (Spring Boot project) Yes <code>SENTRY_DSN_FRONTEND</code> Frontend Sentry DSN (Angular project) Yes <code>GRAFANA_ADMIN_PASSWORD</code> Grafana admin password Yes"},{"location":"operations/observability/#local-development","title":"Local Development","text":"<pre><code># Sentry\nSENTRY_DSN=https://xxx@sentry.io/xxx\nSENTRY_DSN_FRONTEND=https://xxx@sentry.io/xxx\n\n# Grafana\nGRAFANA_ADMIN_USER=admin\nGRAFANA_ADMIN_PASSWORD=&lt;secure-password&gt;\n</code></pre>"},{"location":"operations/observability/#optional-email-alerting","title":"Optional (Email Alerting)","text":"<pre><code>GF_SMTP_ENABLED=true\nGF_SMTP_HOST=smtp.gmail.com:587\nGF_SMTP_USER=&lt;email&gt;\nGF_SMTP_PASSWORD=&lt;app-password&gt;\nGF_SMTP_FROM_ADDRESS=grafana@localhost\n</code></pre>"},{"location":"operations/observability/#resource-requirements","title":"Resource Requirements","text":"Service Memory Limit CPU Limit Prometheus 512MB 0.5 Loki 512MB 0.5 Promtail 256MB 0.25 Grafana 256MB 0.25 Total ~1.5GB ~1.5 CPU"},{"location":"operations/observability/#grafana-dashboards","title":"Grafana Dashboards","text":"<p>11 pre-provisioned dashboards available.</p>"},{"location":"operations/observability/#executive-overview-dashboard","title":"Executive Overview Dashboard","text":"<p>High-level system health and SLA monitoring.</p> <p>Panels: Uptime %, Apdex score, traffic overview, services status, active alerts</p>"},{"location":"operations/observability/#jvm-metrics-dashboard","title":"JVM Metrics Dashboard","text":"<p>Panels: JVM Heap Memory, Heap Usage %, CPU Usage %, JVM Threads, GC Pause Duration</p>"},{"location":"operations/observability/#api-performance-dashboard","title":"API Performance Dashboard","text":"<p>Panels: Request Rate, Response Time Percentiles (p50, p95, p99), Error Rate %, Status Code Distribution, Top Endpoints</p>"},{"location":"operations/observability/#business-metrics-dashboard","title":"Business Metrics Dashboard","text":"<p>Panels: Contact Submissions, Auth Attempts/Failures, Rate Limit Hits, Contact Form Activity, Authentication Activity</p>"},{"location":"operations/observability/#postgresql-dashboard","title":"PostgreSQL Dashboard","text":"<p>Database performance and health monitoring.</p> <p>Panels: Connections pool, active connections, slow queries, cache hit ratio, transactions/sec, table sizes</p>"},{"location":"operations/observability/#rabbitmq-dashboard","title":"RabbitMQ Dashboard","text":"<p>Message queue monitoring with rabbitmq_prometheus plugin.</p> <p>Panels: Queue depth, message rates, consumer count, unacked messages, DLQ monitoring, connection status</p>"},{"location":"operations/observability/#kafka-dashboard","title":"Kafka Dashboard","text":"<p>Event streaming monitoring with kafka-exporter.</p> <p>Panels: Consumer lag, partition distribution, message rate, topic health, producer/consumer metrics</p>"},{"location":"operations/observability/#circuit-breaker-dashboard","title":"Circuit Breaker Dashboard","text":"<p>Resilience4j metrics visualization.</p> <p>Panels: Circuit state (CLOSED/OPEN/HALF-OPEN), failure rate, call count, slow call rate, state transitions</p>"},{"location":"operations/observability/#spring-batch-dashboard","title":"Spring Batch Dashboard","text":"<p>Scheduled job monitoring.</p> <p>Panels: Job execution status, success/failure counts, duration, items processed, execution history</p>"},{"location":"operations/observability/#securityauth-dashboard","title":"Security/Auth Dashboard","text":"<p>Authentication and security monitoring.</p> <p>Panels: Login attempts, failed logins, rate limiting triggers, JWT tokens issued, blocked IPs</p>"},{"location":"operations/observability/#logs-explorer-dashboard","title":"Logs Explorer Dashboard","text":"<p>Loki log visualization and search.</p> <p>Panels: Log volume, errors by service, log level distribution, request traces</p>"},{"location":"operations/observability/#web-vitals","title":"Web Vitals","text":""},{"location":"operations/observability/#metrics-collected","title":"Metrics Collected","text":"Metric Description Good Threshold LCP Largest Contentful Paint &lt; 2.5s INP Interaction to Next Paint &lt; 200ms CLS Cumulative Layout Shift &lt; 0.1 FCP First Contentful Paint &lt; 1.8s TTFB Time to First Byte &lt; 800ms"},{"location":"operations/observability/#reporting","title":"Reporting","text":"<p>Web Vitals are reported to: - Browser console (debug level) - Sentry measurements (when enabled) - Poor scores trigger Sentry breadcrumbs (warning level)</p>"},{"location":"operations/observability/#files-reference","title":"Files Reference","text":""},{"location":"operations/observability/#backend","title":"Backend","text":"<ul> <li><code>portfolio-backend/build.gradle</code> - Micrometer and Sentry dependencies</li> <li><code>portfolio-backend/src/main/resources/application*.yml</code> - Metrics and Sentry config</li> <li><code>portfolio-backend/src/main/java/.../metrics/BusinessMetrics.java</code> - Custom metrics</li> </ul>"},{"location":"operations/observability/#frontend","title":"Frontend","text":"<ul> <li><code>portfolio-frontend/package.json</code> - @sentry/angular, web-vitals</li> <li><code>portfolio-frontend/src/environments/</code> - Sentry and Web Vitals config</li> <li><code>portfolio-frontend/src/main.ts</code> - Sentry initialization</li> <li><code>portfolio-frontend/src/app/services/logger.service.ts</code> - Sentry integration</li> <li><code>portfolio-frontend/src/app/services/web-vitals.service.ts</code> - Web Vitals collection</li> </ul>"},{"location":"operations/observability/#infrastructure","title":"Infrastructure","text":"<ul> <li><code>docker-compose.monitoring.yml</code> - Monitoring stack</li> <li><code>monitoring/prometheus/prometheus.yml</code> - Prometheus config</li> <li><code>monitoring/prometheus/alert-rules.yml</code> - Alert rules</li> <li><code>monitoring/loki/loki-config.yml</code> - Loki config</li> <li><code>monitoring/promtail/promtail-config.yml</code> - Promtail config</li> <li><code>monitoring/grafana/provisioning/dashboards/</code> - 11 pre-provisioned dashboards:</li> <li><code>executive-overview-dashboard.json</code></li> <li><code>jvm-dashboard.json</code></li> <li><code>api-dashboard.json</code></li> <li><code>business-dashboard.json</code></li> <li><code>postgresql-dashboard.json</code></li> <li><code>rabbitmq-dashboard.json</code></li> <li><code>kafka-dashboard.json</code></li> <li><code>circuit-breaker-dashboard.json</code></li> <li><code>spring-batch-dashboard.json</code></li> <li><code>security-auth-dashboard.json</code></li> <li><code>logs-explorer-dashboard.json</code></li> </ul>"},{"location":"operations/observability/#related-documentation","title":"Related Documentation","text":"<ul> <li>Health Checks</li> <li>Logging Conventions</li> <li>Environments</li> <li>Messaging (RabbitMQ)</li> <li>Event Streaming (Kafka)</li> <li>Circuit Breaker</li> <li>Batch Processing</li> </ul>"},{"location":"reference/","title":"Reference Documentation","text":"<p>Technical reference documentation for configuration, dependencies, environments, and error codes.</p>"},{"location":"reference/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Contents</li> <li>Quick Reference</li> <li>Environment Summary</li> </ol>"},{"location":"reference/#1-overview","title":"1. Overview","text":"<p>This section contains technical reference documentation for the Portfolio application. Use these documents for configuration, dependency management, environment setup, and error handling reference.</p> <p>Reference Categories: - Configuration properties (JWT, rate limiting, storage, database) - Environment-specific settings (local, staging, production) - Dependency versions and management - Error codes and messages - Scripts organization</p>"},{"location":"reference/#2-contents","title":"2. Contents","text":"Document Description Configuration Properties JWT, rate limiting, file storage, database, Redis, email settings Environments URLs, ports, Docker Compose commands by environment Dependencies Tech stack versions and dependency management Error Codes API error codes and messages reference Versioning Semantic versioning strategy Scripts Organization Scripts structure and usage"},{"location":"reference/#3-quick-reference","title":"3. Quick Reference","text":""},{"location":"reference/#31-key-configuration-properties","title":"3.1 Key Configuration Properties","text":"Property Description Default <code>jwt.expiration</code> Access token TTL 15 minutes <code>jwt.refresh-expiration</code> Refresh token TTL 7 days <code>rate-limit.contact</code> Contact form limit 3/hour <code>rate-limit.login</code> Login attempt limit 5/15 minutes <code>file.max-size</code> Max upload size 10 MB <code>file.upload-dir</code> Upload directory <code>./uploads</code>"},{"location":"reference/#32-port-reference","title":"3.2 Port Reference","text":"Service Port Description Backend API 8080 Spring Boot REST/GraphQL API Frontend 4200 Angular development server PostgreSQL 5432 Database Redis 6379 Cache and rate limiting RabbitMQ 5672 Message queue RabbitMQ UI 15672 Management interface Kafka 9092 Event streaming Elasticsearch 9200 Full-text search Prometheus 9090 Metrics Grafana 3001 Dashboards Loki 3100 Logs"},{"location":"reference/#33-common-error-codes","title":"3.3 Common Error Codes","text":"Code HTTP Status Description <code>RESOURCE_NOT_FOUND</code> 404 Entity not found <code>VALIDATION_ERROR</code> 400 Input validation failed <code>UNAUTHORIZED</code> 401 Missing or invalid token <code>FORBIDDEN</code> 403 Insufficient permissions <code>RATE_LIMIT_EXCEEDED</code> 429 Rate limit reached <code>DUPLICATE_RESOURCE</code> 409 Unique constraint violation"},{"location":"reference/#4-environment-summary","title":"4. Environment Summary","text":""},{"location":"reference/#41-urls-by-environment","title":"4.1 URLs by Environment","text":"Environment Backend URL Frontend URL Local http://localhost:8080 http://localhost:4200 Staging https://staging-api.example.com https://staging.example.com Production https://api.example.com https://example.com"},{"location":"reference/#42-docker-compose-files","title":"4.2 Docker Compose Files","text":"Environment Command Local <code>docker-compose -f docker-compose.yml -f docker-compose.local.yml up</code> Staging <code>docker-compose -f docker-compose.yml -f docker-compose.staging.yml up</code> Production <code>docker-compose -f docker-compose.yml -f docker-compose.prod.yml up</code>"},{"location":"reference/#43-profile-activation","title":"4.3 Profile Activation","text":"<pre><code># Local\nspring.profiles.active: local\n\n# Staging\nspring.profiles.active: staging\n\n# Production\nspring.profiles.active: prod\n</code></pre>"},{"location":"reference/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development Guide - Development setup</li> <li>Deployment - CI/CD and deployment</li> <li>Security - Security configuration</li> <li>Features - Feature documentation</li> <li>Operations: Observability - Monitoring stack</li> </ul>"},{"location":"reference/configuration-properties/","title":"Configuration Properties Reference","text":""},{"location":"reference/configuration-properties/#table-of-contents","title":"Table of Contents","text":"<ol> <li>JWT Configuration</li> <li>Rate Limiting</li> <li>File Storage</li> <li>Database</li> <li>Redis</li> <li>Email</li> <li>Server</li> <li>RabbitMQ</li> <li>Kafka</li> <li>Elasticsearch</li> <li>Resilience4j</li> <li>Spring Batch</li> <li>GraphQL</li> <li>Sitemap</li> <li>Caching</li> </ol>"},{"location":"reference/configuration-properties/#1-jwt-configuration","title":"1. JWT Configuration","text":"<pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}              # HS256 secret key (min 256 bits)\n    expiration: 900000                 # Access token expiration (ms): 15 minutes\n    refresh-expiration: 7              # Refresh token expiration (days): 7 days\n    issuer: portfolio-backend          # Token issuer claim\n    audience: portfolio-frontend       # Token audience claim\n</code></pre> <p>Environment Variables: - <code>JWT_SECRET</code> - Secret key for signing JWTs (required)</p>"},{"location":"reference/configuration-properties/#2-rate-limiting","title":"2. Rate Limiting","text":"<pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Maximum contact form submissions per IP per hour\n</code></pre> <p>Defaults: 5 requests/hour</p> <p>Environment-Specific: - Dev: 10 requests/hour - Staging: 5 requests/hour - Prod: 3 requests/hour</p>"},{"location":"reference/configuration-properties/#3-file-storage","title":"3. File Storage","text":"<pre><code>app:\n  file-storage:\n    upload-dir: uploads/              # Base directory for file uploads\n    max-file-size: 10485760           # Max file size (bytes): 10 MB\n    allowed-extensions:               # Allowed file extensions\n      - jpg\n      - jpeg\n      - png\n      - webp\n      - pdf\n</code></pre> <p>Subdirectories: - <code>uploads/projects/</code> - Project images - <code>uploads/cvs/</code> - CV files - <code>uploads/articles/</code> - Article images</p>"},{"location":"reference/configuration-properties/#4-database","title":"4. Database","text":"<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:portfolio}\n    username: ${DB_USERNAME:postgres}\n    password: ${DB_PASSWORD}\n    driver-class-name: org.postgresql.Driver\n\n  jpa:\n    hibernate:\n      ddl-auto: validate  # Use Flyway for schema management\n    show-sql: false       # Set to true in dev for SQL logging\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format_sql: true\n\n  flyway:\n    enabled: true\n    baseline-on-migrate: true\n    locations: classpath:db/migration\n</code></pre> <p>Environment Variables: - <code>DB_HOST</code> - Database host (default: localhost) - <code>DB_PORT</code> - Database port (default: 5432) - <code>DB_NAME</code> - Database name (default: portfolio) - <code>DB_USERNAME</code> - Database username (default: postgres) - <code>DB_PASSWORD</code> - Database password (required)</p>"},{"location":"reference/configuration-properties/#5-redis","title":"5. Redis","text":"<pre><code>spring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n      timeout: 3000ms\n</code></pre> <p>Environment Variables: - <code>REDIS_HOST</code> - Redis host (default: localhost) - <code>REDIS_PORT</code> - Redis port (default: 6379) - <code>REDIS_PASSWORD</code> - Redis password (optional)</p> <p>Use Cases: - Rate limiting (contact form) - Session management (future) - Caching (future)</p>"},{"location":"reference/configuration-properties/#6-email","title":"6. Email","text":"<pre><code>spring:\n  mail:\n    host: ${MAIL_HOST:smtp.gmail.com}\n    port: ${MAIL_PORT:587}\n    username: ${MAIL_USERNAME}\n    password: ${MAIL_APP_PASSWORD}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n</code></pre> <p>Environment Variables: - <code>MAIL_HOST</code> - SMTP server host (default: smtp.gmail.com) - <code>MAIL_PORT</code> - SMTP server port (default: 587) - <code>MAIL_USERNAME</code> - SMTP username (required) - <code>MAIL_APP_PASSWORD</code> - SMTP password (required)</p>"},{"location":"reference/configuration-properties/#7-server","title":"7. Server","text":"<pre><code>server:\n  port: ${PORT:8080}\n  servlet:\n    context-path: /\n  error:\n    include-message: always\n    include-binding-errors: always\n    include-stacktrace: never  # Set to on_param in dev\n</code></pre> <p>Environment Variables: - <code>PORT</code> - Server port (default: 8080)</p>"},{"location":"reference/configuration-properties/#environment-profiles","title":"Environment Profiles","text":""},{"location":"reference/configuration-properties/#development-application-devyml","title":"Development (<code>application-dev.yml</code>)","text":"<pre><code>spring:\n  jpa:\n    show-sql: true  # SQL logging enabled\n\nlogging:\n  level:\n    root: INFO\n    com.emmanuelgabe.portfolio: DEBUG\n\napp:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 10  # Lenient for testing\n</code></pre>"},{"location":"reference/configuration-properties/#staging-application-stagingyml","title":"Staging (<code>application-staging.yml</code>)","text":"<pre><code>logging:\n  level:\n    root: INFO\n    com.emmanuelgabe.portfolio: INFO\n\napp:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5\n</code></pre>"},{"location":"reference/configuration-properties/#production-application-prodyml","title":"Production (<code>application-prod.yml</code>)","text":"<pre><code>logging:\n  level:\n    root: WARN\n    com.emmanuelgabe.portfolio: WARN\n\napp:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3  # Strict for production\n</code></pre>"},{"location":"reference/configuration-properties/#8-rabbitmq","title":"8. RabbitMQ","text":"<pre><code>spring:\n  rabbitmq:\n    host: ${RABBITMQ_HOST:localhost}\n    port: ${RABBITMQ_PORT:5672}\n    username: ${RABBITMQ_USERNAME:guest}\n    password: ${RABBITMQ_PASSWORD:guest}\n    virtual-host: ${RABBITMQ_VHOST:/}\n    publisher-confirm-type: correlated\n    publisher-returns: true\n\nrabbitmq:\n  enabled: ${RABBITMQ_ENABLED:true}\n  queues:\n    email: portfolio.email.queue\n    image: portfolio.image.queue\n    audit: portfolio.audit.queue\n</code></pre> <p>Environment Variables: - <code>RABBITMQ_HOST</code> - RabbitMQ host (default: localhost) - <code>RABBITMQ_PORT</code> - RabbitMQ port (default: 5672) - <code>RABBITMQ_USERNAME</code> - RabbitMQ username (default: guest) - <code>RABBITMQ_PASSWORD</code> - RabbitMQ password (default: guest) - <code>RABBITMQ_ENABLED</code> - Enable RabbitMQ (default: true)</p>"},{"location":"reference/configuration-properties/#9-kafka","title":"9. Kafka","text":"<pre><code>kafka:\n  enabled: ${KAFKA_ENABLED:true}\n  consumer:\n    group-id: ${KAFKA_CONSUMER_GROUP:portfolio-group}\n\nspring.kafka:\n  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}\n  producer:\n    key-serializer: org.apache.kafka.common.serialization.StringSerializer\n    value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n  consumer:\n    auto-offset-reset: earliest\n</code></pre> <p>Environment Variables: - <code>KAFKA_ENABLED</code> - Enable Kafka (default: true) - <code>KAFKA_BOOTSTRAP_SERVERS</code> - Kafka brokers (default: localhost:9092) - <code>KAFKA_CONSUMER_GROUP</code> - Consumer group ID (default: portfolio-group)</p>"},{"location":"reference/configuration-properties/#10-elasticsearch","title":"10. Elasticsearch","text":"<pre><code>elasticsearch:\n  enabled: ${ELASTICSEARCH_ENABLED:true}\n  host: ${ELASTICSEARCH_HOST:localhost}\n  port: ${ELASTICSEARCH_PORT:9200}\n  username: ${ELASTICSEARCH_USERNAME:elastic}\n  password: ${ELASTICSEARCH_PASSWORD:}\n</code></pre> <p>Environment Variables: - <code>ELASTICSEARCH_ENABLED</code> - Enable Elasticsearch (default: true) - <code>ELASTICSEARCH_HOST</code> - Elasticsearch host (default: localhost) - <code>ELASTICSEARCH_PORT</code> - Elasticsearch port (default: 9200) - <code>ELASTICSEARCH_USERNAME</code> - Elasticsearch username (default: elastic) - <code>ELASTICSEARCH_PASSWORD</code> - Elasticsearch password (optional)</p>"},{"location":"reference/configuration-properties/#11-resilience4j","title":"11. Resilience4j","text":"<pre><code>resilience4j:\n  circuitbreaker:\n    instances:\n      emailService:\n        slidingWindowSize: 10\n        minimumNumberOfCalls: 5\n        failureRateThreshold: 50\n        waitDurationInOpenState: 60s\n        permittedNumberOfCallsInHalfOpenState: 3\n  retry:\n    instances:\n      emailService:\n        maxAttempts: 3\n        waitDuration: 1s\n        enableExponentialBackoff: true\n</code></pre> <p>Configuration: Circuit breaker and retry patterns for email service resilience.</p>"},{"location":"reference/configuration-properties/#12-spring-batch","title":"12. Spring Batch","text":"<pre><code>batch:\n  enabled: ${BATCH_ENABLED:true}\n  audit-cleanup:\n    retention-days: ${BATCH_AUDIT_RETENTION_DAYS:90}\n    cron: ${BATCH_AUDIT_CLEANUP_CRON:0 0 2 * * ?}  # Daily at 2 AM\n  audit-report:\n    output-dir: ${BATCH_AUDIT_REPORT_DIR:reports/audit}\n    cron: ${BATCH_AUDIT_REPORT_CRON:0 0 3 1 * ?}  # Monthly on 1st at 3 AM\n  stats-aggregation:\n    cron: ${BATCH_STATS_CRON:0 0 0 * * ?}  # Daily at midnight\n  sitemap:\n    cron: ${BATCH_SITEMAP_CRON:0 0 4 * * ?}  # Daily at 4 AM\n  image-reprocessing:\n    chunk-size: ${BATCH_IMAGE_CHUNK_SIZE:10}\n</code></pre> <p>Environment Variables: - <code>BATCH_ENABLED</code> - Enable batch jobs (default: true) - <code>BATCH_AUDIT_RETENTION_DAYS</code> - Audit log retention days (default: 90)</p>"},{"location":"reference/configuration-properties/#13-graphql","title":"13. GraphQL","text":"<pre><code>spring.graphql:\n  graphiql:\n    enabled: ${GRAPHQL_GRAPHIQL_ENABLED:true}\n    path: /graphiql\n  path: /graphql\n  schema:\n    locations: classpath:graphql/\n    introspection:\n      enabled: ${GRAPHQL_INTROSPECTION_ENABLED:true}\n</code></pre> <p>Environment Variables: - <code>GRAPHQL_GRAPHIQL_ENABLED</code> - Enable GraphiQL UI (default: true) - <code>GRAPHQL_INTROSPECTION_ENABLED</code> - Enable schema introspection (default: true)</p>"},{"location":"reference/configuration-properties/#14-sitemap","title":"14. Sitemap","text":"<pre><code>sitemap:\n  base-url: ${SITEMAP_BASE_URL:https://emmanuelgabe.com}\n  output-path: ${SITEMAP_OUTPUT_PATH:sitemap.xml}\n</code></pre> <p>Environment Variables: - <code>SITEMAP_BASE_URL</code> - Base URL for sitemap entries - <code>SITEMAP_OUTPUT_PATH</code> - Output file path</p>"},{"location":"reference/configuration-properties/#15-caching","title":"15. Caching","text":"<pre><code>spring:\n  cache:\n    type: redis\n    redis:\n      time-to-live: 3600000  # 1 hour in milliseconds\n</code></pre> <p>Caches: - <code>siteConfig</code> - Site configuration (TTL: 6 hours) - <code>skills</code> - Skills list (TTL: 2 hours) - <code>projects</code> - Projects list (TTL: 2 hours) - <code>experiences</code> - Experiences list (TTL: 2 hours) - <code>tags</code> - Tags list (TTL: 2 hours)</p>"},{"location":"reference/configuration-properties/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development: Setup - Environment setup</li> <li>Reference: Environments - Environment details</li> <li>Security: JWT Implementation - JWT configuration</li> <li>Security: Rate Limiting - Rate limit configuration</li> <li>Features: Messaging - RabbitMQ usage</li> <li>Features: Event Streaming - Kafka usage</li> <li>Features: Search - Elasticsearch usage</li> <li>Features: Batch Processing - Batch jobs</li> </ul>"},{"location":"reference/dependencies/","title":"Dependencies Reference","text":""},{"location":"reference/dependencies/#overview","title":"Overview","text":"<p>This document explains how to view and manage dependencies in the Portfolio Application.</p> <p>For exact versions, see: - Backend: <code>portfolio-backend/build.gradle</code> - Frontend: <code>portfolio-frontend/package.json</code></p> <p>View all dependencies: <pre><code># Backend\ncd portfolio-backend &amp;&amp; ./gradlew dependencies\n\n# Frontend\ncd portfolio-frontend &amp;&amp; npm list\n</code></pre></p>"},{"location":"reference/dependencies/#backend-stack","title":"Backend Stack","text":""},{"location":"reference/dependencies/#core-framework","title":"Core Framework","text":"<ul> <li>Spring Boot 3.x - Application framework with starters:</li> <li><code>spring-boot-starter-web</code> - REST API, MVC, Tomcat</li> <li><code>spring-boot-starter-data-jpa</code> - JPA/Hibernate</li> <li><code>spring-boot-starter-security</code> - Auth</li> <li><code>spring-boot-starter-actuator</code> - Health checks, metrics</li> <li><code>spring-boot-starter-validation</code> - Bean validation</li> <li>Java 21 LTS - Programming language</li> <li>Gradle 8.x - Build tool</li> </ul>"},{"location":"reference/dependencies/#database","title":"Database","text":"<ul> <li>PostgreSQL - Production database</li> <li>Flyway - Database migrations</li> </ul>"},{"location":"reference/dependencies/#api-documentation","title":"API Documentation","text":"<ul> <li>SpringDoc OpenAPI - Swagger UI auto-generation</li> </ul> <p>Access: http://localhost:8081/api/swagger-ui.html</p>"},{"location":"reference/dependencies/#code-generation","title":"Code Generation","text":"<ul> <li>MapStruct - Compile-time DTO mapping</li> <li>Lombok - Boilerplate reduction (@Getter, @Slf4j)</li> <li>Lombok-MapStruct Binding - Compatibility layer</li> </ul> <p>Why: Compile-time mapping faster than reflection-based alternatives.</p>"},{"location":"reference/dependencies/#logging","title":"Logging","text":"<ul> <li>Logstash Logback Encoder - Structured JSON logs</li> </ul>"},{"location":"reference/dependencies/#messaging","title":"Messaging","text":"<ul> <li>spring-boot-starter-amqp - RabbitMQ integration</li> <li>spring-kafka - Apache Kafka integration</li> </ul>"},{"location":"reference/dependencies/#search","title":"Search","text":"<ul> <li>spring-boot-starter-data-elasticsearch - Elasticsearch integration</li> </ul>"},{"location":"reference/dependencies/#batch-processing","title":"Batch Processing","text":"<ul> <li>spring-boot-starter-batch - Scheduled batch jobs</li> </ul>"},{"location":"reference/dependencies/#caching","title":"Caching","text":"<ul> <li>spring-boot-starter-cache - Cache abstraction</li> <li>Caffeine - High-performance local cache</li> </ul>"},{"location":"reference/dependencies/#resilience","title":"Resilience","text":"<ul> <li>resilience4j-spring-boot3 - Circuit breaker, retry patterns</li> <li>resilience4j-micrometer - Metrics integration</li> </ul>"},{"location":"reference/dependencies/#graphql","title":"GraphQL","text":"<ul> <li>spring-boot-starter-graphql - GraphQL API support</li> </ul>"},{"location":"reference/dependencies/#testing","title":"Testing","text":"<ul> <li>Spring Boot Test - JUnit 5, Mockito, AssertJ</li> <li>REST Assured - REST API testing</li> <li>Testcontainers - Real database in tests (no H2 mocks)</li> </ul>"},{"location":"reference/dependencies/#frontend-stack","title":"Frontend Stack","text":""},{"location":"reference/dependencies/#core-framework_1","title":"Core Framework","text":"<ul> <li>Angular 18 LTS - Framework with standalone components</li> <li>TypeScript 5.x - Programming language</li> <li>RxJS 7.x - Reactive programming</li> <li>Zone.js - Change detection</li> </ul>"},{"location":"reference/dependencies/#ui-framework","title":"UI Framework","text":"<ul> <li>Bootstrap 5.x - CSS framework, responsive grid</li> <li>Bootstrap Icons - Icon library</li> <li>ngx-toastr - Toast notifications</li> </ul>"},{"location":"reference/dependencies/#utilities","title":"Utilities","text":"<ul> <li>date-fns - Modern date library</li> </ul>"},{"location":"reference/dependencies/#charts-and-visualization","title":"Charts and Visualization","text":"<ul> <li>chart.js - Charting library</li> <li>ng2-charts - Angular Chart.js wrapper</li> </ul>"},{"location":"reference/dependencies/#pwa-progressive-web-app","title":"PWA (Progressive Web App)","text":"<ul> <li>@angular/service-worker - Service worker support</li> </ul>"},{"location":"reference/dependencies/#internationalization-i18n","title":"Internationalization (i18n)","text":"<ul> <li>@ngx-translate/core - Translation core</li> <li>@ngx-translate/http-loader - JSON translation loader</li> </ul>"},{"location":"reference/dependencies/#performance-monitoring","title":"Performance Monitoring","text":"<ul> <li>web-vitals - Core Web Vitals metrics</li> </ul>"},{"location":"reference/dependencies/#development-tools","title":"Development Tools","text":"<ul> <li>ESLint + Prettier - Linting and formatting</li> <li>Husky + lint-staged - Git hooks for automated checks</li> </ul>"},{"location":"reference/dependencies/#testing_1","title":"Testing","text":"<ul> <li>Jasmine + Karma - Testing framework and runner</li> <li>Karma Coverage - Code coverage reports</li> </ul>"},{"location":"reference/dependencies/#infrastructure","title":"Infrastructure","text":""},{"location":"reference/dependencies/#containerization","title":"Containerization","text":"<ul> <li>Docker - Container runtime</li> <li>Docker Compose - Multi-container orchestration</li> </ul> <p>Base Images (Alpine for minimal size): - <code>node:20-alpine</code> - Frontend build - <code>nginx:alpine</code> - Frontend runtime, reverse proxy - <code>eclipse-temurin:21-jdk-alpine</code> - Backend build - <code>eclipse-temurin:21-jre-alpine</code> - Backend runtime - <code>postgres:17-alpine</code> - Database</p>"},{"location":"reference/dependencies/#messaging-infrastructure","title":"Messaging Infrastructure","text":"<ul> <li>RabbitMQ (<code>rabbitmq:3-management-alpine</code>) - Message broker</li> <li>Apache Kafka + Zookeeper - Event streaming</li> </ul>"},{"location":"reference/dependencies/#search-infrastructure","title":"Search Infrastructure","text":"<ul> <li>Elasticsearch - Full-text search engine</li> </ul>"},{"location":"reference/dependencies/#monitoring-stack","title":"Monitoring Stack","text":"<ul> <li>Prometheus - Metrics collection</li> <li>Grafana - Dashboards and visualization</li> <li>Loki - Log aggregation</li> <li>Promtail - Log collector</li> </ul>"},{"location":"reference/dependencies/#cache-infrastructure","title":"Cache Infrastructure","text":"<ul> <li>Redis - Distributed cache and rate limiting</li> </ul>"},{"location":"reference/dependencies/#related-documentation","title":"Related Documentation","text":"<ul> <li>Observability - Monitoring stack details</li> <li>Environments - Service URLs by environment</li> <li>Configuration Properties - All configuration options</li> </ul>"},{"location":"reference/environments/","title":"Environments Configuration","text":"<p>Configuration reference for Local, Staging, and Production environments.</p>"},{"location":"reference/environments/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Docker Compose</li> <li>Environments</li> <li>URLs by Environment</li> <li>Quick Commands</li> </ol>"},{"location":"reference/environments/#overview","title":"Overview","text":"<p>The Portfolio project uses Docker Compose with environment-specific override files:</p> <p>File Structure: - <code>docker-compose.yml</code> - Base configuration (shared across all environments) - <code>docker-compose.local.yml</code> - Local development overrides - <code>docker-compose.staging.yml</code> - Staging environment overrides - <code>docker-compose.prod.yml</code> - Production environment overrides</p>"},{"location":"reference/environments/#docker-compose","title":"Docker Compose","text":""},{"location":"reference/environments/#start-services","title":"Start Services","text":"<pre><code># Local Environment\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n\n# Staging Environment\ndocker-compose -f docker-compose.yml -f docker-compose.staging.yml up --build -d\n\n# Production Environment\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d\n\n# With Monitoring Stack (any environment)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml \\\n  -f docker-compose.monitoring.yml up --build -d\n</code></pre>"},{"location":"reference/environments/#stop-services","title":"Stop Services","text":"<pre><code># Local\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml down\n\n# Staging\ndocker-compose -f docker-compose.yml -f docker-compose.staging.yml down\n\n# Production\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml down\n</code></pre>"},{"location":"reference/environments/#view-logs","title":"View Logs","text":"<pre><code># All services\ndocker-compose logs -f\n\n# Specific service (Local)\ndocker-compose logs -f portfolio-backend-local\ndocker-compose logs -f portfolio-frontend-local\ndocker-compose logs -f portfolio-db-local\n\n# Specific service (Staging)\ndocker-compose logs -f portfolio-backend-staging\ndocker-compose logs -f portfolio-frontend-staging\n\n# Specific service (Production)\ndocker-compose logs -f portfolio-backend-prod\ndocker-compose logs -f portfolio-frontend-prod\n</code></pre>"},{"location":"reference/environments/#environments","title":"Environments","text":""},{"location":"reference/environments/#environment-comparison","title":"Environment Comparison","text":"Environment Docker Compose Spring Profile Frontend Port Backend Port Database Local <code>docker-compose.local.yml</code> <code>dev</code> 4200 8080 localhost:5432 Staging <code>docker-compose.staging.yml</code> <code>staging</code> 3000 3001 Internal Production <code>docker-compose.prod.yml</code> <code>prod</code> 80/443 Internal Internal"},{"location":"reference/environments/#local-development","title":"Local Development","text":"<p>Characteristics: - Hot reload enabled (frontend and backend) - Debug logging (DEBUG level) - Local database on port 5432 - Swagger UI enabled - No HTTPS (HTTP only)</p> <p>Use Case: - Active development - Testing new features - Debugging - Running unit and integration tests</p>"},{"location":"reference/environments/#staging-pre-production","title":"Staging (Pre-Production)","text":"<p>Characteristics: - Production-like configuration - INFO logging level - Internal database (Docker network) - Swagger UI disabled - HTTPS optional</p> <p>Use Case: - Pre-production validation - Smoke testing - User acceptance testing (UAT) - Performance testing - Final validation before production</p>"},{"location":"reference/environments/#production","title":"Production","text":"<p>Characteristics: - Optimized builds - WARN logging level (errors only) - Internal database (Docker network) - Swagger UI disabled - HTTPS required (Let's Encrypt certificates) - Health checks enabled</p> <p>Use Case: - Live production environment - Serving real users - High availability - Monitoring and alerting enabled</p>"},{"location":"reference/environments/#urls-by-environment","title":"URLs by Environment","text":""},{"location":"reference/environments/#local-development_1","title":"Local Development","text":"<p>Access Points: - Frontend: http://localhost:4200 or http://127.0.0.1:4200 - Backend API: http://localhost:8080 - Swagger UI: http://localhost:8080/swagger-ui.html - API Docs (JSON): http://localhost:8080/api-docs - Database: localhost:5432   - User: <code>postgres</code>   - Password: <code>postgres</code>   - Database: <code>portfolio_local</code> - Health Check: http://localhost:8080/actuator/health - Grafana: http://localhost:3001 (monitoring dashboards) - Prometheus: http://localhost:9090 (metrics) - RabbitMQ Management: http://localhost:15672 (message queue UI)</p> <p>Nginx: Reverse proxy active on port 4200 (routes to frontend and API)</p>"},{"location":"reference/environments/#staging-internal-network","title":"Staging (Internal Network)","text":"<p>Access Points: - Frontend: http://localhost:3000 - Backend API: http://localhost:3001 - Health Check: http://localhost:3001/actuator/health - Database: Internal (not exposed)</p> <p>Nginx: Routes requests between frontend and backend</p> <p>Notes: - Swagger UI disabled - API docs disabled - Database accessible only within Docker network</p>"},{"location":"reference/environments/#production_1","title":"Production","text":"<p>Access Points: - Frontend: https://yoursite.com (port 80/443) - Backend API: https://api.yoursite.com (internal routing) - Health Check: https://api.yoursite.com/actuator/health - Database: Internal (not exposed)</p> <p>Nginx: - Handles HTTPS termination - Routes requests - Serves static files - Load balancing (if scaled)</p> <p>Security: - HTTPS enforced (automatic redirect from HTTP) - Let's Encrypt SSL certificates - HSTS headers enabled - Security headers (CSP, X-Frame-Options, etc.)</p> <p>Notes: - Swagger UI disabled - API docs disabled - All logs in JSON format (Logstash) - Database accessible only within Docker network</p>"},{"location":"reference/environments/#quick-commands","title":"Quick Commands","text":""},{"location":"reference/environments/#health-checks","title":"Health Checks","text":"<pre><code># Local\ncurl http://localhost:8080/actuator/health\n\n# Staging\ncurl http://localhost:3001/actuator/health\n\n# Production\ncurl https://api.yoursite.com/actuator/health\n</code></pre> <p>Expected Response: <pre><code>{\n  \"status\": \"UP\",\n  \"components\": {\n    \"db\": {\n      \"status\": \"UP\"\n    },\n    \"diskSpace\": {\n      \"status\": \"UP\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"reference/environments/#database-access","title":"Database Access","text":"<p>Local Only: <pre><code># Connect to PostgreSQL\ndocker exec -it portfolio-db-local psql -U portfolio_user -d portfolio_local\n\n# Common commands:\n# \\dt          - List tables\n# \\d projects  - Describe projects table\n# SELECT * FROM projects;\n# \\q           - Exit\n</code></pre></p> <p>Staging/Production: Database is not exposed externally. Access only via application or Docker network.</p>"},{"location":"reference/environments/#service-status","title":"Service Status","text":"<pre><code># Check all running containers\ndocker ps\n\n# Expected output (Local):\n# - portfolio-nginx-local\n# - portfolio-frontend-local\n# - portfolio-backend-local\n# - portfolio-db-local\n</code></pre>"},{"location":"reference/environments/#rebuild-specific-service","title":"Rebuild Specific Service","text":"<pre><code># Rebuild and restart backend only (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-backend-local\n\n# Rebuild and restart frontend only (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-frontend-local\n\n# Rebuild everything (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n</code></pre>"},{"location":"reference/environments/#clean-up","title":"Clean Up","text":"<pre><code># Stop and remove containers (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml down\n\n# Stop and remove volumes (CAUTION: deletes database data)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml down -v\n\n# Remove all unused Docker resources\ndocker system prune -a -f\n</code></pre>"},{"location":"reference/environments/#environment-variables","title":"Environment Variables","text":""},{"location":"reference/environments/#required-variables","title":"Required Variables","text":"<p>.env file (root directory): <pre><code># Database\nDB_USER_PASSWORD=your_secure_password\n\n# JWT (Production/Staging only)\nJWT_SECRET=your_jwt_secret_key\n\n# Optional: Custom ports\nBACKEND_PORT=8080\nFRONTEND_PORT=4200\n</code></pre></p>"},{"location":"reference/environments/#spring-profiles","title":"Spring Profiles","text":"<p>application.yml: - <code>spring.profiles.active=dev</code> (Local) - <code>spring.profiles.active=staging</code> (Staging) - <code>spring.profiles.active=prod</code> (Production)</p> <p>Each profile has its own configuration file: - <code>application-dev.yml</code> - <code>application-staging.yml</code> - <code>application-prod.yml</code></p>"},{"location":"reference/environments/#port-reference","title":"Port Reference","text":"Service Local Staging Production Frontend 4200 3000 80/443 Backend 8080 3001 Internal (8080) Database 5432 Internal Internal Nginx N/A 80/443 80/443 <p>Internal Ports: Accessible only within Docker network, not exposed to host.</p>"},{"location":"reference/environments/#related-documentation","title":"Related Documentation","text":"<ul> <li>Setup Guide - Initial development environment setup</li> <li>CI/CD Guide - Deployment automation</li> <li>Health Checks - Monitoring and health endpoints</li> </ul>"},{"location":"reference/error-codes/","title":"API Error Codes Reference","text":""},{"location":"reference/error-codes/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Error Response Format</li> <li>HTTP Status Codes</li> <li>Common Error Messages</li> </ol>"},{"location":"reference/error-codes/#1-error-response-format","title":"1. Error Response Format","text":""},{"location":"reference/error-codes/#standard-error-response","title":"Standard Error Response","text":"<pre><code>{\n  \"status\": 404,\n  \"message\": \"Resource not found with id: 123\",\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\"\n}\n</code></pre>"},{"location":"reference/error-codes/#validation-error-response","title":"Validation Error Response","text":"<pre><code>{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"errors\": {\n    \"field1\": \"Error message for field1\",\n    \"field2\": \"Error message for field2\"\n  }\n}\n</code></pre>"},{"location":"reference/error-codes/#2-http-status-codes","title":"2. HTTP Status Codes","text":"Code Status Description Common Causes 200 OK Success Request completed successfully 201 Created Resource created POST request succeeded 204 No Content Success, no response body DELETE request succeeded 400 Bad Request Invalid request Validation errors, invalid arguments 401 Unauthorized Authentication required Invalid/expired token, invalid credentials 403 Forbidden Insufficient permissions Missing ROLE_ADMIN 404 Not Found Resource doesn't exist Invalid ID, resource deleted 409 Conflict Duplicate resource Unique constraint violation 429 Too Many Requests Rate limit exceeded Contact form spam prevention 500 Internal Server Error Server error Unexpected exceptions, storage failures 503 Service Unavailable External service down Circuit breaker open, Elasticsearch unavailable"},{"location":"reference/error-codes/#3-common-error-messages","title":"3. Common Error Messages","text":""},{"location":"reference/error-codes/#resource-not-found-404","title":"Resource Not Found (404)","text":"Resource Error Message Project <code>Project not found with id: {id}</code> Skill <code>Skill not found with id: {id}</code> Tag <code>Tag not found with id: {id}</code> Experience <code>Experience not found with id: {id}</code> Article <code>Article not found with slug: {slug}</code> Article <code>Article not found with id: {id}</code> User <code>User not found with id: {id}</code> User <code>User not found with username: {username}</code>"},{"location":"reference/error-codes/#authentication-errors-401","title":"Authentication Errors (401)","text":"Scenario Error Message Invalid credentials <code>Invalid username or password</code> Invalid token <code>Invalid JWT token</code> Expired token <code>JWT token has expired</code> Invalid signature <code>Invalid JWT signature</code> Malformed token <code>Invalid JWT token</code> Unsupported token <code>Unsupported JWT token</code> Invalid refresh token <code>Invalid refresh token</code> Expired refresh token <code>Refresh token has expired</code>"},{"location":"reference/error-codes/#authorization-errors-403","title":"Authorization Errors (403)","text":"Scenario Error Message Insufficient permissions <code>Access denied: insufficient permissions</code> Not admin Redirect to home (no error message)"},{"location":"reference/error-codes/#validation-errors-400","title":"Validation Errors (400)","text":"Field Type Validation Error Message Title Blank <code>Title is required</code> Title Too short/long <code>Title must be between {min} and {max} characters</code> Email Blank <code>Email is required</code> Email Invalid format <code>Email must be valid</code> Description Blank <code>Description is required</code> Description Too short/long <code>Description must be between {min} and {max} characters</code> URL Invalid format <code>must be a valid URL</code> Color Invalid hex <code>Color must be a valid hex color code (e.g., #FF5733)</code> Date Future date <code>{field} cannot be in the future</code>"},{"location":"reference/error-codes/#file-upload-errors-400500","title":"File Upload Errors (400/500)","text":"Scenario Status Error Message Invalid file type 400 <code>Invalid file type. Supported types: JPEG, PNG, WebP</code> File too large 400 <code>File size exceeds maximum allowed size (10 MB)</code> Empty file 400 <code>File cannot be empty</code> Storage failure 500 <code>Failed to store file</code>"},{"location":"reference/error-codes/#rate-limiting-429","title":"Rate Limiting (429)","text":"Endpoint Error Message Contact form <code>Rate limit exceeded. You can send maximum {N} messages per hour. Please try again later.</code>"},{"location":"reference/error-codes/#duplicate-resource-409","title":"Duplicate Resource (409)","text":"Resource Error Message Tag <code>Tag with name '{name}' already exists</code> User <code>Username already exists</code> User <code>Email already exists</code>"},{"location":"reference/error-codes/#email-errors-500","title":"Email Errors (500)","text":"Scenario Error Message Send failure <code>Failed to send email. Please try again later.</code>"},{"location":"reference/error-codes/#search-errors-503","title":"Search Errors (503)","text":"Scenario Error Message Elasticsearch unavailable <code>Search service temporarily unavailable</code> Search timeout <code>Search request timed out</code>"},{"location":"reference/error-codes/#batch-job-errors-500","title":"Batch Job Errors (500)","text":"Scenario Error Message Job already running <code>Job is already running</code> Job start failure <code>Failed to start batch job</code> Job not found <code>Job execution not found with id: {id}</code>"},{"location":"reference/error-codes/#audit-errors-500","title":"Audit Errors (500)","text":"Scenario Error Message Export failure <code>Failed to export audit logs</code> Invalid date range <code>Start date must be before end date</code>"},{"location":"reference/error-codes/#circuit-breaker-errors-503","title":"Circuit Breaker Errors (503)","text":"Scenario Error Message Service unavailable <code>Service temporarily unavailable. Please try again later.</code> Circuit open <code>External service is currently unavailable</code>"},{"location":"reference/error-codes/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture: Error Handling - Error handling strategy</li> <li>API Overview - API endpoints</li> </ul>"},{"location":"reference/scripts-organization/","title":"Scripts Organization Reference","text":""},{"location":"reference/scripts-organization/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Directory Structure</li> <li>Script Categories</li> <li>Usage Guide</li> <li>Adding New Scripts</li> </ol>"},{"location":"reference/scripts-organization/#1-overview","title":"1. Overview","text":"<p>Reference guide for the scripts directory organization and usage patterns.</p>"},{"location":"reference/scripts-organization/#11-purpose","title":"1.1 Purpose","text":"<p>Scripts are organized by function to facilitate: - Automated deployment validation - Health check monitoring - Maintenance operations - Documentation validation - Development workflow automation</p>"},{"location":"reference/scripts-organization/#2-directory-structure","title":"2. Directory Structure","text":"<pre><code>scripts/\n\u251c\u2500\u2500 deployment/          # Deployment and validation scripts\n\u2502   \u251c\u2500\u2500 validate-deployment.sh\n\u2502   \u2514\u2500\u2500 sync-prod-to-staging.sh\n\u251c\u2500\u2500 maintenance/         # Cleanup and maintenance scripts\n\u2502   \u2514\u2500\u2500 cleanup-staging.sh\n\u251c\u2500\u2500 testing/            # Health checks and testing scripts\n\u2502   \u251c\u2500\u2500 test-health.sh\n\u2502   \u2514\u2500\u2500 run-all-tests.sh\n\u251c\u2500\u2500 docs/               # Documentation validation scripts\n\u2502   \u2514\u2500\u2500 validate-docs.sh\n\u2514\u2500\u2500 setup-permissions.sh # Initial setup script\n</code></pre>"},{"location":"reference/scripts-organization/#3-script-categories","title":"3. Script Categories","text":""},{"location":"reference/scripts-organization/#31-deployment-scripts","title":"3.1 Deployment Scripts","text":"<p>Location: <code>scripts/deployment/</code></p>"},{"location":"reference/scripts-organization/#validate-deploymentsh","title":"validate-deployment.sh","text":"<p>Purpose: Pre-deployment validation for all environments</p> <p>Usage: <pre><code>./scripts/deployment/validate-deployment.sh [local|staging|prod]\n</code></pre></p> <p>Steps: 1. Validates Docker Compose YAML syntax 2. Checks environment variables 3. Cleans existing containers 4. Builds and starts containers 5. Monitors health checks (max 180s) 6. Runs functional smoke tests 7. Displays deployment summary</p>"},{"location":"reference/scripts-organization/#sync-prod-to-stagingsh","title":"sync-prod-to-staging.sh","text":"<p>Purpose: Synchronize production database to staging</p> <p>Usage: <pre><code>./scripts/deployment/sync-prod-to-staging.sh\n</code></pre></p> <p>Safety Features: - Confirmation prompt before execution - Automatic backup with timestamp - Retention of last 5 backups</p>"},{"location":"reference/scripts-organization/#32-maintenance-scripts","title":"3.2 Maintenance Scripts","text":"<p>Location: <code>scripts/maintenance/</code></p>"},{"location":"reference/scripts-organization/#cleanup-stagingsh","title":"cleanup-staging.sh","text":"<p>Purpose: Emergency cleanup for stuck staging containers</p> <p>Usage: <pre><code>./scripts/maintenance/cleanup-staging.sh\n</code></pre></p> <p>When to use: - Deployment failed and containers are stuck - Need to force cleanup before redeployment - Containers in unhealthy state</p>"},{"location":"reference/scripts-organization/#33-testing-scripts","title":"3.3 Testing Scripts","text":"<p>Location: <code>scripts/testing/</code></p>"},{"location":"reference/scripts-organization/#test-healthsh","title":"test-health.sh","text":"<p>Purpose: Comprehensive health check for all environments</p> <p>Usage: <pre><code>./scripts/testing/test-health.sh [local|staging|prod]\n</code></pre></p> <p>Tests: - Nginx health endpoint - Frontend static health - Backend ping endpoint - Backend actuator health - Database connectivity - Full health chain</p>"},{"location":"reference/scripts-organization/#run-all-testssh","title":"run-all-tests.sh","text":"<p>Purpose: Run all test suites (backend + frontend + integration)</p> <p>Usage: <pre><code>./scripts/testing/run-all-tests.sh\n</code></pre></p>"},{"location":"reference/scripts-organization/#34-documentation-scripts","title":"3.4 Documentation Scripts","text":"<p>Location: <code>scripts/docs/</code></p>"},{"location":"reference/scripts-organization/#validate-docssh","title":"validate-docs.sh","text":"<p>Purpose: Validate documentation with Vale</p> <p>Usage: <pre><code>./scripts/docs/validate-docs.sh [path]\n</code></pre></p>"},{"location":"reference/scripts-organization/#35-setup-scripts","title":"3.5 Setup Scripts","text":"<p>Location: <code>scripts/</code></p>"},{"location":"reference/scripts-organization/#setup-permissionssh","title":"setup-permissions.sh","text":"<p>Purpose: Make all scripts executable</p> <p>Usage: <pre><code>./scripts/setup-permissions.sh\n</code></pre></p> <p>When to use: - After cloning repository - After adding new scripts - If permission denied errors occur</p>"},{"location":"reference/scripts-organization/#4-usage-guide","title":"4. Usage Guide","text":""},{"location":"reference/scripts-organization/#41-common-workflows","title":"4.1 Common Workflows","text":"<p>Before committing: <pre><code>./scripts/deployment/validate-deployment.sh local\n./scripts/docs/validate-docs.sh docs/\n</code></pre></p> <p>Before merging to staging: <pre><code>./scripts/testing/run-all-tests.sh\n./scripts/deployment/validate-deployment.sh staging\n</code></pre></p> <p>After deployment: <pre><code>./scripts/testing/test-health.sh staging\n</code></pre></p>"},{"location":"reference/scripts-organization/#42-integration-with-makefile","title":"4.2 Integration with Makefile","text":"<pre><code># Using Make (recommended)\nmake validate-local     # Calls validate-deployment.sh local\nmake validate-staging   # Calls validate-deployment.sh staging\nmake clean-staging      # Calls cleanup-staging.sh\n</code></pre>"},{"location":"reference/scripts-organization/#43-integration-with-cicd","title":"4.3 Integration with CI/CD","text":"<p>Scripts used in GitHub Actions workflows: - <code>ci-cd.yml</code> - Uses health check logic similar to validate-deployment.sh - <code>health-check.yml</code> - Calls test-health.sh - <code>vale-docs.yml</code> - Uses Vale configuration</p>"},{"location":"reference/scripts-organization/#5-adding-new-scripts","title":"5. Adding New Scripts","text":""},{"location":"reference/scripts-organization/#51-guidelines","title":"5.1 Guidelines","text":"<ol> <li>Choose appropriate directory:</li> <li>Deployment: <code>scripts/deployment/</code></li> <li>Testing: <code>scripts/testing/</code></li> <li>Maintenance: <code>scripts/maintenance/</code></li> <li> <p>Documentation: <code>scripts/docs/</code></p> </li> <li> <p>Naming convention:</p> </li> <li>Use kebab-case: <code>my-script.sh</code></li> <li> <p>Be descriptive: <code>cleanup-staging.sh</code> not <code>clean.sh</code></p> </li> <li> <p>Script template:</p> </li> </ol> <pre><code>#!/bin/bash\n# Brief description of script purpose\n# Usage: ./script-name.sh [arguments]\n\nset -e  # Exit on error\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nNC='\\033[0m'\n\n# Main logic here\necho -e \"${GREEN}Script completed${NC}\"\nexit 0\n</code></pre> <ol> <li>Make executable: <pre><code>chmod +x scripts/category/my-script.sh\n</code></pre></li> </ol>"},{"location":"reference/scripts-organization/#52-best-practices","title":"5.2 Best Practices","text":"<ul> <li>Use color coding (green=success, red=errors)</li> <li>Add help text when called without arguments</li> <li>Validate inputs</li> <li>Exit codes: 0 for success, non-zero for errors</li> <li>Use <code>set -e</code> for error handling</li> <li>Scripts should be idempotent (safe to run multiple times)</li> </ul>"},{"location":"reference/scripts-organization/#6-script-dependencies","title":"6. Script Dependencies","text":""},{"location":"reference/scripts-organization/#61-required-tools","title":"6.1 Required Tools","text":"Tool Purpose Scripts Using It bash Shell execution All scripts docker Container management Deployment/testing docker-compose Multi-container orchestration Deployment curl HTTP requests Health check vale Documentation validation validate-docs.sh"},{"location":"reference/scripts-organization/#62-optional-tools","title":"6.2 Optional Tools","text":"Tool Purpose jq JSON parsing make Task automation"},{"location":"reference/scripts-organization/#7-quick-reference","title":"7. Quick Reference","text":""},{"location":"reference/scripts-organization/#71-command-cheat-sheet","title":"7.1 Command Cheat Sheet","text":"<pre><code># Setup\n./scripts/setup-permissions.sh\n\n# Validation\n./scripts/deployment/validate-deployment.sh local\n./scripts/deployment/validate-deployment.sh staging\n./scripts/deployment/validate-deployment.sh prod\n\n# Testing\n./scripts/testing/test-health.sh local\n./scripts/testing/run-all-tests.sh\n\n# Maintenance\n./scripts/maintenance/cleanup-staging.sh\n\n# Documentation\n./scripts/docs/validate-docs.sh docs/\n</code></pre>"},{"location":"reference/scripts-organization/#72-make-commands","title":"7.2 Make Commands","text":"<pre><code>make validate-local\nmake validate-staging\nmake validate-prod\nmake test-local\nmake clean-local\nmake status\n</code></pre>"},{"location":"reference/scripts-organization/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development: Setup - Development environment setup</li> <li>Deployment: CI/CD - CI/CD pipeline</li> <li>Reference: Environments - Environment configuration</li> </ul>"},{"location":"reference/versioning/","title":"Version Management Reference","text":""},{"location":"reference/versioning/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Versioning Strategy</li> <li>Frontend Versioning</li> <li>Backend Versioning</li> <li>CI/CD Integration</li> <li>Release Procedures</li> <li>Best Practices</li> </ol>"},{"location":"reference/versioning/#1-overview","title":"1. Overview","text":"<p>Automated versioning system using Git tags. Version numbers are generated automatically for frontend and backend components.</p> <p>Principle: <pre><code>Git Tag \u2192 Automated Generation \u2192 Build \u2192 Deployment\n</code></pre></p> <p>Version Sources:</p> Component Source Example Frontend Git tags (automatic) <code>0.0.1-SNAPSHOT</code> Backend <code>build.gradle</code> (manual) <code>0.0.1-SNAPSHOT</code> Docker Images CI/CD pipeline <code>v1.2.3</code>"},{"location":"reference/versioning/#2-versioning-strategy","title":"2. Versioning Strategy","text":"<p>Follows Semantic Versioning (SemVer) 2.0.0: <code>MAJOR.MINOR.PATCH[-PRERELEASE]</code></p> Element When to Increment MAJOR Incompatible API changes MINOR Backward-compatible functionality PATCH Backward-compatible bug fixes <p>Git Describe Output:</p> Scenario Output Meaning Exact tag <code>v1.2.3</code> HEAD at tag v1.2.3 After tag <code>v1.2.3-5-ga1b2c3d</code> 5 commits after tag No tags <code>a1b2c3d</code> Commit hash only Uncommitted changes <code>v1.2.3-dirty</code> Working directory modified"},{"location":"reference/versioning/#3-frontend-versioning","title":"3. Frontend Versioning","text":""},{"location":"reference/versioning/#31-configuration","title":"3.1 Configuration","text":"<p>Base version: <code>portfolio-frontend/package.json</code></p> <pre><code>{\n  \"version\": \"0.0.1\"\n}\n</code></pre> <p>Generation script: <code>portfolio-frontend/scripts/generate-version.js</code></p>"},{"location":"reference/versioning/#32-automatic-generation","title":"3.2 Automatic Generation","text":"<p>Generated file: <code>portfolio-frontend/src/environments/version.ts</code></p> <pre><code>export const VERSION = 'v1.2.3-5-ga1b2c3d';\n</code></pre> <p>Triggers:</p> Event Command Development <code>npm start</code> Build <code>npm run build</code> Docker build Dockerfile execution"},{"location":"reference/versioning/#33-usage","title":"3.3 Usage","text":"<pre><code>import { VERSION } from '../environments/version';\n\n@Component({\n  selector: 'app-root',\n  template: `&lt;footer&gt;Version: {{ version }}&lt;/footer&gt;`\n})\nexport class AppComponent {\n  version = VERSION;\n}\n</code></pre> <p>Health endpoint:</p> <pre><code>curl http://localhost:4200/health.json\n</code></pre>"},{"location":"reference/versioning/#4-backend-versioning","title":"4. Backend Versioning","text":""},{"location":"reference/versioning/#41-configuration","title":"4.1 Configuration","text":"<p>File: <code>portfolio-backend/build.gradle</code></p> <pre><code>version = '0.0.1-SNAPSHOT'\n</code></pre>"},{"location":"reference/versioning/#42-access-via-actuator","title":"4.2 Access via Actuator","text":"<p>Endpoint: <code>/actuator/info</code></p> <pre><code>curl http://localhost:8080/actuator/info\n</code></pre> <p>Response:</p> <pre><code>{\n  \"build\": {\n    \"version\": \"0.0.1-SNAPSHOT\",\n    \"artifact\": \"portfolio-backend\"\n  }\n}\n</code></pre>"},{"location":"reference/versioning/#5-cicd-integration","title":"5. CI/CD Integration","text":""},{"location":"reference/versioning/#51-version-extraction","title":"5.1 Version Extraction","text":"<p>Workflow: <code>.github/workflows/ci-cd.yml</code></p> <pre><code>- name: Extract version from Git tags\n  run: |\n    VERSION=$(git describe --tags --always --dirty 2&gt;/dev/null || echo \"0.0.1-SNAPSHOT\")\n    echo \"VERSION=$VERSION\" &gt;&gt; $GITHUB_OUTPUT\n</code></pre>"},{"location":"reference/versioning/#52-docker-image-tagging","title":"5.2 Docker Image Tagging","text":"<p>Images tagged with multiple tags after deployment:</p> <pre><code>portfolio-backend:v1.2.3\nportfolio-backend:latest\nportfolio-backend:prod-latest\n</code></pre>"},{"location":"reference/versioning/#53-git-directory-requirement","title":"5.3 Git Directory Requirement","text":"<p>CI/CD pipeline copies <code>.git</code> directory to deployment location for frontend version generation.</p>"},{"location":"reference/versioning/#6-release-procedures","title":"6. Release Procedures","text":""},{"location":"reference/versioning/#61-standard-release","title":"6.1 Standard Release","text":"<pre><code>git add .\ngit commit -m \"feat: implement new feature\"\ngit tag -a v1.1.0 -m \"Release v1.1.0: New feature description\"\ngit push origin main v1.1.0\n</code></pre>"},{"location":"reference/versioning/#62-release-candidate","title":"6.2 Release Candidate","text":"<pre><code>git tag -a v1.1.0-rc1 -m \"Release Candidate 1 for v1.1.0\"\ngit push origin v1.1.0-rc1\n</code></pre>"},{"location":"reference/versioning/#63-hotfix-release","title":"6.3 Hotfix Release","text":"<pre><code>git tag -a v1.0.1 -m \"Hotfix: Critical bug correction\"\ngit push origin v1.0.1\n</code></pre>"},{"location":"reference/versioning/#64-manual-version-update","title":"6.4 Manual Version Update","text":"<p>Frontend: <pre><code># Edit portfolio-frontend/package.json \u2192 \"version\": \"1.1.0\"\nnpm run version:generate\nnpm run build\n</code></pre></p> <p>Backend: <pre><code># Edit portfolio-backend/build.gradle \u2192 version = '1.1.0'\n./gradlew clean bootJar\n</code></pre></p>"},{"location":"reference/versioning/#65-version-verification","title":"6.5 Version Verification","text":"<pre><code># Git version\ngit describe --tags --always --dirty\n\n# Frontend version\ncat portfolio-frontend/src/environments/version.ts\n\n# Backend version\ncurl http://localhost:8080/actuator/info | jq '.build.version'\n\n# Docker images\ndocker images | grep portfolio\n</code></pre>"},{"location":"reference/versioning/#7-best-practices","title":"7. Best Practices","text":""},{"location":"reference/versioning/#71-tagging-standards","title":"7.1 Tagging Standards","text":"<p>Use annotated tags with descriptive messages:</p> <pre><code># Good\ngit tag -a v1.0.0 -m \"Release 1.0.0: Add authentication and error handling\"\n\n# Avoid\ngit tag v1.0.0\n</code></pre>"},{"location":"security/","title":"Security Documentation","text":""},{"location":"security/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Authentication</li> <li>Authorization</li> <li>Password Security</li> <li>Rate Limiting</li> <li>Security Best Practices</li> <li>Initial Setup</li> </ol>"},{"location":"security/#1-introduction","title":"1. Introduction","text":"<p>This section provides comprehensive documentation of the Portfolio application security architecture. The application implements multiple layers of security including JWT authentication, role-based access control, password hashing, and rate limiting.</p> <p>Security Stack: - Authentication: JWT (JSON Web Tokens) with access + refresh tokens - Authorization: Spring Security with role-based access control (RBAC) - Password Hashing: BCrypt with salt (10 rounds) - Rate Limiting: Redis-backed IP-based rate limiting - HTTPS: SSL/TLS encryption in production</p> <p>Key Security Principles: - Defense in depth (multiple security layers) - Least privilege (users have minimum required permissions) - Stateless authentication (no server-side sessions) - Secure by default (restrictive default configuration) - Token rotation (automatic refresh token rotation)</p>"},{"location":"security/#2-authentication","title":"2. Authentication","text":""},{"location":"security/#21-authentication-architecture","title":"2.1 Authentication Architecture","text":"<p>File: authentication.md</p> <p>Description: Complete authentication architecture with JWT dual-token system, login flow, and token management.</p> <p>Key Features: - JWT dual-token system (access + refresh) - Stateless authentication (no server-side sessions) - Automatic token refresh via HTTP interceptor - Token revocation on logout (refresh tokens) - BCrypt password hashing</p> <p>Token Lifetimes: - Access Token: 15 minutes (JWT, stateless) - Refresh Token: 7 days (UUID, stored in database)</p> <p>Authentication Flow: <pre><code>User Login \u2192 Credentials Validation \u2192 Generate Tokens\n\u2192 Frontend stores in localStorage \u2192 Attach to requests\n\u2192 Token expires (401) \u2192 Automatic refresh \u2192 Retry request\n</code></pre></p>"},{"location":"security/#22-jwt-implementation","title":"2.2 JWT Implementation","text":"<p>File: jwt-implementation.md</p> <p>Description: Detailed JWT implementation with token generation, validation, and refresh flow.</p> <p>Key Components: - JwtTokenProvider: Token generation and validation service - JwtAuthenticationFilter: Spring Security filter for token validation - Frontend JWT Interceptor: Automatic token refresh on 401</p> <p>Token Structure: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"username\",\n  \"authorities\": [{\"authority\": \"ROLE_ADMIN\"}],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p> <p>Configuration: <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}      # HS256 secret (256+ bits)\n    expiration: 900000         # 15 minutes\n    refresh-expiration: 7      # 7 days\n</code></pre></p>"},{"location":"security/#3-authorization","title":"3. Authorization","text":""},{"location":"security/#31-role-based-access-control-rbac","title":"3.1 Role-Based Access Control (RBAC)","text":"<p>File: rbac.md</p> <p>Description: Complete RBAC implementation with roles, permissions, and endpoint protection.</p> <p>Roles:</p> Role Authority Description USER <code>ROLE_USER</code> Standard authenticated user ADMIN <code>ROLE_ADMIN</code> Administrator with full access <p>Endpoint Protection:</p> Endpoint Pattern Required Role Access <code>/api/auth/**</code> Public Login, refresh, logout <code>/api/projects</code> Public Read-only access <code>/api/articles</code> Public Published articles only <code>/api/admin/**</code> ROLE_ADMIN All admin operations <p>Implementation: - Backend: Spring Security <code>SecurityFilterChain</code> configuration - Frontend: Route guards (<code>authGuard</code>, <code>adminGuard</code>) - Method-level: <code>@PreAuthorize(\"hasRole('ADMIN')\")</code></p>"},{"location":"security/#4-password-security","title":"4. Password Security","text":""},{"location":"security/#41-password-management","title":"4.1 Password Management","text":"<p>File: password-management.md</p> <p>Description: Secure password management with BCrypt hashing and password change workflow.</p> <p>Hashing Configuration: - Algorithm: BCrypt with automatic salt generation - Strength: 10 rounds (1,024 iterations, ~100ms) - No plain-text storage (all passwords hashed)</p> <p>Password Requirements: - Minimum length: 8 characters (backend enforced) - Optional frontend validation: uppercase, lowercase, numbers</p> <p>Password Change Flow: 1. User submits current password + new password 2. Backend verifies current password (BCrypt comparison) 3. If valid: hash new password and update database 4. If invalid: return 400 Bad Request</p> <p>Security Features: - Current password verification required - BCrypt slow hashing (resistant to brute force) - Salted hashes (prevents rainbow table attacks) - No password reset feature (admin-managed system)</p>"},{"location":"security/#5-rate-limiting","title":"5. Rate Limiting","text":""},{"location":"security/#51-rate-limiting-implementation","title":"5.1 Rate Limiting Implementation","text":"<p>File: rate-limiting.md</p> <p>Description: IP-based rate limiting with Redis for spam prevention and abuse protection.</p> <p>Strategy: Fixed window (1-hour window, resets after expiration)</p> <p>Storage: Redis with atomic operations (thread-safe, distributed)</p> <p>Rate Limits by Environment:</p> Environment Max Requests/Hour Use Case Development 10 Lenient for testing Staging 5 Production-like testing Production 3 Strict spam prevention <p>Protected Endpoints: - <code>POST /api/contact</code> (public contact form)</p> <p>Redis Key Format: <code>rate_limit:contact:{ip_address}</code></p> <p>Error Response (429): <pre><code>{\n  \"status\": 429,\n  \"error\": \"Too Many Requests\",\n  \"message\": \"Rate limit exceeded. Maximum 3 messages per hour.\"\n}\n</code></pre></p> <p>Features: - IP extraction with X-Forwarded-For support (proxy-aware) - Atomic Redis increment operations (no race conditions) - Automatic cleanup via TTL (1 hour expiration) - Distributed tracking (works across multiple servers)</p>"},{"location":"security/#6-security-best-practices","title":"6. Security Best Practices","text":""},{"location":"security/#61-backend-security-checklist","title":"6.1 Backend Security Checklist","text":"<p>Authentication &amp; Authorization: - Short-lived access tokens (15 minutes) - Long-lived refresh tokens with database storage (revocable) - Token signature verification (HMAC-SHA256) - Role-based access control (RBAC) - Backend enforces all permissions (never trust frontend) - Method-level authorization with <code>@PreAuthorize</code></p> <p>Password Security: - BCrypt hashing with salt (10 rounds) - Current password verification for changes - No plain-text password storage - No password reset (admin-managed system)</p> <p>Input Validation: - Bean Validation (<code>@Valid</code>, <code>@NotBlank</code>, <code>@Size</code>) - MIME type validation (magic bytes, not file extensions) - File size limits (10 MB) - Path traversal prevention (sanitized filenames) - SVG sanitization (whitelist-based XSS/XXE prevention) - see svg-sanitization.md</p> <p>Rate Limiting: - IP-based rate limiting (contact form) - Redis-backed atomic operations - Environment-specific limits</p> <p>Error Handling: - Generic error messages (no sensitive info leak) - Consistent error response format - Stack traces disabled in production</p>"},{"location":"security/#62-frontend-security-checklist","title":"6.2 Frontend Security Checklist","text":"<p>Token Management: - localStorage for token storage (XSS mitigation via CSP) - Automatic token refresh via HTTP interceptor - Logout clears all stored tokens</p> <p>Route Protection: - authGuard for authenticated routes - adminGuard for admin-only routes - Redirect to login on unauthorized access</p> <p>Input Sanitization: - Angular built-in XSS protection (template binding) - Automatic escaping for user-generated content - Sanitization for innerHTML (when necessary)</p>"},{"location":"security/#63-production-deployment-security-checklist","title":"6.3 Production Deployment Security Checklist","text":"<p>Before Production Deployment:</p> <ul> <li> Change JWT secret to strong, random value (256+ bits)</li> <li> Enable HTTPS with valid SSL/TLS certificates</li> <li> Configure CORS (restrict allowed origins)</li> <li> Disable stack traces in error responses</li> <li> Enable production rate limits (strict values)</li> <li> Disable Swagger UI in production</li> <li> Configure firewall rules (database, Redis ports closed)</li> <li> Enable database backups (automated, encrypted)</li> <li> Set up monitoring and alerting (failed logins, rate limit violations)</li> <li> Review log levels (WARN or ERROR only in production)</li> <li> Validate all environment variables (no defaults in production)</li> <li> Test authentication and authorization flows</li> <li> Review file upload permissions and storage paths</li> <li> Enable Redis password authentication</li> <li> Configure session timeout (frontend activity monitor)</li> </ul>"},{"location":"security/#64-security-configuration-reference","title":"6.4 Security Configuration Reference","text":"<p>JWT Security: <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}              # Strong random secret (256+ bits)\n    expiration: 900000                 # 15 minutes\n    refresh-expiration: 7              # 7 days\n</code></pre></p> <p>Rate Limiting: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3         # Production: strict\n</code></pre></p> <p>File Upload Security: <pre><code>file:\n  upload:\n    max-size: 10MB                     # Prevent large uploads\n    allowed-extensions:                # Whitelist only\n      - jpg\n      - jpeg\n      - png\n      - webp\n      - pdf\n</code></pre></p> <p>CORS Configuration: <pre><code>cors:\n  allowed-origins: https://yoursite.com  # Production domain only\n  allowed-methods: GET,POST,PUT,DELETE\n  allowed-headers: Authorization,Content-Type\n</code></pre></p>"},{"location":"security/#7-initial-setup","title":"7. Initial Setup","text":"<p>File: initial-setup.md</p> <p>Description: Security-critical configuration required before production deployment.</p> <p>Required Environment Variables:</p> Variable Description Required In <code>ADMIN_PASSWORD_HASH</code> BCrypt hash for admin user All environments <code>JWT_SECRET</code> JWT signing secret (256+ bits) Prod, Staging <p>Configuration Steps: 1. Generate BCrypt hash for admin password 2. Generate secure JWT secret (openssl rand -base64 64) 3. Set environment variables in <code>.env</code> or CI/CD secrets 4. Configure Docker Compose to inject variables</p> <p>Validation: - <code>JwtSecurityConfig</code>: Validates JWT secret at startup (crashes if invalid in prod/staging) - <code>AdminSeeder</code>: Creates admin user from environment variable at startup</p>"},{"location":"security/#related-documentation","title":"Related Documentation","text":"<p>Security Documentation: - Initial Setup - Admin user and JWT secret configuration - SVG Sanitization - SVG upload security (XSS/XXE prevention) - JWT Implementation - JWT token generation and validation - RBAC - Role-based access control - Password Management - BCrypt hashing and password security - Rate Limiting - IP-based rate limiting - GDPR Compliance - Privacy features and cookie consent</p> <p>Related Modules: - API: Authentication - Authentication API endpoints - Architecture: Frontend - Frontend security patterns - Architecture: Error Handling - Error handling strategy - Features: Contact Form - Contact form with rate limiting - Features: File Storage - General file upload security - Reference: Configuration Properties - Security configuration - Reference: Error Codes - Security error codes (401, 403, 429) - Deployment: CI/CD - Secure deployment pipeline</p>"},{"location":"security/authentication/","title":"Authentication Architecture","text":""},{"location":"security/authentication/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>JWT Architecture</li> <li>Authentication Flow</li> <li>Token Management</li> <li>Security Features</li> <li>Configuration</li> </ol>"},{"location":"security/authentication/#1-overview","title":"1. Overview","text":"<p>The Portfolio application uses stateless JWT (JSON Web Tokens) authentication with a dual-token system.</p> <p>Technology Stack: - Backend: Spring Security 6.x + JJWT library - Frontend: Angular 18 with HTTP interceptors - Storage: Database for refresh tokens, localStorage for client tokens</p> <p>Key Features: - Stateless authentication (no server-side sessions) - Dual-token system (access + refresh) - Automatic token refresh - Role-based access control (RBAC) - BCrypt password hashing</p>"},{"location":"security/authentication/#2-jwt-architecture","title":"2. JWT Architecture","text":""},{"location":"security/authentication/#token-types","title":"Token Types","text":"<p>The system uses two types of JWT tokens:</p>"},{"location":"security/authentication/#access-token","title":"Access Token","text":"<p>Purpose: Short-lived token for API requests</p> <p>Characteristics: - Validity: 15 minutes - Storage: Client-side only (localStorage) - Usage: Included in <code>Authorization</code> header for all protected requests - Cannot be revoked: Stateless design, valid until expiration</p> <p>Token Structure: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"admin\",\n  \"authorities\": [\n    {\n      \"authority\": \"ROLE_ADMIN\"\n    }\n  ],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p> <p>Payload Fields: | Field | Description | |-------|-------------| | <code>type</code> | Token type (\"access\") | | <code>sub</code> | Subject (username) | | <code>authorities</code> | User roles (for authorization) | | <code>iss</code> | Issuer (backend identifier) | | <code>aud</code> | Audience (frontend identifier) | | <code>iat</code> | Issued at (timestamp) | | <code>exp</code> | Expiration (timestamp) |</p>"},{"location":"security/authentication/#refresh-token","title":"Refresh Token","text":"<p>Purpose: Long-lived token for obtaining new access tokens</p> <p>Characteristics: - Validity: 7 days - Storage: Client-side (localStorage) + Database - Usage: Used only for <code>/api/auth/refresh</code> endpoint - Can be revoked: Stored in database, deleted on logout</p> <p>Token Structure: <pre><code>{\n  \"type\": \"refresh\",\n  \"sub\": \"admin\",\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700604800\n}\n</code></pre></p> <p>Database Storage: <pre><code>CREATE TABLE refresh_tokens (\n  id BIGSERIAL PRIMARY KEY,\n  token VARCHAR(500) NOT NULL UNIQUE,\n  user_id BIGINT NOT NULL REFERENCES users(id),\n  expiry_date TIMESTAMP NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n</code></pre></p>"},{"location":"security/authentication/#3-authentication-flow","title":"3. Authentication Flow","text":""},{"location":"security/authentication/#31-login-flow","title":"3.1 Login Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502                \u2502 Spring Boot \u2502               \u2502 Database \u2502\n\u2502 Client  \u2502                \u2502   Backend   \u2502               \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                            \u2502                           \u2502\n     \u2502 1. POST /auth/login        \u2502                           \u2502\n     \u2502    {username, password}    \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 2. Load user by username  \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                            \u2502   User entity             \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 3. Verify password        \u2502\n     \u2502                            \u2502    (BCrypt comparison)    \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 4. Generate access token  \u2502\n     \u2502                            \u2502    (JWT, 15 min)          \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 5. Generate refresh token \u2502\n     \u2502                            \u2502    (JWT, 7 days)          \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 6. Store refresh token    \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 7. Return tokens           \u2502                           \u2502\n     \u2502    {accessToken, ...}      \u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 8. Store tokens            \u2502                           \u2502\n     \u2502    localStorage.setItem()  \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n</code></pre> <p>Steps: 1. User submits username and password 2. Backend loads user from database 3. Password verified with BCrypt 4. Access token generated (15 min expiry) 5. Refresh token generated (7 day expiry) 6. Refresh token stored in database with user association 7. Both tokens returned to client 8. Client stores tokens in localStorage</p>"},{"location":"security/authentication/#32-token-refresh-flow","title":"3.2 Token Refresh Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502                \u2502 Spring Boot \u2502               \u2502 Database \u2502\n\u2502 Client  \u2502                \u2502   Backend   \u2502               \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                            \u2502                           \u2502\n     \u2502 1. Access token expired    \u2502                           \u2502\n     \u2502    (detected via 401)      \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 2. POST /auth/refresh      \u2502                           \u2502\n     \u2502    {refreshToken}          \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 3. Validate refresh token \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                            \u2502   Token exists &amp; valid    \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 4. Delete old token       \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 5. Generate new tokens    \u2502\n     \u2502                            \u2502    (access + refresh)     \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 6. Store new refresh token\u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 7. Return new tokens       \u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 8. Update localStorage     \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 9. Retry original request  \u2502                           \u2502\n     \u2502    with new access token   \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502    Success                 \u2502                           \u2502\n</code></pre> <p>Key Points: - Old refresh token is deleted (single-use) - New refresh token is generated and stored - Access token is also regenerated - Client automatically retries failed request</p>"},{"location":"security/authentication/#33-logout-flow","title":"3.3 Logout Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502                \u2502 Spring Boot \u2502               \u2502 Database \u2502\n\u2502 Client  \u2502                \u2502   Backend   \u2502               \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                            \u2502                           \u2502\n     \u2502 1. POST /auth/logout       \u2502                           \u2502\n     \u2502    {refreshToken}          \u2502                           \u2502\n     \u2502    Authorization: Bearer   \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 2. Delete refresh token   \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 3. Success response        \u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 4. Clear localStorage      \u2502                           \u2502\n     \u2502    removeItem(tokens)      \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 5. Redirect to login       \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n</code></pre> <p>Note: Access token cannot be revoked (stateless), but will expire within 15 minutes.</p>"},{"location":"security/authentication/#4-token-management","title":"4. Token Management","text":""},{"location":"security/authentication/#token-generation","title":"Token Generation","text":"<p>Backend Code (JwtTokenProvider.java): <pre><code>@Component\npublic class JwtTokenProvider {\n\n    @Value(\"${jwt.secret}\")\n    private String jwtSecret;\n\n    @Value(\"${jwt.access-token-expiration}\")\n    private long accessTokenExpiration; // 900000 ms (15 min)\n\n    @Value(\"${jwt.refresh-token-expiration}\")\n    private long refreshTokenExpiration; // 604800000 ms (7 days)\n\n    public String generateAccessToken(Authentication authentication) {\n        UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n\n        return Jwts.builder()\n                .claim(\"type\", \"access\")\n                .claim(\"authorities\", userDetails.getAuthorities())\n                .setSubject(userDetails.getUsername())\n                .setIssuer(\"portfolio-backend\")\n                .setAudience(\"portfolio-frontend\")\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + accessTokenExpiration))\n                .signWith(SignatureAlgorithm.HS256, jwtSecret)\n                .compact();\n    }\n\n    public String generateRefreshToken(String username) {\n        return Jwts.builder()\n                .claim(\"type\", \"refresh\")\n                .setSubject(username)\n                .setIssuer(\"portfolio-backend\")\n                .setAudience(\"portfolio-frontend\")\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + refreshTokenExpiration))\n                .signWith(SignatureAlgorithm.HS256, jwtSecret)\n                .compact();\n    }\n}\n</code></pre></p>"},{"location":"security/authentication/#token-validation","title":"Token Validation","text":"<p>Backend Code: <pre><code>public boolean validateToken(String token) {\n    try {\n        Jwts.parser()\n            .setSigningKey(jwtSecret)\n            .parseClaimsJws(token);\n        return true;\n    } catch (SignatureException ex) {\n        log.error(\"[JWT_VALIDATION] Invalid JWT signature\");\n    } catch (MalformedJwtException ex) {\n        log.error(\"[JWT_VALIDATION] Invalid JWT token\");\n    } catch (ExpiredJwtException ex) {\n        log.error(\"[JWT_VALIDATION] Expired JWT token\");\n    } catch (UnsupportedJwtException ex) {\n        log.error(\"[JWT_VALIDATION] Unsupported JWT token\");\n    } catch (IllegalArgumentException ex) {\n        log.error(\"[JWT_VALIDATION] JWT claims string is empty\");\n    }\n    return false;\n}\n</code></pre></p>"},{"location":"security/authentication/#token-rotation","title":"Token Rotation","text":"<p>Refresh Token Rotation (security best practice):</p> <ol> <li>When <code>/auth/refresh</code> is called:</li> <li>Old refresh token is validated</li> <li>Old refresh token is deleted from database</li> <li>New refresh token is generated and stored</li> <li> <p>New access token is also generated</p> </li> <li> <p>This prevents:</p> </li> <li>Refresh token reuse attacks</li> <li>Stolen token exploitation</li> <li>Long-term token persistence</li> </ol> <p>Implementation: <pre><code>public AuthResponse refreshTokens(RefreshTokenRequest request) {\n    String refreshToken = request.getRefreshToken();\n\n    // Validate token\n    if (!jwtTokenProvider.validateToken(refreshToken)) {\n        throw new InvalidTokenException(\"Invalid refresh token\");\n    }\n\n    // Get username from token\n    String username = jwtTokenProvider.getUsernameFromToken(refreshToken);\n\n    // Delete old refresh token (single-use)\n    refreshTokenRepository.deleteByToken(refreshToken);\n\n    // Generate new tokens\n    User user = userRepository.findByUsername(username)\n        .orElseThrow(() -&gt; new UserNotFoundException(\"User not found\"));\n\n    String newAccessToken = jwtTokenProvider.generateAccessToken(user);\n    String newRefreshToken = jwtTokenProvider.generateRefreshToken(user.getUsername());\n\n    // Store new refresh token\n    RefreshToken newToken = new RefreshToken(newRefreshToken, user);\n    refreshTokenRepository.save(newToken);\n\n    return new AuthResponse(newAccessToken, newRefreshToken);\n}\n</code></pre></p>"},{"location":"security/authentication/#user-details-loading","title":"User Details Loading","text":"<p>CustomUserDetailsService handles user loading for Spring Security authentication.</p> <p>Location: <code>security/CustomUserDetailsService.java</code></p> <p>Implementation: <pre><code>@Service\n@RequiredArgsConstructor\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(\"User not found: \" + username));\n\n        return org.springframework.security.core.userdetails.User.builder()\n            .username(user.getUsername())\n            .password(user.getPassword())\n            .authorities(user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList()))\n            .build();\n    }\n}\n</code></pre></p> <p>Purpose: - Loads user from database by username - Converts application <code>User</code> entity to Spring Security <code>UserDetails</code> - Maps user roles to Spring Security authorities - Used by <code>DaoAuthenticationProvider</code> during authentication</p>"},{"location":"security/authentication/#5-security-features","title":"5. Security Features","text":""},{"location":"security/authentication/#password-security","title":"Password Security","text":"<p>Hashing Algorithm: BCrypt with strength 10</p> <p>Example: <pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder(10);\n}\n\n// Usage\nString hashedPassword = passwordEncoder.encode(rawPassword);\nboolean matches = passwordEncoder.matches(rawPassword, hashedPassword);\n</code></pre></p> <p>Benefits: - Salt automatically generated - Computationally expensive (prevents brute-force) - Industry-standard algorithm</p>"},{"location":"security/authentication/#token-security","title":"Token Security","text":"<p>JWT Secret: - Minimum 256 bits (32 characters) - Stored in environment variables (not in code) - Different secrets for dev/staging/prod</p> <p>Token Expiration: - Access: 15 minutes (limits exposure) - Refresh: 7 days (balance between security and UX)</p> <p>Token Validation: - Signature verification - Expiration check - Issuer/audience validation - Type claim verification</p>"},{"location":"security/authentication/#cors-configuration","title":"CORS Configuration","text":"<p>Allowed Origins: <pre><code>@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(\n        \"http://localhost:4200\",  // Angular dev\n        \"http://localhost:3000\",  // Staging\n        \"https://yoursite.com\"    // Production\n    ));\n    configuration.setAllowedMethods(Arrays.asList(\"GET\", \"POST\", \"PUT\", \"DELETE\"));\n    configuration.setAllowedHeaders(Arrays.asList(\"*\"));\n    configuration.setAllowCredentials(true);\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(\"/api/**\", configuration);\n    return source;\n}\n</code></pre></p>"},{"location":"security/authentication/#6-configuration","title":"6. Configuration","text":""},{"location":"security/authentication/#application-properties","title":"Application Properties","text":"<p>File: <code>application.yml</code></p> <pre><code>jwt:\n  secret: ${JWT_SECRET:your-256-bit-secret-key-change-in-production}\n  access-token-expiration: 900000      # 15 minutes in milliseconds\n  refresh-token-expiration: 604800000  # 7 days in milliseconds\n  issuer: portfolio-backend\n  audience: portfolio-frontend\n</code></pre>"},{"location":"security/authentication/#environment-variables","title":"Environment Variables","text":"<p>Required: <pre><code># Production\nJWT_SECRET=your-strong-secret-key-min-256-bits\n\n# Development (optional, uses default)\n# JWT_SECRET not set, uses application.yml default\n</code></pre></p>"},{"location":"security/authentication/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Authentication - Authentication endpoints</li> <li>Security: RBAC - Role-based access control</li> <li>Security: Password Management - Password policies</li> <li>Development: Testing - Testing authentication</li> </ul>"},{"location":"security/gdpr-compliance/","title":"GDPR Compliance","text":""},{"location":"security/gdpr-compliance/#overview","title":"Overview","text":"<p>This portfolio application is designed to be GDPR-compliant by default. All tracking and analytics features are disabled out of the box, requiring no cookie consent banner.</p>"},{"location":"security/gdpr-compliance/#privacy-by-default-architecture","title":"Privacy-by-Default Architecture","text":"<p>The application follows a \"privacy by default\" approach:</p> <ul> <li>No tracking cookies are set by default</li> <li>No analytics are collected without explicit opt-in</li> <li>No user data is stored in the database from the contact form</li> <li>Contact form submissions are sent directly via email and not persisted</li> </ul>"},{"location":"security/gdpr-compliance/#feature-flags","title":"Feature Flags","text":"<p>Three feature flags control optional tracking features. All are disabled (<code>false</code>) by default.</p>"},{"location":"security/gdpr-compliance/#configuration","title":"Configuration","text":"<p>Environment Variables (.env): <pre><code># Feature flags - disabled by default for GDPR compliance\nSENTRY_ENABLED=false\nWEB_VITALS_ENABLED=false\nVISITOR_TRACKING_ENABLED=false\n</code></pre></p>"},{"location":"security/gdpr-compliance/#sentry_enabled","title":"SENTRY_ENABLED","text":"<p>Purpose: Error tracking and performance monitoring</p> <p>When enabled: - Captures JavaScript errors and exceptions - Reports to Sentry.io dashboard - Requires <code>SENTRY_DSN_FRONTEND</code> to be configured</p> <p>GDPR Impact: - Collects IP addresses (anonymized by default) - Collects browser and device information - Requires cookie consent if enabled</p>"},{"location":"security/gdpr-compliance/#web_vitals_enabled","title":"WEB_VITALS_ENABLED","text":"<p>Purpose: Core Web Vitals performance metrics collection</p> <p>When enabled: - Collects LCP (Largest Contentful Paint) - Collects FID (First Input Delay) - Collects CLS (Cumulative Layout Shift) - Reports metrics to backend for aggregation</p> <p>GDPR Impact: - Collects performance data tied to page visits - Requires cookie consent if enabled</p>"},{"location":"security/gdpr-compliance/#visitor_tracking_enabled","title":"VISITOR_TRACKING_ENABLED","text":"<p>Purpose: Real-time active users count on admin dashboard</p> <p>When enabled: - Sends heartbeat signals to track active sessions - Uses sessionStorage for session identification - Displays live visitor count in admin panel</p> <p>GDPR Impact: - Creates session identifiers stored in sessionStorage - Tracks user activity patterns - Requires cookie consent if enabled</p>"},{"location":"security/gdpr-compliance/#enabling-tracking-features","title":"Enabling Tracking Features","text":"<p>To enable any tracking feature:</p> <ol> <li>Implement a cookie consent banner (required for GDPR compliance)</li> <li>Set the environment variable to <code>true</code> in your <code>.env</code> file</li> <li>Rebuild and redeploy the application</li> </ol> <p>The <code>generate-env.js</code> script injects these values during the CI/CD build process.</p>"},{"location":"security/gdpr-compliance/#legal-pages","title":"Legal Pages","text":"<p>Two legal pages are implemented and required:</p>"},{"location":"security/gdpr-compliance/#privacy-policy-privacy-policy","title":"Privacy Policy (<code>/privacy-policy</code>)","text":"<p>Content includes: - Data controller information - Types of data collected (contact form only) - Purpose of data processing - Data retention policy - User rights (access, rectification, deletion) - Cookie/tracking disclosure</p>"},{"location":"security/gdpr-compliance/#legal-notice-legal","title":"Legal Notice (<code>/legal</code>)","text":"<p>Content includes: - Publisher information (name, email, status) - Hosting details (self-hosted, domain registrar, CDN) - Intellectual property statement - Liability disclaimer</p>"},{"location":"security/gdpr-compliance/#contact-form-consent","title":"Contact Form Consent","text":"<p>The contact form includes a mandatory consent checkbox:</p> <ul> <li>Users must accept the privacy policy before submitting</li> <li>Form validation prevents submission without consent</li> <li>Link to privacy policy opens in new tab</li> </ul> <p>Implementation: - Frontend validation via <code>Validators.requiredTrue</code> - Consent not stored (data not persisted) - Email sent only after consent acceptance</p>"},{"location":"security/gdpr-compliance/#data-flow","title":"Data Flow","text":"<pre><code>User submits contact form\n         \u2502\n         \u25bc\n   Consent checked \u2500\u2500\u2500\u2500\u25ba If not checked: Form blocked\n         \u2502\n         \u25bc\n   Data sent to backend\n         \u2502\n         \u25bc\n   Email sent to admin \u2500\u2500\u2500\u2500\u25ba No database storage\n         \u2502\n         \u25bc\n   Success response\n</code></pre>"},{"location":"security/gdpr-compliance/#compliance-checklist","title":"Compliance Checklist","text":"Requirement Status Privacy Policy page Implemented Legal Notice page Implemented Contact form consent Implemented No tracking by default Enabled Feature flags for tracking Implemented Data not stored in DB Confirmed"},{"location":"security/gdpr-compliance/#related-files","title":"Related Files","text":"<p>Frontend: - <code>src/environments/environment.ts</code> - Development feature flags - <code>src/environments/environment.prod.ts</code> - Production feature flags - <code>src/app/pages/legal/privacy-policy/</code> - Privacy policy component - <code>src/app/pages/legal/legal-notice/</code> - Legal notice component - <code>src/app/components/contact-form/</code> - Contact form with consent</p> <p>Configuration: - <code>.env.example</code> - Environment variable documentation - <code>scripts/generate-env.js</code> - Feature flag injection script</p>"},{"location":"security/infrastructure-credentials/","title":"Infrastructure Credentials","text":"<p>Configuration for infrastructure services: Redis, RabbitMQ, Elasticsearch, Sentry, and Grafana.</p>"},{"location":"security/infrastructure-credentials/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Redis Configuration</li> <li>RabbitMQ Configuration</li> <li>Elasticsearch Configuration</li> <li>Observability Configuration</li> <li>Environment Variables Summary</li> <li>Docker Compose Configuration</li> </ol>"},{"location":"security/infrastructure-credentials/#1-overview","title":"1. Overview","text":"<p>Infrastructure credentials for services used by the Portfolio application.</p>"},{"location":"security/infrastructure-credentials/#11-requirements-by-environment","title":"1.1 Requirements by Environment","text":"Variable Dev (local) Staging Production <code>REDIS_PASSWORD</code> Optional Required Required <code>RABBITMQ_USERNAME</code> Required Required Required <code>RABBITMQ_PASSWORD</code> Required Required Required <code>ELASTICSEARCH_PASSWORD</code> Optional Optional Required <code>SENTRY_DSN</code> Optional Optional Recommended <code>SENTRY_DSN_FRONTEND</code> Optional Optional Recommended <code>GRAFANA_ADMIN_PASSWORD</code> N/A Optional Required <p>For core security (Admin, JWT, Database, Mail), see Initial Setup.</p>"},{"location":"security/infrastructure-credentials/#12-what-happens-if-missing","title":"1.2 What Happens If Missing?","text":"Variable Dev Staging/Prod <code>REDIS_PASSWORD</code> Redis starts without auth Container fails to start <code>RABBITMQ_USERNAME/PASSWORD</code> Uses defaults Container fails to start <code>ELASTICSEARCH_PASSWORD</code> Uses \"changeme\" Should be configured <code>SENTRY_DSN</code> Error tracking disabled Error tracking disabled <code>GRAFANA_ADMIN_PASSWORD</code> N/A Monitoring inaccessible"},{"location":"security/infrastructure-credentials/#2-redis-configuration","title":"2. Redis Configuration","text":""},{"location":"security/infrastructure-credentials/#21-overview","title":"2.1 Overview","text":"<p>Redis is used for caching and rate limiting.</p> <p>Required Variable (staging/prod): - <code>REDIS_PASSWORD</code>: Redis authentication password</p>"},{"location":"security/infrastructure-credentials/#22-generate-password","title":"2.2 Generate Password","text":"<pre><code>openssl rand -base64 32\n</code></pre>"},{"location":"security/infrastructure-credentials/#23-set-environment-variable","title":"2.3 Set Environment Variable","text":"<p>CI/CD (GitHub Actions): - Add <code>REDIS_PASSWORD</code> as a repository secret</p> <p>Docker Compose (staging/prod): <pre><code>redis-cache:\n  command: redis-server --requirepass ${REDIS_PASSWORD:?REDIS_PASSWORD required}\n</code></pre></p>"},{"location":"security/infrastructure-credentials/#3-rabbitmq-configuration","title":"3. RabbitMQ Configuration","text":""},{"location":"security/infrastructure-credentials/#31-overview","title":"3.1 Overview","text":"<p>RabbitMQ is used for asynchronous message processing: - Email sending - Image processing - Audit logging</p> <p>Required Variables: - <code>RABBITMQ_USERNAME</code>: RabbitMQ admin username - <code>RABBITMQ_PASSWORD</code>: RabbitMQ admin password</p>"},{"location":"security/infrastructure-credentials/#32-generate-credentials","title":"3.2 Generate Credentials","text":"<p>Username: Use a descriptive name like <code>portfolio_prod</code> or <code>portfolio_staging</code></p> <p>Password: <pre><code>openssl rand -base64 32\n</code></pre></p>"},{"location":"security/infrastructure-credentials/#33-set-environment-variables","title":"3.3 Set Environment Variables","text":"<p>CI/CD (GitHub Actions): - Add <code>RABBITMQ_USERNAME</code> as a repository secret - Add <code>RABBITMQ_PASSWORD</code> as a repository secret</p> <p>Docker Compose: <pre><code>rabbitmq:\n  environment:\n    RABBITMQ_DEFAULT_USER: ${RABBITMQ_USERNAME:?RABBITMQ_USERNAME required}\n    RABBITMQ_DEFAULT_PASS: ${RABBITMQ_PASSWORD:?RABBITMQ_PASSWORD required}\n</code></pre></p>"},{"location":"security/infrastructure-credentials/#4-elasticsearch-configuration","title":"4. Elasticsearch Configuration","text":""},{"location":"security/infrastructure-credentials/#41-overview","title":"4.1 Overview","text":"<p>Elasticsearch is used for full-text search on articles and projects.</p> <p>Required Variable (prod): - <code>ELASTICSEARCH_PASSWORD</code>: Password for the <code>elastic</code> user</p>"},{"location":"security/infrastructure-credentials/#42-generate-password","title":"4.2 Generate Password","text":"<pre><code>openssl rand -base64 32\n</code></pre>"},{"location":"security/infrastructure-credentials/#43-set-environment-variable","title":"4.3 Set Environment Variable","text":"<p>CI/CD (GitHub Actions): - Add <code>ELASTICSEARCH_PASSWORD</code> as a repository secret</p> <p>Docker Compose: <pre><code>elasticsearch:\n  environment:\n    - ELASTIC_PASSWORD=${ELASTICSEARCH_PASSWORD:-changeme}\n</code></pre></p>"},{"location":"security/infrastructure-credentials/#5-observability-configuration","title":"5. Observability Configuration","text":""},{"location":"security/infrastructure-credentials/#51-sentry-error-tracking","title":"5.1 Sentry Error Tracking","text":"<p>Sentry is used for error tracking in backend and frontend.</p> <p>Required Variables: - <code>SENTRY_DSN</code>: Backend Sentry DSN - <code>SENTRY_DSN_FRONTEND</code>: Frontend Sentry DSN</p> <p>Get DSN from Sentry: 1. Create a project at https://sentry.io 2. Go to Settings &gt; Projects &gt; [Project] &gt; Client Keys (DSN) 3. Copy the DSN URL</p> <p>CI/CD (GitHub Actions): - Add <code>SENTRY_DSN</code> as a repository secret - Add <code>SENTRY_DSN_FRONTEND</code> as a repository secret</p>"},{"location":"security/infrastructure-credentials/#52-grafana-monitoring","title":"5.2 Grafana Monitoring","text":"<p>Grafana is used for monitoring dashboards.</p> <p>Required Variable (prod): - <code>GRAFANA_ADMIN_PASSWORD</code>: Admin password for Grafana UI</p> <p>Generate Password: <pre><code>openssl rand -base64 24\n</code></pre></p> <p>CI/CD (GitHub Actions): - Add <code>GRAFANA_ADMIN_PASSWORD</code> as a repository secret</p>"},{"location":"security/infrastructure-credentials/#6-environment-variables-summary","title":"6. Environment Variables Summary","text":""},{"location":"security/infrastructure-credentials/#61-all-infrastructure-variables","title":"6.1 All Infrastructure Variables","text":"Variable Description Required In <code>REDIS_PASSWORD</code> Redis authentication Staging/Prod <code>RABBITMQ_USERNAME</code> RabbitMQ username All <code>RABBITMQ_PASSWORD</code> RabbitMQ password All <code>ELASTICSEARCH_PASSWORD</code> Elasticsearch password Prod <code>SENTRY_DSN</code> Backend Sentry DSN Recommended <code>SENTRY_DSN_FRONTEND</code> Frontend Sentry DSN Recommended <code>GRAFANA_ADMIN_PASSWORD</code> Grafana admin password Prod <code>DEPLOY_BASE_PATH</code> CI/CD deployment path CI/CD only"},{"location":"security/infrastructure-credentials/#62-validation-checklist","title":"6.2 Validation Checklist","text":"<p>For Development (local): - [ ] <code>RABBITMQ_USERNAME</code> and <code>RABBITMQ_PASSWORD</code> are set - [ ] (Optional) <code>ELASTICSEARCH_PASSWORD</code> for search</p> <p>For Staging/Production: - [ ] <code>REDIS_PASSWORD</code> is set with secure password - [ ] <code>RABBITMQ_USERNAME</code> and <code>RABBITMQ_PASSWORD</code> are set - [ ] <code>ELASTICSEARCH_PASSWORD</code> is set (prod) - [ ] <code>SENTRY_DSN</code> and <code>SENTRY_DSN_FRONTEND</code> are configured - [ ] <code>GRAFANA_ADMIN_PASSWORD</code> is set - [ ] CI/CD secrets are configured in GitHub Actions</p>"},{"location":"security/infrastructure-credentials/#7-docker-compose-configuration","title":"7. Docker Compose Configuration","text":""},{"location":"security/infrastructure-credentials/#71-docker-composeyml-base","title":"7.1 docker-compose.yml (base)","text":"<pre><code>services:\n  spring-backend:\n    environment:\n      - RABBITMQ_USERNAME=${RABBITMQ_USERNAME}\n      - RABBITMQ_PASSWORD=${RABBITMQ_PASSWORD}\n      - ELASTICSEARCH_PASSWORD=${ELASTICSEARCH_PASSWORD:-changeme}\n      - SENTRY_DSN=${SENTRY_DSN:-}\n\n  rabbitmq:\n    environment:\n      RABBITMQ_DEFAULT_USER: ${RABBITMQ_USERNAME}\n      RABBITMQ_DEFAULT_PASS: ${RABBITMQ_PASSWORD}\n\n  elasticsearch:\n    environment:\n      - ELASTIC_PASSWORD=${ELASTICSEARCH_PASSWORD:-changeme}\n</code></pre>"},{"location":"security/infrastructure-credentials/#72-docker-composeprodyml","title":"7.2 docker-compose.prod.yml","text":"<pre><code>services:\n  spring-backend:\n    environment:\n      - REDIS_PASSWORD=${REDIS_PASSWORD}\n      - RABBITMQ_USERNAME=${RABBITMQ_USERNAME:?RABBITMQ_USERNAME required}\n      - RABBITMQ_PASSWORD=${RABBITMQ_PASSWORD:?RABBITMQ_PASSWORD required}\n\n  redis-cache:\n    command: redis-server --requirepass ${REDIS_PASSWORD:?REDIS_PASSWORD required}\n\n  rabbitmq:\n    environment:\n      RABBITMQ_DEFAULT_USER: ${RABBITMQ_USERNAME:?RABBITMQ_USERNAME required}\n      RABBITMQ_DEFAULT_PASS: ${RABBITMQ_PASSWORD:?RABBITMQ_PASSWORD required}\n</code></pre>"},{"location":"security/infrastructure-credentials/#73-env-file-template","title":"7.3 .env File Template","text":"<p>For Development (local): <pre><code>RABBITMQ_USERNAME=portfolio_dev\nRABBITMQ_PASSWORD=local_rabbitmq_password\nELASTICSEARCH_PASSWORD=changeme\n</code></pre></p> <p>For Staging/Production: <pre><code>REDIS_PASSWORD=secure_redis_password\nRABBITMQ_USERNAME=portfolio_prod\nRABBITMQ_PASSWORD=secure_rabbitmq_password\nELASTICSEARCH_PASSWORD=secure_elasticsearch_password\nSENTRY_DSN=https://xxx@sentry.io/xxx\nSENTRY_DSN_FRONTEND=https://xxx@sentry.io/xxx\nGRAFANA_ADMIN_PASSWORD=secure_grafana_password\n</code></pre></p>"},{"location":"security/infrastructure-credentials/#related-documentation","title":"Related Documentation","text":"<ul> <li>Initial Setup - Core security (Admin, JWT, Database, Mail)</li> <li>Messaging - RabbitMQ usage</li> <li>Search - Elasticsearch usage</li> <li>Observability - Grafana dashboards</li> <li>Configuration Properties - All configuration options</li> </ul>"},{"location":"security/initial-setup/","title":"Initial Security Setup","text":"<p>Core security configuration for the Portfolio application.</p>"},{"location":"security/initial-setup/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Admin User Setup</li> <li>JWT Secret Setup</li> <li>Database Password Setup</li> <li>Mail Configuration</li> <li>Environment Variables Summary</li> <li>Docker Compose Configuration</li> </ol>"},{"location":"security/initial-setup/#1-overview","title":"1. Overview","text":"<p>Security-critical configuration for the Portfolio application. Requirements vary by environment.</p>"},{"location":"security/initial-setup/#11-requirements-by-environment","title":"1.1 Requirements by Environment","text":"Variable Dev (local) Staging Production <code>DB_USER_PASSWORD</code> Required Required Required <code>MAIL_USERNAME</code> Required Required Required <code>MAIL_APP_PASSWORD</code> Required Required Required <code>JWT_SECRET</code> Optional (uses default) Required Required <code>ADMIN_PASSWORD_HASH</code> Optional Required Required <p>For infrastructure credentials (Redis, RabbitMQ, Elasticsearch, Sentry, Grafana), see Infrastructure Credentials.</p>"},{"location":"security/initial-setup/#12-security-principles","title":"1.2 Security Principles","text":"<ul> <li>No hardcoded credentials in codebase</li> <li>Environment-based configuration (different values per environment)</li> <li>Application startup validation (fails fast if misconfigured in prod)</li> <li>BCrypt for password hashing (one-way, salted)</li> </ul>"},{"location":"security/initial-setup/#2-admin-user-setup","title":"2. Admin User Setup","text":""},{"location":"security/initial-setup/#21-adminseeder-overview","title":"2.1 AdminSeeder Overview","text":"<p>Admin user creation is handled by <code>AdminSeeder</code> at application startup.</p> <p>Behavior: - Checks if admin user exists (by username) - If not exists and <code>ADMIN_PASSWORD_HASH</code> is set: creates admin user - If not exists and hash is missing: logs warning (dev) or error (prod/staging) - Never overwrites existing admin user</p> <p>Default Admin Credentials: - Username: <code>admin</code> (fixed) - Email: <code>admin@portfolio.local</code> (fixed, not used for login) - Role: <code>ROLE_ADMIN</code></p>"},{"location":"security/initial-setup/#22-generate-bcrypt-hash","title":"2.2 Generate BCrypt Hash","text":"<p>Using the provided script (recommended):</p> <pre><code>./scripts/security/generate-bcrypt-hash.sh\n</code></pre> <p>Using Python:</p> <pre><code>pip install bcrypt\npython -c \"import bcrypt; print(bcrypt.hashpw(b'YourPassword', bcrypt.gensalt(10)).decode())\"\n</code></pre> <p>Using htpasswd:</p> <pre><code>htpasswd -nbBC 10 \"\" \"YourPassword\" | tr -d ':\\n' | sed 's/$2y/$2a/'\n</code></pre> <p>Hash Format: Must start with <code>$2a$</code>, <code>$2b$</code>, or <code>$2y$</code>.</p>"},{"location":"security/initial-setup/#23-set-environment-variable","title":"2.3 Set Environment Variable","text":"<p>CI/CD (GitHub Actions): - Add <code>ADMIN_PASSWORD_HASH</code> as a repository secret</p> <p>Important: Use single quotes to prevent shell expansion of <code>$</code> characters.</p>"},{"location":"security/initial-setup/#3-jwt-secret-setup","title":"3. JWT Secret Setup","text":""},{"location":"security/initial-setup/#31-jwtsecurityconfig-overview","title":"3.1 JwtSecurityConfig Overview","text":"<p>JWT secret validation is handled by <code>JwtSecurityConfig</code> at application startup.</p> <p>Validation Rules (prod/staging only): - Secret must not contain \"dev\" or \"default\" (case-insensitive) - Secret must be at least 43 characters (256 bits base64) - Validation failure causes application to crash</p>"},{"location":"security/initial-setup/#32-generate-jwt-secret","title":"3.2 Generate JWT Secret","text":"<pre><code>openssl rand -base64 64\n</code></pre> <p>Generates a 512-bit random string (88 characters).</p>"},{"location":"security/initial-setup/#33-set-environment-variable","title":"3.3 Set Environment Variable","text":"<p>CI/CD (GitHub Actions): - Add <code>JWT_SECRET</code> as a repository secret</p>"},{"location":"security/initial-setup/#4-database-password-setup","title":"4. Database Password Setup","text":""},{"location":"security/initial-setup/#41-overview","title":"4.1 Overview","text":"<p>PostgreSQL database password is required for both Spring Boot and PostgreSQL container.</p> <p>Usage: - Spring Boot: <code>SPRING_DATASOURCE_PASSWORD</code> - PostgreSQL: <code>POSTGRES_PASSWORD</code> - Both configured via <code>DB_USER_PASSWORD</code></p>"},{"location":"security/initial-setup/#42-generate-database-password","title":"4.2 Generate Database Password","text":"<pre><code>openssl rand -base64 32\n</code></pre> <p>Requirements: - Minimum 16 characters - Avoid shell-escaping characters (<code>$</code>, <code>!</code>, <code>`</code>)</p>"},{"location":"security/initial-setup/#43-set-environment-variable","title":"4.3 Set Environment Variable","text":"<p>CI/CD (GitHub Actions): - Add <code>DB_USER_PASSWORD</code> as a repository secret</p>"},{"location":"security/initial-setup/#5-mail-configuration","title":"5. Mail Configuration","text":""},{"location":"security/initial-setup/#51-overview","title":"5.1 Overview","text":"<p>Mail configuration is required for the contact form feature.</p> <p>Required Variables: - <code>MAIL_USERNAME</code>: Gmail address - <code>MAIL_APP_PASSWORD</code>: Gmail App Password</p>"},{"location":"security/initial-setup/#52-generate-gmail-app-password","title":"5.2 Generate Gmail App Password","text":"<ol> <li>Go to https://myaccount.google.com/</li> <li>Navigate to Security &gt; 2-Step Verification</li> <li>Click \"App passwords\"</li> <li>Select \"Mail\" and \"Other (Custom name)\"</li> <li>Copy the 16-character password</li> </ol> <p>Important: Remove spaces when setting the environment variable.</p>"},{"location":"security/initial-setup/#53-set-environment-variables","title":"5.3 Set Environment Variables","text":"<p>CI/CD (GitHub Actions): - Add <code>MAIL_USERNAME</code> as a repository secret - Add <code>MAIL_APP_PASSWORD</code> as a repository secret</p>"},{"location":"security/initial-setup/#6-environment-variables-summary","title":"6. Environment Variables Summary","text":""},{"location":"security/initial-setup/#61-core-security-variables","title":"6.1 Core Security Variables","text":"Variable Description Required In <code>DB_USER_PASSWORD</code> PostgreSQL password All <code>MAIL_USERNAME</code> Gmail address All <code>MAIL_APP_PASSWORD</code> Gmail App Password All <code>JWT_SECRET</code> JWT signing secret (256+ bits) Staging/Prod <code>ADMIN_PASSWORD_HASH</code> BCrypt hash for admin Staging/Prod <p>For infrastructure variables (Redis, RabbitMQ, etc.), see Infrastructure Credentials.</p>"},{"location":"security/initial-setup/#62-validation-checklist","title":"6.2 Validation Checklist","text":"<p>For Development (local): - [ ] <code>DB_USER_PASSWORD</code> is set - [ ] <code>MAIL_USERNAME</code> and <code>MAIL_APP_PASSWORD</code> are set - [ ] (Optional) <code>ADMIN_PASSWORD_HASH</code> for admin access</p> <p>For Staging/Production: - [ ] <code>DB_USER_PASSWORD</code> is set with secure password - [ ] <code>MAIL_USERNAME</code> and <code>MAIL_APP_PASSWORD</code> are set - [ ] <code>JWT_SECRET</code> is set (43+ chars, no \"dev\"/\"default\") - [ ] <code>ADMIN_PASSWORD_HASH</code> is set with valid BCrypt hash - [ ] CI/CD secrets are configured in GitHub Actions</p>"},{"location":"security/initial-setup/#7-docker-compose-configuration","title":"7. Docker Compose Configuration","text":""},{"location":"security/initial-setup/#71-environment-variable-injection","title":"7.1 Environment Variable Injection","text":"<p>docker-compose.yml (base): <pre><code>services:\n  spring-backend:\n    environment:\n      - SPRING_DATASOURCE_PASSWORD=${DB_USER_PASSWORD}\n      - JWT_SECRET=${JWT_SECRET:-}\n      - ADMIN_PASSWORD_HASH=${ADMIN_PASSWORD_HASH:-}\n      - MAIL_USERNAME=${MAIL_USERNAME:-}\n      - MAIL_APP_PASSWORD=${MAIL_APP_PASSWORD:-}\n\n  portfolio-db:\n    environment:\n      POSTGRES_PASSWORD: ${DB_USER_PASSWORD}\n</code></pre></p>"},{"location":"security/initial-setup/#72-env-file-template","title":"7.2 .env File Template","text":"<p>For Development (local): <pre><code>DB_USER_PASSWORD=local_dev_password\nMAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=your_gmail_app_password\n# ADMIN_PASSWORD_HASH=$2a$10$your_hash_here\n</code></pre></p> <p>For Staging/Production: <pre><code>DB_USER_PASSWORD=secure_production_password\nMAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=your_gmail_app_password\nJWT_SECRET=your_64_char_random_secret\nADMIN_PASSWORD_HASH=$2a$10$your_bcrypt_hash_here\n</code></pre></p>"},{"location":"security/initial-setup/#73-startup-verification","title":"7.3 Startup Verification","text":"<p>Success: <pre><code>[SECURITY] JWT secret validation passed for prod environment\n[ADMIN_SEEDER] Admin user created - username=admin\n</code></pre></p> <p>Failure: <pre><code>SECURITY ERROR: JWT_SECRET contains default value...\n</code></pre></p>"},{"location":"security/initial-setup/#related-documentation","title":"Related Documentation","text":"<ul> <li>Infrastructure Credentials - Redis, RabbitMQ, Elasticsearch, Sentry, Grafana</li> <li>JWT Implementation - Token generation and validation</li> <li>Password Management - BCrypt hashing</li> <li>Configuration Properties - All configuration options</li> </ul>"},{"location":"security/jwt-implementation/","title":"JWT Implementation","text":""},{"location":"security/jwt-implementation/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Token Types</li> <li>Token Generation</li> <li>Token Validation</li> <li>Token Refresh Flow</li> <li>Configuration</li> </ol>"},{"location":"security/jwt-implementation/#1-overview","title":"1. Overview","text":"<p>JWT (JSON Web Tokens) authentication system with access/refresh token pair for secure API access.</p> <p>Key Features: - Dual token system (access + refresh) - Automatic token refresh via HTTP interceptor - Token rotation for enhanced security - Refresh token revocation support - Redis-backed token storage capability</p> <p>Library: <code>io.jsonwebtoken:jjwt-api:0.12.5</code></p>"},{"location":"security/jwt-implementation/#2-token-types","title":"2. Token Types","text":""},{"location":"security/jwt-implementation/#access-token","title":"Access Token","text":"<p>Purpose: Short-lived token for API authentication</p> <p>Lifetime: 15 minutes (configurable via <code>app.jwt.expiration</code>)</p> <p>Storage: Frontend <code>localStorage</code></p> <p>Usage: Attached to every API request via <code>Authorization: Bearer {token}</code> header</p> <p>Claims: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"username\",\n  \"authorities\": [{\"authority\": \"ROLE_ADMIN\"}],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#refresh-token","title":"Refresh Token","text":"<p>Purpose: Long-lived token for obtaining new access tokens</p> <p>Lifetime: 7 days (configurable via <code>app.jwt.refresh-expiration</code>)</p> <p>Storage: - Frontend <code>localStorage</code> - Backend database (<code>refresh_tokens</code> table)</p> <p>Usage: Used only at <code>/api/auth/refresh</code> endpoint</p> <p>Format: UUID (not JWT)</p>"},{"location":"security/jwt-implementation/#3-token-generation","title":"3. Token Generation","text":""},{"location":"security/jwt-implementation/#jwttokenprovider","title":"JwtTokenProvider","text":"<p>Service: <code>com.emmanuelgabe.portfolio.security.JwtTokenProvider</code></p> <p>Access Token Generation: <pre><code>public String generateAccessToken(String username, Set&lt;Role&gt; roles) {\n    Date now = new Date();\n    Date expiryDate = new Date(now.getTime() + jwtExpiration);\n\n    return Jwts.builder()\n        .claim(\"type\", \"access\")\n        .subject(username)\n        .claim(\"authorities\", roles.stream()\n            .map(role -&gt; Map.of(\"authority\", role.getName()))\n            .collect(Collectors.toList()))\n        .issuer(jwtIssuer)\n        .audience().add(jwtAudience).and()\n        .issuedAt(now)\n        .expiration(expiryDate)\n        .signWith(key)\n        .compact();\n}\n</code></pre></p> <p>Refresh Token Generation: <pre><code>public RefreshToken createRefreshToken(Long userId) {\n    RefreshToken refreshToken = new RefreshToken();\n    refreshToken.setUser(userRepository.findById(userId).orElseThrow());\n    refreshToken.setToken(UUID.randomUUID().toString());\n    refreshToken.setExpiryDate(\n        LocalDateTime.now().plusDays(refreshTokenDurationDays)\n    );\n    return refreshTokenRepository.save(refreshToken);\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#4-token-validation","title":"4. Token Validation","text":""},{"location":"security/jwt-implementation/#jwtauthenticationfilter","title":"JwtAuthenticationFilter","text":"<p>Purpose: Extract and validate JWT from requests</p> <p>Filter Chain Position: Before <code>UsernamePasswordAuthenticationFilter</code></p> <p>Validation Steps: 1. Extract token from <code>Authorization</code> header 2. Parse JWT and extract username 3. Validate signature 4. Check expiration 5. Load user details from database 6. Set authentication in <code>SecurityContext</code></p> <p>Implementation: <pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest request,\n                                HttpServletResponse response,\n                                FilterChain filterChain) {\n    String token = extractToken(request);\n\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\n        String username = jwtTokenProvider.getUsernameFromToken(token);\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n        UsernamePasswordAuthenticationToken authentication =\n            new UsernamePasswordAuthenticationToken(\n                userDetails, null, userDetails.getAuthorities()\n            );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    }\n\n    filterChain.doFilter(request, response);\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#5-token-refresh-flow","title":"5. Token Refresh Flow","text":""},{"location":"security/jwt-implementation/#backend-flow","title":"Backend Flow","text":"<p>Endpoint: <code>POST /api/auth/refresh</code></p> <p>Request: <pre><code>{\n  \"refreshToken\": \"550e8400-e29b-41d4-a716-446655440000\"\n}\n</code></pre></p> <p>Process: 1. Validate refresh token exists in database 2. Check if token is revoked 3. Check if token is expired 4. Generate new access token 5. Return new access token</p> <p>Response: <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"refreshToken\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 900\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#frontend-automatic-refresh","title":"Frontend Automatic Refresh","text":"<p>JWT Interceptor (<code>jwt.interceptor.ts</code>):</p> <p>Trigger: 401 Unauthorized response</p> <p>Flow: <pre><code>1. Request fails with 401\n2. Interceptor catches error\n3. Call AuthService.refreshToken()\n4. If refresh succeeds:\n   - Get new access token\n   - Retry original request with new token\n5. If refresh fails:\n   - Logout user\n   - Redirect to login\n</code></pre></p> <p>Implementation: <pre><code>return next(authReq).pipe(\n  catchError((error: HttpErrorResponse) =&gt; {\n    if (error.status === 401 &amp;&amp; !isAuthEndpoint) {\n      return authService.refreshToken().pipe(\n        switchMap(() =&gt; {\n          const newToken = authService.getToken();\n          const retryReq = req.clone({\n            setHeaders: { Authorization: `Bearer ${newToken}` }\n          });\n          return next(retryReq);\n        }),\n        catchError((refreshError) =&gt; {\n          authService.logout();\n          return throwError(() =&gt; refreshError);\n        })\n      );\n    }\n    return throwError(() =&gt; error);\n  })\n);\n</code></pre></p>"},{"location":"security/jwt-implementation/#6-configuration","title":"6. Configuration","text":""},{"location":"security/jwt-implementation/#application-properties","title":"Application Properties","text":"<p>JWT Configuration: <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}  # HS256 secret key (min 256 bits)\n    expiration: 900000     # Access token: 15 minutes (in ms)\n    refresh-expiration: 7  # Refresh token: 7 days\n    issuer: portfolio-backend\n    audience: portfolio-frontend\n</code></pre></p>"},{"location":"security/jwt-implementation/#startup-validation-jwtsecurityconfig","title":"Startup Validation (JwtSecurityConfig)","text":"<p>Class: <code>com.emmanuelgabe.portfolio.config.JwtSecurityConfig</code></p> <p>Purpose: Validates JWT secret at application startup to prevent insecure deployments.</p> <p>Validation Rules (prod/staging environments): - Secret must not contain \"dev\" or \"default\" (case-insensitive) - Secret must be at least 43 characters (256 bits in base64) - Validation failure causes application startup to fail with clear error message</p> <p>Behavior by Environment: | Environment | Invalid Secret | Result | |-------------|----------------|--------| | <code>dev</code> | Yes | Warning logged, app starts | | <code>staging</code> | Yes | Error, app crashes | | <code>prod</code> | Yes | Error, app crashes |</p> <p>Generate Secure Secret: <pre><code>openssl rand -base64 64\n</code></pre></p> <p>See Initial Setup for complete configuration instructions.</p>"},{"location":"security/jwt-implementation/#security-configuration","title":"Security Configuration","text":"<p>Public Endpoints (no authentication): - <code>POST /api/auth/login</code> - <code>POST /api/auth/refresh</code> - <code>GET /api/projects</code> - <code>GET /api/articles</code> - <code>POST /api/contact</code></p> <p>Protected Endpoints (requires valid JWT): - <code>POST /api/admin/**</code> (requires ROLE_ADMIN)</p>"},{"location":"security/jwt-implementation/#related-documentation","title":"Related Documentation","text":"<ul> <li>Initial Setup - JWT secret and admin user configuration</li> <li>Authentication API - Auth endpoints</li> <li>Security: RBAC - Role-based access control</li> <li>Architecture: Frontend - Frontend auth flow</li> </ul>"},{"location":"security/password-management/","title":"Password Management","text":""},{"location":"security/password-management/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Password Requirements</li> <li>Password Hashing</li> <li>Password Change Flow</li> <li>Implementation Details</li> </ol>"},{"location":"security/password-management/#1-overview","title":"1. Overview","text":"<p>The Portfolio application implements secure password management using industry-standard practices.</p> <p>Key Features: - BCrypt hashing with configurable strength - Password validation requirements - Secure password change workflow - No password recovery (admin-managed system)</p> <p>Security Stack: - Algorithm: BCrypt with salt - Strength: 10 rounds (configurable) - Backend: Spring Security PasswordEncoder - Frontend: Validation before submission</p>"},{"location":"security/password-management/#2-password-requirements","title":"2. Password Requirements","text":""},{"location":"security/password-management/#backend-validation","title":"Backend Validation","text":"<p>Minimum Requirements: | Requirement | Value | Enforced On | |-------------|-------|-------------| | Minimum Length | 8 characters | Change password only | | Maximum Length | No limit | Not enforced | | Complexity | None | Not enforced | | Special Characters | Not required | Not enforced |</p> <p>Validation Annotation: <pre><code>public class ChangePasswordRequest {\n\n    @NotBlank(message = \"Current password is required\")\n    private String currentPassword;\n\n    @NotBlank(message = \"New password is required\")\n    @Size(min = 8, message = \"Password must be at least 8 characters\")\n    private String newPassword;\n}\n</code></pre></p>"},{"location":"security/password-management/#frontend-validation-recommended","title":"Frontend Validation (Recommended)","text":"<p>Enhanced Requirements (optional, frontend only): <pre><code>export interface PasswordRequirements {\n  minLength: number;          // 8\n  requireUppercase: boolean;  // true\n  requireLowercase: boolean;  // true\n  requireNumber: boolean;     // true\n  requireSpecial: boolean;    // false\n}\n\nexport function validatePassword(password: string, requirements: PasswordRequirements): ValidationResult {\n  const errors: string[] = [];\n\n  if (password.length &lt; requirements.minLength) {\n    errors.push(`Password must be at least ${requirements.minLength} characters`);\n  }\n\n  if (requirements.requireUppercase &amp;&amp; !/[A-Z]/.test(password)) {\n    errors.push('Password must contain at least one uppercase letter');\n  }\n\n  if (requirements.requireLowercase &amp;&amp; !/[a-z]/.test(password)) {\n    errors.push('Password must contain at least one lowercase letter');\n  }\n\n  if (requirements.requireNumber &amp;&amp; !/[0-9]/.test(password)) {\n    errors.push('Password must contain at least one number');\n  }\n\n  if (requirements.requireSpecial &amp;&amp; !/[!@#$%^&amp;*(),.?\":{}|&lt;&gt;]/.test(password)) {\n    errors.push('Password must contain at least one special character');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n</code></pre></p>"},{"location":"security/password-management/#3-password-hashing","title":"3. Password Hashing","text":""},{"location":"security/password-management/#bcrypt-algorithm","title":"BCrypt Algorithm","text":"<p>Why BCrypt? - Adaptive function (computationally expensive) - Automatic salt generation - Configurable work factor (strength) - Industry-standard and proven secure - Resistant to rainbow table attacks</p>"},{"location":"security/password-management/#configuration","title":"Configuration","text":"<p>Backend Configuration: <pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(10);\n    }\n}\n</code></pre></p> <p>Strength Parameter: | Strength | Iterations | Hash Time (approx) | Security Level | |----------|------------|---------------------|----------------| | 4 | 16 | ~5 ms | Low (testing only) | | 10 | 1024 | ~100 ms | Standard (recommended) | | 12 | 4096 | ~400 ms | High security | | 15 | 32768 | ~3 seconds | Very high (not practical) |</p> <p>Current Setting: Strength 10 (good balance between security and performance)</p>"},{"location":"security/password-management/#hash-format","title":"Hash Format","text":"<p>BCrypt Hash Structure: <pre><code>$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy\n\u2502  \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u2502  \u2502                       Hash (31 chars)\n\u2502  \u2502  \u2514\u2500 Salt (22 chars)\n\u2502  \u2514\u2500\u2500\u2500\u2500 Cost factor (10 = 2^10 iterations)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Algorithm version (2a = BCrypt)\n</code></pre></p> <p>Example: <pre><code>Algorithm: $2a\nCost:      $10\nSalt:      $N9qo8uLOickgx2ZMRZoMye\nHash:      IjZAgcfl7p92ldGxad68LJZdL17lhWy\n</code></pre></p>"},{"location":"security/password-management/#usage","title":"Usage","text":"<p>Encoding: <pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n\n    private final PasswordEncoder passwordEncoder;\n    private final UserRepository userRepository;\n\n    public void createUser(String username, String rawPassword) {\n        String hashedPassword = passwordEncoder.encode(rawPassword);\n\n        User user = new User();\n        user.setUsername(username);\n        user.setPassword(hashedPassword);\n\n        userRepository.save(user);\n\n        log.info(\"[CREATE_USER] User created - username={}\", username);\n        // Note: Never log the password (raw or hashed)\n    }\n}\n</code></pre></p> <p>Verification: <pre><code>@Service\n@RequiredArgsConstructor\npublic class AuthService {\n\n    private final PasswordEncoder passwordEncoder;\n    private final UserRepository userRepository;\n\n    public boolean verifyPassword(String username, String rawPassword) {\n        User user = userRepository.findByUsername(username)\n            .orElseThrow(() -&gt; new UserNotFoundException(\"User not found\"));\n\n        return passwordEncoder.matches(rawPassword, user.getPassword());\n    }\n}\n</code></pre></p>"},{"location":"security/password-management/#4-password-change-flow","title":"4. Password Change Flow","text":""},{"location":"security/password-management/#flow-diagram","title":"Flow Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502              \u2502 Spring Boot \u2502              \u2502 Database \u2502\n\u2502 Client  \u2502              \u2502   Backend   \u2502              \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                          \u2502                          \u2502\n     \u2502 1. Enter current         \u2502                          \u2502\n     \u2502    and new password      \u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502 2. POST /auth/           \u2502                          \u2502\n     \u2502    change-password       \u2502                          \u2502\n     \u2502    Authorization: Bearer \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 3. Extract username      \u2502\n     \u2502                          \u2502    from JWT token        \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 4. Load user             \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                          \u2502   User entity            \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 5. Verify current        \u2502\n     \u2502                          \u2502    password (BCrypt)     \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 6. Hash new password     \u2502\n     \u2502                          \u2502    (BCrypt)              \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 7. Update user password  \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 8. Invalidate refresh    \u2502\n     \u2502                          \u2502    tokens (security)     \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502                          \u2502\n     \u2502 9. Success response      \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502 10. Show success message \u2502                          \u2502\n     \u2502     Redirect to login    \u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n</code></pre>"},{"location":"security/password-management/#steps-explained","title":"Steps Explained","text":"<ol> <li>User Input: User enters current password and new password</li> <li>Request: Frontend sends request with passwords and auth token</li> <li>Extract User: Backend extracts username from JWT token</li> <li>Load User: User entity loaded from database</li> <li>Verify Current: Current password verified with BCrypt</li> <li>Hash New: New password hashed with BCrypt</li> <li>Update: Password updated in database</li> <li>Invalidate Tokens: All refresh tokens invalidated (force re-login)</li> <li>Response: Success message returned</li> <li>Redirect: User redirected to login page to re-authenticate</li> </ol>"},{"location":"security/password-management/#5-implementation-details","title":"5. Implementation Details","text":"<p>API Endpoint: <code>POST /api/auth/change-password</code></p> <p>Required Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: application/json\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"currentPassword\": \"OldPassword123\",\n  \"newPassword\": \"NewSecurePassword456\"\n}\n</code></pre></p> <p>Backend Configuration: <pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder(10);\n}\n</code></pre></p> <p>Key Implementation Points: - Current password verified with BCrypt matches - New password hashed with BCrypt before storage - All refresh tokens invalidated on password change - User forced to re-login after successful change</p>"},{"location":"security/password-management/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: Authentication - JWT authentication architecture</li> <li>Security: RBAC - Role-based access control</li> <li>API: Authentication - Authentication endpoints</li> <li>Development: Testing - Testing guidelines</li> </ul>"},{"location":"security/rate-limiting/","title":"Rate Limiting","text":""},{"location":"security/rate-limiting/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Implementation</li> <li>Redis Storage</li> <li>Configuration</li> <li>Authentication Rate Limiting</li> </ol>"},{"location":"security/rate-limiting/#1-overview","title":"1. Overview","text":"<p>IP-based rate limiting using Redis for distributed tracking. Prevents spam and abuse on public endpoints.</p> <p>Current Implementation: Contact form endpoint only</p> <p>Strategy: Fixed window (1-hour window, resets after expiration)</p> <p>Storage: Redis for distributed rate limit tracking</p>"},{"location":"security/rate-limiting/#2-implementation","title":"2. Implementation","text":""},{"location":"security/rate-limiting/#ratelimitservice","title":"RateLimitService","text":"<p>Interface: <pre><code>public interface RateLimitService {\n    boolean isAllowed(String ip);\n    long getRemainingAttempts(String ip);\n}\n</code></pre></p> <p>Implementation: <pre><code>@Service\npublic class RateLimitServiceImpl implements RateLimitService {\n    private static final String RATE_LIMIT_KEY_PREFIX = \"rate_limit:contact:\";\n    private static final long WINDOW_SIZE_HOURS = 1;\n\n    @Value(\"${app.rate-limit.contact.max-requests-per-hour:5}\")\n    private int maxRequestsPerHour;\n\n    @Override\n    public boolean isAllowed(String ip) {\n        String key = RATE_LIMIT_KEY_PREFIX + ip;\n        Long count = redisTemplate.opsForValue().increment(key);\n\n        // Set expiration on first request\n        if (count == 1) {\n            redisTemplate.expire(key, WINDOW_SIZE_HOURS, TimeUnit.HOURS);\n        }\n\n        return count &lt;= maxRequestsPerHour;\n    }\n\n    @Override\n    public long getRemainingAttempts(String ip) {\n        String key = RATE_LIMIT_KEY_PREFIX + ip;\n        String value = redisTemplate.opsForValue().get(key);\n        long count = value != null ? Long.parseLong(value) : 0;\n        return Math.max(0, maxRequestsPerHour - count);\n    }\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#controller-integration","title":"Controller Integration","text":"<p>Pattern: <pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; sendContactMessage(\n        @Valid @RequestBody ContactRequest request,\n        HttpServletRequest httpRequest) {\n\n    String ip = IpAddressExtractor.extractIpAddress(httpRequest);\n\n    // Check rate limit\n    if (!rateLimitService.isAllowed(ip)) {\n        String errorMessage = String.format(\n            \"Rate limit exceeded. Maximum %d messages per hour.\",\n            maxRequestsPerHour\n        );\n        return ResponseEntity.status(HttpStatus.TOO_MANY_REQUESTS)\n            .body(ContactResponse.error(errorMessage));\n    }\n\n    // Process request\n    ContactResponse response = contactService.sendContactEmail(request);\n    return ResponseEntity.ok(response);\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#3-redis-storage","title":"3. Redis Storage","text":""},{"location":"security/rate-limiting/#key-format","title":"Key Format","text":"<p>Pattern: <code>rate_limit:contact:{ip}</code></p> <p>Examples: <pre><code>rate_limit:contact:192.168.1.100 = 3   (TTL: 2400s)\nrate_limit:contact:10.0.0.50 = 5       (TTL: 1800s)\n</code></pre></p>"},{"location":"security/rate-limiting/#atomic-operations","title":"Atomic Operations","text":"<p>Increment Counter: <pre><code>Long count = redisTemplate.opsForValue().increment(key);\n</code></pre></p> <p>Benefits: - Thread-safe in distributed environments - No race conditions - Automatic key creation if doesn't exist</p> <p>Set Expiration: <pre><code>redisTemplate.expire(key, WINDOW_SIZE_HOURS, TimeUnit.HOURS);\n</code></pre></p> <p>Benefits: - Automatic cleanup after 1 hour - No manual cleanup required - Memory efficient</p>"},{"location":"security/rate-limiting/#4-configuration","title":"4. Configuration","text":""},{"location":"security/rate-limiting/#application-properties","title":"Application Properties","text":"<p>Rate Limit Configuration: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Configurable per environment\n</code></pre></p> <p>Redis Configuration: <pre><code>spring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n      timeout: 3000ms\n</code></pre></p>"},{"location":"security/rate-limiting/#redistemplate-configuration","title":"RedisTemplate Configuration","text":"<p>Bean Configuration: <pre><code>@Configuration\npublic class RateLimitConfig {\n    @Bean\n    public RedisTemplate&lt;String, Long&gt; redisTemplate(\n            RedisConnectionFactory connectionFactory) {\n        RedisTemplate&lt;String, Long&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(connectionFactory);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericToStringSerializer&lt;&gt;(Long.class));\n        return template;\n    }\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#environment-specific-settings","title":"Environment-Specific Settings","text":"<p>Development: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 10  # More lenient for testing\n</code></pre></p> <p>Production: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3   # Stricter for production\n</code></pre></p>"},{"location":"security/rate-limiting/#5-authentication-rate-limiting","title":"5. Authentication Rate Limiting","text":""},{"location":"security/rate-limiting/#authratelimitfilter","title":"AuthRateLimitFilter","text":"<p>A dedicated filter protects authentication endpoints against brute force attacks.</p> <p>Protected Endpoints: - <code>POST /api/auth/login</code> - <code>POST /api/auth/refresh</code></p> <p>Implementation: <pre><code>@Component\npublic class AuthRateLimitFilter extends OncePerRequestFilter {\n\n    private static final String LOGIN_PATH = \"/api/auth/login\";\n    private static final String REFRESH_PATH = \"/api/auth/refresh\";\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n            HttpServletResponse response, FilterChain filterChain) {\n\n        String ip = IpAddressExtractor.extractIpAddress(request);\n\n        if (LOGIN_PATH.equals(path)) {\n            if (!authRateLimitService.isLoginAllowed(ip)) {\n                sendRateLimitResponse(response, \"login\", maxLoginRequestsPerHour);\n                return;\n            }\n        } else if (REFRESH_PATH.equals(path)) {\n            if (!authRateLimitService.isRefreshAllowed(ip)) {\n                sendRateLimitResponse(response, \"refresh\", maxRefreshRequestsPerHour);\n                return;\n            }\n        }\n\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#authratelimitservice","title":"AuthRateLimitService","text":"<p>Interface: <pre><code>public interface AuthRateLimitService {\n    boolean isLoginAllowed(String ip);\n    boolean isRefreshAllowed(String ip);\n    int getMaxLoginRequestsPerHour();\n    int getMaxRefreshRequestsPerHour();\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#configuration","title":"Configuration","text":"<pre><code>app:\n  rate-limit:\n    auth:\n      login:\n        max-requests-per-hour: 10\n      refresh:\n        max-requests-per-hour: 20\n</code></pre>"},{"location":"security/rate-limiting/#response-format","title":"Response Format","text":"<p>When rate limit is exceeded, returns HTTP 429:</p> <pre><code>{\n  \"status\": 429,\n  \"error\": \"Too Many Requests\",\n  \"message\": \"Rate limit exceeded for login. Maximum 10 attempts per hour.\",\n  \"timestamp\": \"2024-06-20T14:45:00\"\n}\n</code></pre>"},{"location":"security/rate-limiting/#related-documentation","title":"Related Documentation","text":"<ul> <li>Features: Contact Form - Contact form implementation</li> <li>Contact API - API documentation</li> <li>Authentication - JWT authentication</li> <li>Reference: Configuration Properties - All config options</li> </ul>"},{"location":"security/rbac/","title":"Role-Based Access Control (RBAC)","text":""},{"location":"security/rbac/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Roles and Permissions</li> <li>Backend Authorization</li> <li>Frontend Route Guards</li> <li>Permission Matrix</li> <li>Implementation Details</li> </ol>"},{"location":"security/rbac/#1-overview","title":"1. Overview","text":"<p>The Portfolio application implements Role-Based Access Control (RBAC) to manage user permissions.</p> <p>Authorization Model: - Backend: Spring Security method-level authorization - Frontend: Angular route guards - Token-Based: User roles embedded in JWT access token</p> <p>Key Principles: - Public endpoints require no authentication - Admin endpoints require ROLE_ADMIN - Authorization checked on both frontend and backend - Backend is the source of truth (frontend guards are UX only)</p>"},{"location":"security/rbac/#2-roles-and-permissions","title":"2. Roles and Permissions","text":""},{"location":"security/rbac/#available-roles","title":"Available Roles","text":"Role Authority Description USER <code>ROLE_USER</code> Standard authenticated user ADMIN <code>ROLE_ADMIN</code> Administrator with full access <p>Note: In Spring Security, role names are prefixed with <code>ROLE_</code> in authorities.</p>"},{"location":"security/rbac/#role-hierarchy","title":"Role Hierarchy","text":"<pre><code>ADMIN (has explicit admin permissions)\n  \u2514\u2500\u2500 USER (basic authenticated access)\n</code></pre>"},{"location":"security/rbac/#3-backend-authorization","title":"3. Backend Authorization","text":""},{"location":"security/rbac/#endpoint-protection","title":"Endpoint Protection","text":"<p>SecurityFilterChain Configuration:</p> <pre><code># Public endpoints (no authentication)\n- /health, /api/version, /actuator/health\n- /api/auth/**\n- POST /api/contact\n- /swagger-ui/**, /v3/api-docs/**\n- /uploads/**\n- /api/cv/current, /api/cv/download\n- GET /api/projects, /api/skills, /api/tags, /api/experiences, /api/articles\n\n# Admin endpoints (ROLE_ADMIN required)\n- /api/admin/**\n\n# All other endpoints\n- Require authentication\n</code></pre>"},{"location":"security/rbac/#method-level-authorization","title":"Method-Level Authorization","text":"<p>Using @PreAuthorize:</p> <pre><code>@PreAuthorize(\"hasRole('ADMIN')\")              // Single role\n@PreAuthorize(\"hasAnyRole('ADMIN', 'USER')\")   // Multiple roles\n@PreAuthorize(\"hasAuthority('ROLE_ADMIN')\")    // By authority\n@PreAuthorize(\"isAuthenticated()\")             // Any authenticated user\n</code></pre>"},{"location":"security/rbac/#4-frontend-route-guards","title":"4. Frontend Route Guards","text":""},{"location":"security/rbac/#auth-guard","title":"Auth Guard","text":"<p>Purpose: Protect routes requiring authentication</p> <p>Behavior: - Allows access if authenticated - Redirects to <code>/login</code> with <code>returnUrl</code> parameter if not</p>"},{"location":"security/rbac/#admin-guard","title":"Admin Guard","text":"<p>Purpose: Protect admin-only routes</p> <p>Behavior: - Allows access if authenticated AND has <code>ROLE_ADMIN</code> - Redirects to <code>/login</code> if not authenticated - Redirects to <code>/</code> (home) if authenticated but not admin</p>"},{"location":"security/rbac/#5-permission-matrix","title":"5. Permission Matrix","text":""},{"location":"security/rbac/#api-endpoints-summary","title":"API Endpoints Summary","text":"Category Public USER ADMIN <code>GET /api/projects</code> Yes Yes Yes <code>POST /api/admin/projects</code> No No Yes <code>PUT /api/admin/projects/{id}</code> No No Yes <code>DELETE /api/admin/projects/{id}</code> No No Yes <code>GET /api/skills</code> Yes Yes Yes <code>POST /api/admin/skills</code> No No Yes <code>GET /api/articles</code> Yes Yes Yes <code>POST /api/admin/articles</code> No No Yes <code>GET /api/experiences</code> Yes Yes Yes <code>POST /api/admin/experiences</code> No No Yes <code>GET /api/cv/current</code> Yes Yes Yes <code>POST /api/admin/cv/upload</code> No No Yes <code>POST /api/contact</code> Yes Yes Yes <code>POST /api/auth/login</code> Yes Yes Yes <code>POST /api/auth/logout</code> No Yes Yes <p>Legend: Yes = Allowed, No = Forbidden (401 or 403)</p>"},{"location":"security/rbac/#frontend-routes","title":"Frontend Routes","text":"Route Public USER ADMIN <code>/</code> Yes Yes Yes <code>/login</code> Yes Yes Yes <code>/projects</code> Yes Yes Yes <code>/blog</code> Yes Yes Yes <code>/admin/**</code> No No Yes"},{"location":"security/rbac/#6-implementation-details","title":"6. Implementation Details","text":""},{"location":"security/rbac/#user-entity-with-roles","title":"User Entity with Roles","text":"<p>Database Schema: <pre><code>CREATE TABLE users (\n    id BIGSERIAL PRIMARY KEY,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE user_roles (\n    user_id BIGINT NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n    role VARCHAR(20) NOT NULL,\n    PRIMARY KEY (user_id, role)\n);\n</code></pre></p> <p>Role Enum: <pre><code>public enum Role {\n    ROLE_USER,\n    ROLE_ADMIN\n}\n</code></pre></p>"},{"location":"security/rbac/#jwt-token-with-roles","title":"JWT Token with Roles","text":"<p>Token Payload: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"admin\",\n  \"authorities\": [\n    { \"authority\": \"ROLE_ADMIN\" }\n  ],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p>"},{"location":"security/rbac/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: Authentication - JWT authentication architecture</li> <li>Security: Password Management - Password policies</li> <li>API: Authentication - Authentication endpoints</li> </ul>"},{"location":"security/svg-sanitization/","title":"SVG Sanitization","text":""},{"location":"security/svg-sanitization/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Security Risks</li> <li>Sanitization Strategy</li> <li>Allowed Elements</li> <li>Allowed Attributes</li> <li>Blocked Content</li> <li>Configuration</li> </ol>"},{"location":"security/svg-sanitization/#1-overview","title":"1. Overview","text":"<p>SVG files can contain executable code, making them a potential vector for XSS (Cross-Site Scripting) and XXE (XML External Entity) attacks. The application sanitizes all uploaded SVG files using a whitelist approach before storing them.</p> <p>Service: <code>SvgStorageService</code></p> <p>Library: Jsoup 1.18.1 (XML parser)</p> <p>Strategy: Whitelist-based sanitization (only explicitly allowed elements and attributes are kept)</p> <p>Use Case: Skill icons in the portfolio (uploaded via admin panel)</p>"},{"location":"security/svg-sanitization/#2-security-risks","title":"2. Security Risks","text":""},{"location":"security/svg-sanitization/#21-xss-via-svg","title":"2.1 XSS via SVG","text":"<p>SVG files can contain JavaScript that executes when the SVG is rendered in a browser.</p> <p>Attack Vectors: - <code>&lt;script&gt;</code> elements embedded in SVG - Event handlers (<code>onclick</code>, <code>onload</code>, <code>onerror</code>) - <code>javascript:</code> URLs in <code>xlink:href</code> attributes - CSS <code>expression()</code> in style attributes</p> <p>Example malicious SVG: <pre><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\"&gt;\n  &lt;script&gt;alert('XSS')&lt;/script&gt;\n  &lt;circle cx=\"50\" cy=\"50\" r=\"40\" onclick=\"alert('XSS')\"/&gt;\n  &lt;a xlink:href=\"javascript:alert('XSS')\"&gt;\n    &lt;text&gt;Click me&lt;/text&gt;\n  &lt;/a&gt;\n&lt;/svg&gt;\n</code></pre></p>"},{"location":"security/svg-sanitization/#22-xxe-via-svg","title":"2.2 XXE via SVG","text":"<p>SVG is XML-based and can be exploited for XXE attacks.</p> <p>Attack Vectors: - DOCTYPE declarations with external entities - Parameter entity references - External DTD references</p> <p>Example XXE payload: <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE svg [\n  &lt;!ENTITY xxe SYSTEM \"file:///etc/passwd\"&gt;\n]&gt;\n&lt;svg xmlns=\"http://www.w3.org/2000/svg\"&gt;\n  &lt;text&gt;&amp;xxe;&lt;/text&gt;\n&lt;/svg&gt;\n</code></pre></p>"},{"location":"security/svg-sanitization/#3-sanitization-strategy","title":"3. Sanitization Strategy","text":""},{"location":"security/svg-sanitization/#31-process-flow","title":"3.1 Process Flow","text":"<ol> <li>Pre-validation: Check file size, extension, MIME type</li> <li>Pattern detection: Reject files with dangerous patterns (before parsing)</li> <li>DOCTYPE removal: Strip XML declaration and DOCTYPE (XXE prevention)</li> <li>Parse: Parse SVG with Jsoup XML parser</li> <li>Element filtering: Remove elements not in whitelist</li> <li>Attribute filtering: Remove attributes not in whitelist</li> <li>Value sanitization: Check attribute values for dangerous content</li> <li>Output: Generate clean SVG with safe XML declaration</li> </ol>"},{"location":"security/svg-sanitization/#32-whitelist-approach","title":"3.2 Whitelist Approach","text":"<p>Only explicitly allowed elements and attributes are preserved. Everything else is removed.</p> <p>Why whitelist over blacklist: - Blacklists can be bypassed with encoding tricks - New attack vectors are discovered regularly - Whitelist is more restrictive and secure by default - SVG for icons has limited legitimate use of elements</p>"},{"location":"security/svg-sanitization/#4-allowed-elements","title":"4. Allowed Elements","text":"<p>Elements preserved during sanitization:</p>"},{"location":"security/svg-sanitization/#41-structure-elements","title":"4.1 Structure Elements","text":"Element Description <code>svg</code> Root SVG container <code>g</code> Group container <code>defs</code> Definitions container <code>symbol</code> Reusable symbol definition <code>use</code> Reference to symbol/element <code>title</code> Accessible title <code>desc</code> Accessible description"},{"location":"security/svg-sanitization/#42-shape-elements","title":"4.2 Shape Elements","text":"Element Description <code>path</code> Arbitrary path <code>circle</code> Circle shape <code>ellipse</code> Ellipse shape <code>line</code> Line segment <code>polyline</code> Connected line segments <code>polygon</code> Closed polygon <code>rect</code> Rectangle"},{"location":"security/svg-sanitization/#43-gradient-and-pattern-elements","title":"4.3 Gradient and Pattern Elements","text":"Element Description <code>linearGradient</code> Linear color gradient <code>radialGradient</code> Radial color gradient <code>stop</code> Gradient color stop <code>pattern</code> Repeating pattern <code>clipPath</code> Clipping path <code>mask</code> Masking element"},{"location":"security/svg-sanitization/#44-filter-elements","title":"4.4 Filter Elements","text":"Element Description <code>filter</code> Filter container <code>feGaussianBlur</code> Blur effect <code>feOffset</code> Offset effect <code>feBlend</code> Blend effect <code>feMerge</code> Merge layers <code>feMergeNode</code> Merge node <code>feColorMatrix</code> Color transformation <code>feFlood</code> Flood fill <code>feComposite</code> Composite operation"},{"location":"security/svg-sanitization/#5-allowed-attributes","title":"5. Allowed Attributes","text":""},{"location":"security/svg-sanitization/#51-general-attributes","title":"5.1 General Attributes","text":"<pre><code>id, class, style, viewBox, xmlns, xmlns:xlink\n</code></pre>"},{"location":"security/svg-sanitization/#52-dimension-attributes","title":"5.2 Dimension Attributes","text":"<pre><code>width, height, x, y, x1, y1, x2, y2, cx, cy, r, rx, ry\n</code></pre>"},{"location":"security/svg-sanitization/#53-path-and-shape-attributes","title":"5.3 Path and Shape Attributes","text":"<pre><code>d, points\n</code></pre>"},{"location":"security/svg-sanitization/#54-presentation-attributes","title":"5.4 Presentation Attributes","text":"<pre><code>fill, stroke, stroke-width, stroke-linecap, stroke-linejoin,\nstroke-dasharray, stroke-dashoffset, stroke-opacity, fill-opacity,\nopacity, transform, clip-path, mask, filter\n</code></pre>"},{"location":"security/svg-sanitization/#55-gradient-attributes","title":"5.5 Gradient Attributes","text":"<pre><code>offset, stop-color, stop-opacity, gradientUnits, gradientTransform,\nspreadMethod\n</code></pre>"},{"location":"security/svg-sanitization/#56-reference-attributes","title":"5.6 Reference Attributes","text":"<pre><code>xlink:href, href, preserveAspectRatio\n</code></pre>"},{"location":"security/svg-sanitization/#57-pattern-attributes","title":"5.7 Pattern Attributes","text":"<pre><code>patternUnits, patternContentUnits, patternTransform\n</code></pre>"},{"location":"security/svg-sanitization/#58-filter-attributes","title":"5.8 Filter Attributes","text":"<pre><code>stdDeviation, dx, dy, result, in, in2, mode, flood-color, flood-opacity,\noperator, k1, k2, k3, k4, type, values, color-interpolation-filters\n</code></pre>"},{"location":"security/svg-sanitization/#6-blocked-content","title":"6. Blocked Content","text":""},{"location":"security/svg-sanitization/#61-blocked-elements-always-removed","title":"6.1 Blocked Elements (always removed)","text":"Element Reason <code>script</code> JavaScript execution <code>foreignObject</code> Embeds external content <code>iframe</code> Embeds external pages <code>embed</code> Embeds external content <code>object</code> Embeds external objects <code>a</code> Links (can contain javascript:) <code>image</code> External image references <code>animate</code> Can trigger events <code>animateTransform</code> Can trigger events <code>set</code> Can trigger events <code>text</code>, <code>tspan</code> Potential XSS via text content"},{"location":"security/svg-sanitization/#62-blocked-attributes-always-removed","title":"6.2 Blocked Attributes (always removed)","text":"Pattern Reason <code>on*</code> (onclick, onload, etc.) Event handlers <code>href</code> with <code>javascript:</code> Script execution <code>href</code> with <code>data:</code> Data URI injection <code>xlink:href</code> with <code>javascript:</code> Script execution"},{"location":"security/svg-sanitization/#63-blocked-patterns-reject-file","title":"6.3 Blocked Patterns (reject file)","text":"<p>The following patterns in raw SVG content cause the upload to be rejected:</p> <pre><code>(?i)(on\\w+\\s*=|javascript:|data:|vbscript:)\n</code></pre> <p>This catches: - Event handlers: <code>onclick=</code>, <code>onload=</code>, <code>onerror=</code> - JavaScript URLs: <code>javascript:alert()</code> - Data URIs: <code>data:text/html,&lt;script&gt;</code> - VBScript: <code>vbscript:msgbox()</code></p>"},{"location":"security/svg-sanitization/#64-blocked-doctype-and-xml-declaration","title":"6.4 Blocked DOCTYPE and XML Declaration","text":"<p>Removed during sanitization: <pre><code>&lt;!DOCTYPE svg [...]&gt;\n&lt;?xml version=\"1.0\" ... ?&gt;\n</code></pre></p> <p>A safe XML declaration is added back after sanitization: <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n</code></pre></p>"},{"location":"security/svg-sanitization/#7-configuration","title":"7. Configuration","text":""},{"location":"security/svg-sanitization/#71-application-properties","title":"7.1 Application Properties","text":"<pre><code>svg:\n  storage:\n    upload-dir: ${SVG_UPLOAD_DIR:uploads/icons}\n    base-path: ${SVG_BASE_PATH:/uploads/icons}\n    max-file-size: ${SVG_MAX_FILE_SIZE:102400}  # 100KB\n    allowed-extensions:\n      - svg\n    allowed-mime-types:\n      - image/svg+xml\n</code></pre>"},{"location":"security/svg-sanitization/#72-file-size-limit","title":"7.2 File Size Limit","text":"<p>Maximum SVG file size: 100 KB</p> <p>This limit is intentionally small because: - Icon SVGs should be optimized - Larger files increase attack surface - Prevents DoS via large file uploads</p>"},{"location":"security/svg-sanitization/#73-validation-order","title":"7.3 Validation Order","text":"<ol> <li>File not null/empty</li> <li>No path traversal in filename</li> <li>File size within limit</li> <li>Extension is <code>.svg</code></li> <li>MIME type is <code>image/svg+xml</code></li> <li>Contains <code>&lt;svg</code> tag</li> <li>No dangerous patterns detected</li> <li>Sanitization successful</li> </ol>"},{"location":"security/svg-sanitization/#related-documentation","title":"Related Documentation","text":"<ul> <li>File Storage - General file upload security</li> <li>Security Best Practices - Input validation section</li> <li>Image Processing - Image upload handling</li> </ul>"}]}