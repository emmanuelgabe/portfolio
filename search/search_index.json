{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Portfolio Documentation","text":"<p>Welcome to the Portfolio project documentation. This documentation covers all aspects of the application from API reference to deployment guides.</p>"},{"location":"#quick-navigation","title":"Quick Navigation","text":"Section Description API Reference REST API endpoints, authentication, request/response formats Architecture System design, database schema, frontend architecture Features Feature documentation: blog, CV, contact, images Security Authentication, authorization, rate limiting Development Setup, testing, code quality, logging Reference Configuration, environments, error codes Deployment CI/CD pipelines, local testing Operations Health checks, monitoring"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Java 21 LTS</li> <li>Node.js 20 LTS</li> <li>Docker Desktop</li> <li>PostgreSQL 15+</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Clone repository\ngit clone https://github.com/username/portfolio.git\ncd portfolio\n\n# Backend\ncd portfolio-backend\n./gradlew bootRun\n\n# Frontend (new terminal)\ncd portfolio-frontend\nnpm install\nnpm start\n</code></pre>"},{"location":"#access-points","title":"Access Points","text":"Service URL Frontend http://localhost:4200 Backend API http://localhost:8080/api Swagger UI http://localhost:8080/swagger-ui.html Health Check http://localhost:8080/actuator/health"},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>portfolio/\n\u251c\u2500\u2500 portfolio-backend/     # Spring Boot API\n\u251c\u2500\u2500 portfolio-frontend/    # Angular SPA\n\u251c\u2500\u2500 docs/                  # Documentation\n\u251c\u2500\u2500 nginx/                 # Nginx configuration\n\u251c\u2500\u2500 scripts/               # Utility scripts\n\u2514\u2500\u2500 docker-compose*.yml    # Docker configurations\n</code></pre>"},{"location":"#documentation-categories","title":"Documentation Categories","text":""},{"location":"#api-reference","title":"API Reference","text":"<p>Complete REST API documentation organized by resource:</p> <ul> <li>Authentication - Login, token refresh, logout</li> <li>Projects - Portfolio projects CRUD</li> <li>Skills - Skills management</li> <li>Experiences - Timeline experiences</li> <li>Articles - Blog articles</li> <li>Tags - Tag management</li> <li>Contact - Contact form</li> <li>CV - CV management</li> <li>Site Configuration - Site-wide configuration</li> <li>Article Images - Article image uploads</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<p>System design and technical architecture:</p> <ul> <li>System Architecture - High-level design</li> <li>Frontend Architecture - Angular structure</li> <li>Database Schema - PostgreSQL schema</li> <li>Error Handling - Exception handling</li> </ul>"},{"location":"#features","title":"Features","text":"<p>Detailed feature documentation:</p> <ul> <li>Blog Articles - Markdown, slugs, reading time</li> <li>Site Configuration - Centralized site settings</li> <li>Experience Management - Timeline</li> <li>CV Management - CV versioning</li> <li>Contact Form - Rate-limited contact</li> <li>Image Processing - WebP, thumbnails</li> <li>File Storage - File upload system</li> </ul>"},{"location":"#security","title":"Security","text":"<p>Security implementation details:</p> <ul> <li>Authentication - JWT system overview</li> <li>JWT Implementation - Token details</li> <li>RBAC - Role-based access control</li> <li>Password Management - BCrypt</li> <li>Rate Limiting - Request limits</li> <li>SVG Sanitization - XSS prevention</li> </ul>"},{"location":"#development","title":"Development","text":"<p>Development guides and conventions:</p> <ul> <li>Setup Guide - Environment setup</li> <li>Testing Guide - Test strategy</li> <li>Git Workflow - Branch strategy</li> <li>Code Quality - Static analysis</li> <li>Logging Conventions - Log format</li> </ul>"},{"location":"#reference","title":"Reference","text":"<p>Configuration and reference material:</p> <ul> <li>Configuration - App properties</li> <li>Environments - Env-specific settings</li> <li>Dependencies - Tech stack</li> <li>Error Codes - API error reference</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>See Contributing Guide for contribution guidelines.</p>"},{"location":"#documentation-standards","title":"Documentation Standards","text":"<p>See Documentation Guide for documentation standards.</p>"},{"location":"COVERAGE/","title":"Documentation Coverage Matrix","text":"<p>Matrice de couverture documentaire du projet Portfolio.</p> <p>Derniere mise a jour : 2025-11-27</p>"},{"location":"COVERAGE/#resume","title":"Resume","text":"Categorie Total Documente Couverture APIs Publiques 12 12 100% Features 9 9 100% Securite 7 7 100% Architecture 4 4 100% Global 32 32 100%"},{"location":"COVERAGE/#apis-publiques","title":"APIs Publiques","text":"Controller Documentation Status AuthController <code>api/authentication.md</code> OK ProjectController <code>api/projects.md</code> OK SkillController <code>api/skills.md</code> OK ExperienceController <code>api/experiences.md</code> OK ArticleController <code>api/articles-api.md</code> OK TagController <code>api/tags.md</code> OK ContactController <code>api/contact.md</code> OK CvController <code>api/cv.md</code> OK SiteConfigurationController <code>api/site-configuration.md</code> OK ArticleImageController <code>api/article-images.md</code> OK HealthController <code>operations/health-checks.md</code> OK FileUploadController <code>api/files.md</code> OK"},{"location":"COVERAGE/#features","title":"Features","text":"Feature Documentation Status Blog/Articles <code>features/blog-articles.md</code> OK Projects <code>api/projects.md</code> OK Skills <code>api/skills.md</code> OK Experiences <code>features/experience-management.md</code> OK CV Management <code>features/cv-management.md</code> OK Contact Form <code>features/contact-form.md</code> OK Site Configuration <code>features/site-configuration.md</code> OK Image Processing <code>features/image-processing.md</code> OK File Storage <code>features/file-storage.md</code> OK"},{"location":"COVERAGE/#securite","title":"Securite","text":"Composant Documentation Status JWT Authentication <code>security/jwt-implementation.md</code> OK RBAC <code>security/rbac.md</code> OK Rate Limiting <code>security/rate-limiting.md</code> OK Auth Rate Limiting <code>security/rate-limiting.md</code> OK Password Management <code>security/password-management.md</code> OK SVG Sanitization <code>security/svg-sanitization.md</code> OK Initial Setup <code>security/initial-setup.md</code> OK"},{"location":"COVERAGE/#architecture","title":"Architecture","text":"Composant Documentation Status System Architecture <code>architecture/architecture.md</code> OK Frontend Architecture <code>architecture/frontend-architecture.md</code> OK Database Schema <code>architecture/database-schema.md</code> OK Error Handling <code>architecture/error-handling.md</code> OK"},{"location":"COVERAGE/#development","title":"Development","text":"Guide Documentation Status Setup <code>development/setup.md</code> OK Testing <code>development/testing-guide.md</code> OK Git Workflow <code>development/git-workflow.md</code> OK Logging <code>development/logging-conventions.md</code> OK Code Quality <code>development/code-quality.md</code> OK"},{"location":"COVERAGE/#reference","title":"Reference","text":"Document Fichier Status Configuration <code>reference/configuration-properties.md</code> OK Environments <code>reference/environments.md</code> OK Dependencies <code>reference/dependencies.md</code> OK Error Codes <code>reference/error-codes.md</code> OK Versioning <code>reference/versioning.md</code> OK Scripts <code>reference/scripts-organization.md</code> OK"},{"location":"COVERAGE/#deployment-operations","title":"Deployment &amp; Operations","text":"Document Fichier Status CI/CD <code>deployment/ci-cd.md</code> OK Local Testing <code>deployment/local-testing.md</code> OK Health Checks <code>operations/health-checks.md</code> OK"},{"location":"COVERAGE/#legende","title":"Legende","text":"Status Description OK Documentation complete et a jour PARTIAL Documentation incomplete MISSING Documentation manquante N/A Documentation non necessaire"},{"location":"COVERAGE/#related-documentation","title":"Related Documentation","text":"<ul> <li>Documentation Guide - Standards de documentation</li> </ul>"},{"location":"DOCUMENTATION_GUIDE/","title":"Guide de documentation","text":"<p>Ce guide definit les standards et bonnes pratiques pour la documentation du projet Portfolio.</p>"},{"location":"DOCUMENTATION_GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Framework Diataxis</li> <li>Templates par type</li> <li>Regles de documentation</li> <li>Checklist PR</li> </ol>"},{"location":"DOCUMENTATION_GUIDE/#framework-diataxis","title":"Framework Diataxis","text":"<p>Ce projet suit le framework Diataxis pour organiser la documentation :</p> Type But Orientation Exemples Tutorial Apprendre Etude + Pratique <code>setup.md</code> How-to Accomplir une tache Action + Pratique <code>ci-cd.md</code>, <code>local-testing.md</code> Reference Information factuelle Etude + Action <code>api/*.md</code>, <code>error-codes.md</code> Explanation Comprendre le pourquoi Etude + Theorie <code>architecture.md</code>, <code>jwt-implementation.md</code>"},{"location":"DOCUMENTATION_GUIDE/#application-dans-le-projet","title":"Application dans le projet","text":"Categorie docs/ Type Diataxis <code>api/</code> Reference <code>architecture/</code> Explanation <code>features/</code> Explanation + Reference <code>security/</code> Explanation <code>development/</code> Tutorial + How-to <code>reference/</code> Reference <code>deployment/</code> How-to <code>operations/</code> How-to + Reference"},{"location":"DOCUMENTATION_GUIDE/#templates-par-type","title":"Templates par type","text":""},{"location":"DOCUMENTATION_GUIDE/#template-api-docsapimd","title":"Template API (<code>docs/api/*.md</code>)","text":"<pre><code># [Resource] API\n\nBrief description (2-3 lines)\n\n---\n\n## Table of Contents\n1. [Overview](#overview)\n2. [Public Endpoints](#public-endpoints)\n3. [Admin Endpoints](#admin-endpoints)\n4. [Data Models](#data-models)\n5. [Error Codes](#error-codes)\n\n---\n\n## Overview\nWhat this API does\n\n## Public Endpoints\n### Get [Resource]\n` ` `\nGET /api/[resource]\n` ` `\n**Response:**\n...\n\n## Admin Endpoints\n(if applicable)\n\n## Data Models\n### [Resource]Response\n` ` `json\n{\n  \"id\": \"Long\",\n  \"field\": \"String\"\n}\n` ` `\n\n## Error Codes\n| Code | Message | Description |\n|------|---------|-------------|\n\n## Related Documentation\n- Links to related docs\n</code></pre>"},{"location":"DOCUMENTATION_GUIDE/#template-feature-docsfeaturesmd","title":"Template Feature (<code>docs/features/*.md</code>)","text":"<pre><code># [Feature Name]\n\nBrief description (3-5 bullet points)\n\n---\n\n## Table of Contents\n1. [Overview](#overview)\n2. [Architecture](#architecture)\n3. [Configuration](#configuration)\n4. [Database Schema](#database-schema)\n\n---\n\n## Overview\nWhat this feature does\n\n## Architecture\n### Backend Components\n| Component | Location | Purpose |\n|-----------|----------|---------|\n\n### Frontend Components\n| Component | Location | Purpose |\n|-----------|----------|---------|\n\n## Configuration\n` ` `yaml\napp:\n  feature:\n    property: value\n` ` `\n\n## Database Schema\n` ` `sql\nCREATE TABLE ...\n` ` `\n\n## Related Documentation\n- Links to related docs\n</code></pre>"},{"location":"DOCUMENTATION_GUIDE/#template-architecture-docsarchitecturemd","title":"Template Architecture (<code>docs/architecture/*.md</code>)","text":"<pre><code># [Component] Architecture\n\nBrief overview\n\n---\n\n## Table of Contents\n1. [Overview](#overview)\n2. [Components](#components)\n3. [Data Flow](#data-flow)\n4. [Configuration](#configuration)\n\n---\n\n## Overview\nHigh-level description\n\n## Components\nDiagram + descriptions\n\n## Data Flow\nHow data moves through the system\n\n## Configuration\nRelevant configuration\n\n## Related Documentation\n- Links to related docs\n</code></pre>"},{"location":"DOCUMENTATION_GUIDE/#regles-de-documentation","title":"Regles de documentation","text":""},{"location":"DOCUMENTATION_GUIDE/#a-documenter","title":"A documenter","text":"Element Obligatoire Notes APIs publiques Oui Tous les endpoints Configuration complexe Oui YAML, properties Decisions architecturales Oui Choix techniques Securite Oui Auth, validation Processus de deploiement Oui CI/CD, scripts"},{"location":"DOCUMENTATION_GUIDE/#a-ne-pas-documenter","title":"A ne pas documenter","text":"Element Raison Code interne evident Auto-documentant Getters/Setters Trivial Implementation triviale Pas de valeur ajoutee Details temporaires Volatil Code experimental Non stable"},{"location":"DOCUMENTATION_GUIDE/#sections-interdites","title":"Sections interdites","text":"<p>Les sections suivantes sont interdites dans la documentation (sauf exceptions notees) :</p> Section Raison Exception Testing Dediee a testing-guide.md <code>development/testing-guide.md</code> Troubleshooting Maintenance difficile <code>development/setup.md</code> Performance Hors scope Aucune Future Enhancements Volatil Aucune Migration Hors scope Aucune References footer Meta-information Aucune"},{"location":"DOCUMENTATION_GUIDE/#longueur-recommandee","title":"Longueur recommandee","text":"Type Minimum Cible Maximum API doc 100 200-400 500 Feature doc 100 200-400 500 Architecture doc 150 300-500 700"},{"location":"DOCUMENTATION_GUIDE/#checklist-pr","title":"Checklist PR","text":"<p>Avant de soumettre une PR modifiant la documentation :</p>"},{"location":"DOCUMENTATION_GUIDE/#contenu","title":"Contenu","text":"<ul> <li> Nouveau code public = documentation mise a jour</li> <li> Template correct utilise</li> <li> Liens vers docs connexes ajoutes</li> <li> Table of Contents presente et a jour</li> </ul>"},{"location":"DOCUMENTATION_GUIDE/#format","title":"Format","text":"<ul> <li> Pas de sections interdites (Testing, Troubleshooting, Future)</li> <li> Longueur dans les limites (200-400 lignes)</li> <li> Code examples limites a la configuration</li> <li> Pas d'emojis</li> </ul>"},{"location":"DOCUMENTATION_GUIDE/#qualite","title":"Qualite","text":"<ul> <li> Liens internes fonctionnels</li> <li> Anglais correct (pas de Franglais)</li> <li> Termes techniques coherents</li> <li> Information factuelle (pas de speculation)</li> </ul>"},{"location":"DOCUMENTATION_GUIDE/#related-documentation","title":"Related Documentation","text":"<ul> <li>Coverage Matrix - Matrice de couverture</li> </ul>"},{"location":"contributing/","title":"Documentation Contribution Guide","text":""},{"location":"contributing/#1-overview","title":"1. Overview","text":"<p>This guide defines the minimal standards for contributing to the Portfolio Application documentation. For comprehensive style guidelines, refer to the Google Developer Documentation Style Guide.</p>"},{"location":"contributing/#2-document-structure","title":"2. Document Structure","text":""},{"location":"contributing/#21-required-header","title":"2.1 Required Header","text":"<p>Every documentation file must start with:</p> <pre><code># Document Title\n\n## Table of Contents\n\n1. [Section One](#1-section-one)\n2. [Section Two](#2-section-two)\n\n---\n\n## 1. Section One\n\nContent...\n</code></pre>"},{"location":"contributing/#22-section-numbering","title":"2.2 Section Numbering","text":"<p>Use hierarchical numbering:</p> <pre><code>## 1. Introduction\n### 1.1 Overview\n### 1.2 Prerequisites\n\n## 2. Installation\n### 2.1 Requirements\n### 2.2 Procedure\n</code></pre>"},{"location":"contributing/#3-writing-standards","title":"3. Writing Standards","text":""},{"location":"contributing/#31-automated-validation","title":"3.1 Automated Validation","text":"<p>Documentation quality is automatically validated using Vale with the Google Developer Documentation Style Guide.</p> <p>How it works: - Vale runs automatically in CI/CD on every pull request - Checks all <code>.md</code> files against style rules - Reports errors (blocking) and warnings (non-blocking) - Reviews vocabulary and terminology consistency</p> <p>Running Vale locally:</p> <pre><code># Validate all documentation\n./scripts/validate-docs.sh\n\n# Validate specific file or directory\n./scripts/validate-docs.sh docs/development/\n./scripts/validate-docs.sh README.md\n</code></pre> <p>Installation (for local validation):</p> <pre><code># macOS\nbrew install vale\n\n# Linux\nsnap install vale\n\n# Windows\nchoco install vale\n</code></pre> <p>Customizing validation: - Add accepted terms to: <code>.vale/styles/config/vocabularies/Portfolio/accept.txt</code> - Add rejected terms to: <code>.vale/styles/config/vocabularies/Portfolio/reject.txt</code> - Adjust rule severity in: <code>.vale.ini</code></p> <p>Note: The Google style guide is downloaded automatically when running Vale for the first time.</p>"},{"location":"contributing/#32-code-blocks","title":"3.2 Code Blocks","text":"<p>Always specify language:</p> <pre><code>```bash\ndocker-compose up -d\n```\n\n```java\npublic class Example {\n    // Code\n}\n```\n</code></pre>"},{"location":"contributing/#33-standard-patterns","title":"3.3 Standard Patterns","text":"<p>Prerequisites: <pre><code>## Prerequisites\n\nThe following software is required:\n- Java Development Kit (JDK) 24\n- Docker Engine 20.10+\n- Git 2.30+\n</code></pre></p> <p>Commands with Output: <pre><code>Execute the health check:\n\n```bash\ncurl http://localhost:8080/actuator/health\n```\n\nExpected response:\n\n```json\n{\n  \"status\": \"UP\"\n}\n```\n</code></pre></p> <p>Error Documentation: <pre><code>**Error:** `Connection refused`\n**Cause:** Backend service not running\n**Solution:** Restart the service using `docker restart`\n</code></pre></p> <p>Notes and Warnings: <pre><code>**Note:** This applies to production only.\n**Warning:** This operation deletes all data.\n**Important:** Create a backup first.\n</code></pre></p>"},{"location":"contributing/#4-file-conventions","title":"4. File Conventions","text":""},{"location":"contributing/#41-naming","title":"4.1 Naming","text":"<ul> <li>Use lowercase with hyphens: <code>health-check-guide.md</code></li> <li>Be descriptive: <code>database-migration-procedure.md</code></li> <li>Always use <code>.md</code> extension</li> </ul> <pre><code>\n</code></pre>"},{"location":"contributing/#6-quality-assurance","title":"6. Quality Assurance","text":""},{"location":"contributing/#61-pre-submission-checklist","title":"6.1 Pre-submission Checklist","text":"<p>Before submitting documentation changes:</p> <ol> <li> <p>Run Vale locally: <pre><code>./scripts/validate-docs.sh docs/\n</code></pre></p> </li> <li> <p>Fix errors: Address all error-level issues (required)</p> </li> <li> <p>Review warnings: Consider addressing warning-level issues (recommended)</p> </li> <li> <p>Verify formatting:</p> </li> <li>Section numbering correct</li> <li>Code blocks have language specified</li> <li> <p>Links are valid</p> </li> <li> <p>Test code samples: Ensure all commands and code examples work</p> </li> </ol>"},{"location":"contributing/#62-cicd-validation","title":"6.2 CI/CD Validation","text":"<p>The CI/CD pipeline automatically validates documentation:</p> <ul> <li>Trigger: On every push and pull request to <code>main</code>, <code>develop</code>, <code>dev</code></li> <li>Scope: All <code>.md</code> files (README, docs/, CHANGELOG)</li> <li>Tool: Vale with Google Developer Documentation Style Guide</li> <li>Result: Annotations on GitHub pull requests with suggestions</li> </ul> <p>Workflow file: <code>.github/workflows/vale-docs.yml</code></p>"},{"location":"api/","title":"API Reference Overview","text":""},{"location":"api/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Base URLs</li> <li>Authentication</li> <li>Common Headers</li> <li>Response Format</li> <li>HTTP Status Codes</li> <li>API Endpoints Overview</li> <li>Interactive Documentation</li> </ol>"},{"location":"api/#1-introduction","title":"1. Introduction","text":"<p>This document provides an overview of the Portfolio REST API. The API follows RESTful principles and uses JSON for request and response payloads.</p> <p>API Version: 1.0 Base Technology: Spring Boot 3.x REST API Authentication: JWT (JSON Web Tokens)</p>"},{"location":"api/#2-base-urls","title":"2. Base URLs","text":"<p>Base URLs vary depending on the environment:</p> Environment Base URL Port Notes Local Development <code>http://localhost:8080</code> 8080 Docker or direct execution Staging <code>http://localhost:3001</code> 3001 Docker Compose staging Production <code>https://emmanuelgabe.com</code> 443 HTTPS only <p>API Path Prefix: All endpoints are prefixed with <code>/api</code></p> <p>Example: <pre><code>Local:      http://localhost:8080/api/projects\nStaging:    http://localhost:3001/api/projects\nProduction: https://api.yoursite.com/api/projects\n</code></pre></p>"},{"location":"api/#3-authentication","title":"3. Authentication","text":"<p>The API uses JWT (JSON Web Tokens) for authentication.</p> <p>Authentication Flow: 1. Obtain tokens via <code>POST /api/auth/login</code> 2. Include access token in <code>Authorization</code> header for protected endpoints 3. Refresh expired access tokens via <code>POST /api/auth/refresh</code></p> <p>Token Types: - Access Token: Short-lived (15 minutes), used for API requests - Refresh Token: Long-lived (7 days), used to obtain new access tokens</p> <p>Protected Routes: - Public routes: <code>/api/projects</code>, <code>/api/skills</code>, <code>/api/cv/current</code> - Admin routes: <code>/api/admin/**</code> (requires <code>ROLE_ADMIN</code>)</p> <p>See authentication.md for detailed authentication documentation.</p>"},{"location":"api/#4-common-headers","title":"4. Common Headers","text":""},{"location":"api/#request-headers","title":"Request Headers","text":"<p>For Authentication Endpoints: <pre><code>Content-Type: application/json\n</code></pre></p> <p>For Protected Endpoints: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: application/json\n</code></pre></p> <p>For File Upload Endpoints: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: multipart/form-data\n</code></pre></p>"},{"location":"api/#response-headers","title":"Response Headers","text":"<pre><code>Content-Type: application/json; charset=UTF-8\n</code></pre>"},{"location":"api/#5-response-format","title":"5. Response Format","text":""},{"location":"api/#success-response","title":"Success Response","text":"<p>Standard Success (2xx): <pre><code>{\n  \"id\": 1,\n  \"title\": \"Project Name\",\n  \"description\": \"Project description\",\n  \"createdAt\": \"2025-11-15T10:30:00\"\n}\n</code></pre></p> <p>List Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Item 1\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Item 2\"\n  }\n]\n</code></pre></p>"},{"location":"api/#error-response","title":"Error Response","text":"<p>Standard Error Format: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed for field 'title': must not be blank\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Validation Error (400): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid-email\",\n      \"message\": \"must be a valid email address\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Authentication Error (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Authorization Error (403): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 403,\n  \"error\": \"Forbidden\",\n  \"message\": \"Access denied: insufficient permissions\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Not Found (404): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 123\",\n  \"path\": \"/api/admin/projects/123\"\n}\n</code></pre></p>"},{"location":"api/#6-http-status-codes","title":"6. HTTP Status Codes","text":"<p>The API uses standard HTTP status codes:</p>"},{"location":"api/#success-codes-2xx","title":"Success Codes (2xx)","text":"Code Meaning Usage <code>200 OK</code> Success GET, PUT, DELETE successful <code>201 Created</code> Resource created POST successful <code>204 No Content</code> Success without body DELETE successful (alternative)"},{"location":"api/#client-error-codes-4xx","title":"Client Error Codes (4xx)","text":"Code Meaning Usage <code>400 Bad Request</code> Invalid request Validation errors, malformed JSON <code>401 Unauthorized</code> Authentication required Missing or invalid token <code>403 Forbidden</code> Insufficient permissions Valid token but wrong role <code>404 Not Found</code> Resource not found Entity doesn't exist <code>409 Conflict</code> Conflict with current state Duplicate entry, constraint violation"},{"location":"api/#server-error-codes-5xx","title":"Server Error Codes (5xx)","text":"Code Meaning Usage <code>500 Internal Server Error</code> Server error Unexpected server-side error"},{"location":"api/#7-api-endpoints-overview","title":"7. API Endpoints Overview","text":""},{"location":"api/#71-authentication","title":"7.1 Authentication","text":"<p>Base Path: <code>/api/auth</code></p> Method Endpoint Auth Description POST <code>/login</code> Public Authenticate user POST <code>/refresh</code> Public Refresh access token POST <code>/logout</code> Required Invalidate refresh token POST <code>/change-password</code> Required Change user password <p>See authentication.md for details.</p>"},{"location":"api/#72-projects","title":"7.2 Projects","text":"<p>Base Path: <code>/api/projects</code> (public), <code>/api/admin/projects</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/projects</code> Public List all projects GET <code>/api/projects/{id}</code> Public Get project details POST <code>/api/admin/projects</code> Admin Create project PUT <code>/api/admin/projects/{id}</code> Admin Update project DELETE <code>/api/admin/projects/{id}</code> Admin Delete project POST <code>/api/admin/projects/{id}/upload-image</code> Admin Upload project image DELETE <code>/api/admin/projects/{id}/delete-image</code> Admin Delete project image <p>See projects.md for details.</p>"},{"location":"api/#73-skills","title":"7.3 Skills","text":"<p>Base Path: <code>/api/skills</code> (public), <code>/api/admin/skills</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/skills</code> Public List all skills GET <code>/api/skills/{id}</code> Public Get skill details POST <code>/api/admin/skills</code> Admin Create skill PUT <code>/api/admin/skills/{id}</code> Admin Update skill DELETE <code>/api/admin/skills/{id}</code> Admin Delete skill <p>See skills.md for details.</p>"},{"location":"api/#74-cv-management","title":"7.4 CV Management","text":"<p>Base Path: <code>/api/cv</code> (public), <code>/api/admin/cv</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/cv/current</code> Public Get current CV GET <code>/api/cv/download/{id}</code> Public Download specific CV POST <code>/api/admin/cv/upload</code> Admin Upload new CV GET <code>/api/admin/cv/all</code> Admin List all CVs PUT <code>/api/admin/cv/{id}/set-current</code> Admin Set CV as current DELETE <code>/api/admin/cv/{id}</code> Admin Delete CV <p>See cv.md for details.</p>"},{"location":"api/#75-experiences","title":"7.5 Experiences","text":"<p>Base Path: <code>/api/experiences</code></p> Method Endpoint Auth Description GET <code>/api/experiences</code> Public List all experiences GET <code>/api/experiences/{id}</code> Public Get experience details GET <code>/api/experiences/type/{type}</code> Public Get experiences by type GET <code>/api/experiences/ongoing</code> Public Get ongoing experiences GET <code>/api/experiences/recent</code> Public Get recent experiences POST <code>/api/experiences/admin</code> Admin Create experience PUT <code>/api/experiences/admin/{id}</code> Admin Update experience DELETE <code>/api/experiences/admin/{id}</code> Admin Delete experience <p>See experiences.md for details.</p>"},{"location":"api/#76-tags","title":"7.6 Tags","text":"<p>Base Path: <code>/api/tags</code></p> Method Endpoint Auth Description GET <code>/api/tags</code> Public List all tags GET <code>/api/tags/{id}</code> Public Get tag details POST <code>/api/tags/admin</code> Admin Create tag PUT <code>/api/tags/admin/{id}</code> Admin Update tag DELETE <code>/api/tags/admin/{id}</code> Admin Delete tag <p>See tags.md for details.</p>"},{"location":"api/#77-contact","title":"7.7 Contact","text":"<p>Base Path: <code>/api/contact</code></p> Method Endpoint Auth Description POST <code>/api/contact</code> Public Send contact message (rate limited) <p>See contact.md for details.</p>"},{"location":"api/#78-articles","title":"7.8 Articles","text":"<p>Base Path: <code>/api/articles</code></p> Method Endpoint Auth Description GET <code>/api/articles</code> Public List published articles GET <code>/api/articles/paginated</code> Public List articles with pagination GET <code>/api/articles/{slug}</code> Public Get article by slug GET <code>/api/articles/admin</code> Admin List all articles (including drafts) GET <code>/api/articles/admin/{id}</code> Admin Get article by ID POST <code>/api/articles/admin</code> Admin Create article PUT <code>/api/articles/admin/{id}</code> Admin Update article DELETE <code>/api/articles/admin/{id}</code> Admin Delete article PUT <code>/api/articles/admin/{id}/publish</code> Admin Publish article PUT <code>/api/articles/admin/{id}/unpublish</code> Admin Unpublish article <p>See articles-api.md for details.</p>"},{"location":"api/#79-file-upload","title":"7.9 File Upload","text":"<p>Base Path: <code>/api/admin/upload</code></p> Method Endpoint Auth Description POST <code>/api/admin/upload</code> Admin Generic file upload <p>See files.md for details.</p>"},{"location":"api/#710-site-configuration","title":"7.10 Site Configuration","text":"<p>Base Path: <code>/api/configuration</code> (public), <code>/api/admin/configuration</code> (admin)</p> Method Endpoint Auth Description GET <code>/api/configuration</code> Public Get site configuration GET <code>/api/admin/configuration</code> Admin Get site configuration (admin) PUT <code>/api/admin/configuration</code> Admin Update site configuration POST <code>/api/admin/configuration/profile-image</code> Admin Upload profile image DELETE <code>/api/admin/configuration/profile-image</code> Admin Delete profile image <p>See site-configuration.md for details.</p>"},{"location":"api/#711-health-check","title":"7.11 Health Check","text":"<p>Base Path: <code>/actuator</code></p> Method Endpoint Auth Description GET <code>/actuator/health</code> Public Application health status <p>Returns <code>{\"status\": \"UP\"}</code> when application is healthy.</p>"},{"location":"api/#8-interactive-documentation","title":"8. Interactive Documentation","text":""},{"location":"api/#swagger-ui","title":"Swagger UI","text":"<p>The API provides interactive documentation via Swagger UI:</p> <p>Local Development: <pre><code>http://localhost:8080/swagger-ui.html\n</code></pre></p> <p>Staging: <pre><code>http://localhost:3001/swagger-ui.html\n</code></pre></p> <p>Features: - Interactive endpoint testing - Request/response schema documentation - Authentication token management - Example values for all models</p>"},{"location":"api/#openapi-json-specification","title":"OpenAPI JSON Specification","text":"<p>Download the OpenAPI 3.0 specification:</p> <pre><code>http://localhost:8080/api-docs\n</code></pre> <p>This JSON file can be imported into tools like Postman, Insomnia, or used to generate client SDKs.</p>"},{"location":"api/#related-documentation","title":"Related Documentation","text":"<ul> <li>Authentication Guide - JWT authentication details</li> <li>Projects API - Project management endpoints</li> <li>Skills API - Skill management endpoints</li> <li>Experiences API - Experience management endpoints</li> <li>Tags API - Tag management endpoints</li> <li>Contact API - Contact form endpoint</li> <li>Articles API - Blog articles endpoints</li> <li>CV API - CV management endpoints</li> <li>Site Configuration API - Site configuration endpoints</li> <li>Files API - File upload endpoints</li> <li>Security: RBAC - Role-based access control</li> <li>CI/CD Documentation - Deployment pipeline</li> </ul>"},{"location":"api/article-images/","title":"Article Images API","text":"<p>REST API endpoints for managing images associated with blog articles.</p>"},{"location":"api/article-images/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Codes</li> </ol>"},{"location":"api/article-images/#overview","title":"Overview","text":"<p>The Article Images API provides endpoints for uploading and managing images within blog articles. Images are automatically processed (WebP conversion, thumbnail generation) upon upload.</p> <p>Base URL: <code>/api/admin/articles</code></p> <p>Authentication: All endpoints require ADMIN role.</p>"},{"location":"api/article-images/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/article-images/#upload-article-image","title":"Upload Article Image","text":"<p>Uploads an image for a specific article.</p> <pre><code>POST /api/admin/articles/{id}/images\n</code></pre> <p>Authentication: Required (ADMIN role)</p> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: multipart/form-data\n</code></pre></p> <p>Path Parameters:</p> Parameter Type Description <code>id</code> Long Article ID <p>Request Body:</p> Field Type Description <code>file</code> MultipartFile Image file (JPEG, PNG, WebP) <p>Example (cURL):</p> <pre><code>curl -X POST \"http://localhost:8080/api/admin/articles/1/images\" \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -F \"file=@/path/to/image.jpg\"\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": 1,\n  \"imageUrl\": \"/uploads/articles/1/abc123.webp\",\n  \"thumbnailUrl\": \"/uploads/articles/1/abc123_thumb.webp\",\n  \"uploadedAt\": \"2024-06-20T14:45:00\"\n}\n</code></pre> <p>Status Codes:</p> Code Description 201 Image uploaded successfully 400 Invalid file format or size 401 Unauthorized 403 Forbidden (not admin) 404 Article not found"},{"location":"api/article-images/#delete-article-image","title":"Delete Article Image","text":"<p>Removes an image from an article.</p> <pre><code>DELETE /api/admin/articles/{articleId}/images/{imageId}\n</code></pre> <p>Authentication: Required (ADMIN role)</p> <p>Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre></p> <p>Path Parameters:</p> Parameter Type Description <code>articleId</code> Long Article ID <code>imageId</code> Long Image ID <p>Response: No content (204)</p> <p>Status Codes:</p> Code Description 204 Image deleted successfully 401 Unauthorized 403 Forbidden (not admin) 404 Article or image not found"},{"location":"api/article-images/#data-models","title":"Data Models","text":""},{"location":"api/article-images/#articleimageresponse","title":"ArticleImageResponse","text":"<pre><code>{\n  \"id\": \"Long\",\n  \"imageUrl\": \"String\",\n  \"thumbnailUrl\": \"String\",\n  \"uploadedAt\": \"LocalDateTime\"\n}\n</code></pre>"},{"location":"api/article-images/#image-processing","title":"Image Processing","text":"<p>Uploaded images are automatically processed:</p> Process Description Format conversion Converted to WebP Thumbnail generation 300x300px thumbnail created Quality optimization 80% quality setting"},{"location":"api/article-images/#error-codes","title":"Error Codes","text":"Code Message Description IMG_001 Article not found Specified article does not exist IMG_002 Image not found Specified image does not exist IMG_003 Invalid file type File is not a valid image format IMG_004 File too large File exceeds maximum size limit IMG_005 Upload failed Server error during upload"},{"location":"api/article-images/#related-documentation","title":"Related Documentation","text":"<ul> <li>Articles API - Blog articles endpoints</li> <li>Image Processing - Image processing feature</li> <li>File Storage - File storage architecture</li> </ul>"},{"location":"api/articles-api/","title":"Articles API Documentation","text":"<p>REST API endpoints for managing blog articles with Markdown content, draft/publish workflow, tags, and images.</p>"},{"location":"api/articles-api/#base-url","title":"Base URL","text":"<pre><code>/api/articles\n</code></pre>"},{"location":"api/articles-api/#public-endpoints","title":"Public Endpoints","text":""},{"location":"api/articles-api/#get-all-published-articles","title":"Get All Published Articles","text":"<p>Retrieves all published articles visible to the public.</p> <p>Endpoint: <code>GET /api/articles</code></p> <p>Authentication: None required</p> <p>Response: <code>200 OK</code></p> <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Getting Started with Spring Boot\",\n    \"slug\": \"getting-started-with-spring-boot\",\n    \"content\": \"# Introduction\\n\\nThis is a comprehensive guide...\",\n    \"contentHtml\": \"&lt;h1&gt;Introduction&lt;/h1&gt;&lt;p&gt;This is a comprehensive guide...&lt;/p&gt;\",\n    \"excerpt\": \"Learn how to build REST APIs with Spring Boot\",\n    \"authorName\": \"Admin\",\n    \"draft\": false,\n    \"publishedAt\": \"2025-01-15T10:30:00\",\n    \"createdAt\": \"2025-01-10T14:20:00\",\n    \"updatedAt\": \"2025-01-15T10:30:00\",\n    \"viewsCount\": 142,\n    \"readingTimeMinutes\": 8,\n    \"tags\": [\n      {\n        \"id\": 1,\n        \"name\": \"Spring Boot\",\n        \"slug\": \"spring-boot\"\n      }\n    ],\n    \"images\": [\n      {\n        \"id\": 1,\n        \"imageUrl\": \"/uploads/articles/article-1-image-abc123.webp\",\n        \"thumbnailUrl\": \"/uploads/articles/article-1-thumb-abc123.webp\",\n        \"uploadedAt\": \"2025-01-10T15:00:00\"\n      }\n    ]\n  }\n]\n</code></pre>"},{"location":"api/articles-api/#get-published-articles-paginated","title":"Get Published Articles (Paginated)","text":"<p>Retrieves published articles with pagination support.</p> <p>Endpoint: <code>GET /api/articles/paginated</code></p> <p>Authentication: None required</p> <p>Query Parameters:</p> Parameter Type Default Description <code>page</code> integer 0 Page number (zero-indexed) <code>size</code> integer 10 Number of articles per page <code>sort</code> string publishedAt,desc Sort field and direction <p>Example: <code>GET /api/articles/paginated?page=0&amp;size=5&amp;sort=publishedAt,desc</code></p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"title\": \"Article Title\",\n      \"slug\": \"article-title\",\n      ...\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 5,\n    \"sort\": {\n      \"sorted\": true,\n      \"unsorted\": false,\n      \"empty\": false\n    },\n    \"offset\": 0,\n    \"paged\": true,\n    \"unpaged\": false\n  },\n  \"totalPages\": 3,\n  \"totalElements\": 15,\n  \"last\": false,\n  \"first\": true,\n  \"size\": 5,\n  \"number\": 0,\n  \"numberOfElements\": 5,\n  \"empty\": false\n}\n</code></pre>"},{"location":"api/articles-api/#get-article-by-slug","title":"Get Article by Slug","text":"<p>Retrieves a single published article by its URL-friendly slug. Increments view count.</p> <p>Endpoint: <code>GET /api/articles/{slug}</code></p> <p>Authentication: None required</p> <p>Path Parameters:</p> Parameter Type Description <code>slug</code> string URL-friendly article identifier <p>Example: <code>GET /api/articles/getting-started-with-spring-boot</code></p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"title\": \"Getting Started with Spring Boot\",\n  \"slug\": \"getting-started-with-spring-boot\",\n  \"content\": \"# Introduction\\n\\nThis is markdown content...\",\n  \"contentHtml\": \"&lt;h1&gt;Introduction&lt;/h1&gt;&lt;p&gt;This is markdown content...&lt;/p&gt;\",\n  \"excerpt\": \"Learn Spring Boot basics\",\n  \"authorName\": \"Admin\",\n  \"draft\": false,\n  \"publishedAt\": \"2025-01-15T10:30:00\",\n  \"createdAt\": \"2025-01-10T14:20:00\",\n  \"updatedAt\": \"2025-01-15T10:30:00\",\n  \"viewsCount\": 143,\n  \"readingTimeMinutes\": 8,\n  \"tags\": [],\n  \"images\": []\n}\n</code></pre> <p>Error Response: <code>404 Not Found</code></p> <pre><code>{\n  \"status\": 404,\n  \"message\": \"Article not found with slug: nonexistent-slug\",\n  \"timestamp\": \"2025-01-20T10:30:00\"\n}\n</code></pre>"},{"location":"api/articles-api/#admin-endpoints","title":"Admin Endpoints","text":"<p>Authentication: Required (ADMIN role)</p> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\n</code></pre></p>"},{"location":"api/articles-api/#get-all-articles-admin","title":"Get All Articles (Admin)","text":"<p>Retrieves all articles including drafts.</p> <p>Endpoint: <code>GET /api/articles/admin</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>200 OK</code></p> <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Published Article\",\n    \"draft\": false,\n    ...\n  },\n  {\n    \"id\": 2,\n    \"title\": \"Draft Article\",\n    \"draft\": true,\n    \"publishedAt\": null,\n    ...\n  }\n]\n</code></pre> <p>Error Response: <code>403 Forbidden</code></p>"},{"location":"api/articles-api/#get-all-articles-paginated-admin","title":"Get All Articles Paginated (Admin)","text":"<p>Retrieves all articles with pagination (admin only).</p> <p>Endpoint: <code>GET /api/articles/admin/paginated</code></p> <p>Authentication: ADMIN required</p> <p>Query Parameters: Same as public paginated endpoint</p> <p>Response: <code>200 OK</code> (Page object with all articles including drafts)</p>"},{"location":"api/articles-api/#get-article-by-id-admin","title":"Get Article by ID (Admin)","text":"<p>Retrieves an article by ID, including draft status.</p> <p>Endpoint: <code>GET /api/articles/admin/{id}</code></p> <p>Authentication: ADMIN required</p> <p>Path Parameters:</p> Parameter Type Description <code>id</code> integer Article database ID <p>Response: <code>200 OK</code></p> <p>Error Response: <code>404 Not Found</code></p>"},{"location":"api/articles-api/#create-article","title":"Create Article","text":"<p>Creates a new article (draft by default).</p> <p>Endpoint: <code>POST /api/articles/admin</code></p> <p>Authentication: ADMIN required</p> <p>Request Body:</p> <pre><code>{\n  \"title\": \"New Article Title\",\n  \"content\": \"# Markdown Content\\n\\nThis is the article body...\",\n  \"excerpt\": \"Short description for previews (optional)\",\n  \"tagIds\": [1, 2, 3],\n  \"draft\": true\n}\n</code></pre> <p>Field Validation:</p> Field Required Constraints <code>title</code> Yes 3-200 characters <code>content</code> Yes Not blank <code>excerpt</code> No Max 500 characters <code>tagIds</code> No Valid tag IDs <code>draft</code> No Default: true <p>Response: <code>201 Created</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"New Article Title\",\n  \"slug\": \"new-article-title\",\n  \"content\": \"# Markdown Content...\",\n  \"contentHtml\": \"&lt;h1&gt;Markdown Content&lt;/h1&gt;...\",\n  \"excerpt\": \"Short description\",\n  \"authorName\": \"Admin\",\n  \"draft\": true,\n  \"publishedAt\": null,\n  \"createdAt\": \"2025-01-20T11:00:00\",\n  \"updatedAt\": \"2025-01-20T11:00:00\",\n  \"viewsCount\": 0,\n  \"readingTimeMinutes\": 2,\n  \"tags\": [\n    {\"id\": 1, \"name\": \"Tag1\", \"slug\": \"tag1\"}\n  ],\n  \"images\": []\n}\n</code></pre> <p>Error Response: <code>400 Bad Request</code></p> <pre><code>{\n  \"status\": 400,\n  \"message\": \"Title is required\",\n  \"timestamp\": \"2025-01-20T11:00:00\"\n}\n</code></pre>"},{"location":"api/articles-api/#update-article","title":"Update Article","text":"<p>Updates an existing article. Only provided fields are updated.</p> <p>Endpoint: <code>PUT /api/articles/admin/{id}</code></p> <p>Authentication: ADMIN required</p> <p>Request Body:</p> <pre><code>{\n  \"title\": \"Updated Title\",\n  \"content\": \"Updated markdown content\",\n  \"excerpt\": \"Updated excerpt\",\n  \"tagIds\": [1, 2],\n  \"draft\": false\n}\n</code></pre> <p>Note: All fields are optional. Only provided fields will be updated.</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"Updated Title\",\n  \"slug\": \"updated-title\",\n  ...\n}\n</code></pre> <p>Error Response: <code>404 Not Found</code></p>"},{"location":"api/articles-api/#delete-article","title":"Delete Article","text":"<p>Permanently deletes an article and all associated images from filesystem.</p> <p>Endpoint: <code>DELETE /api/articles/admin/{id}</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>204 No Content</code></p> <p>Error Response: <code>404 Not Found</code></p> <p>Note: This action is irreversible. All article images are automatically deleted from the filesystem via <code>@PreRemove</code> listener.</p>"},{"location":"api/articles-api/#publish-article","title":"Publish Article","text":"<p>Publishes a draft article (sets <code>draft=false</code> and <code>publishedAt=now</code>).</p> <p>Endpoint: <code>PUT /api/articles/admin/{id}/publish</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"Article Title\",\n  \"draft\": false,\n  \"publishedAt\": \"2025-01-20T12:00:00\",\n  ...\n}\n</code></pre>"},{"location":"api/articles-api/#unpublish-article","title":"Unpublish Article","text":"<p>Unpublishes an article (sets <code>draft=true</code>).</p> <p>Endpoint: <code>PUT /api/articles/admin/{id}/unpublish</code></p> <p>Authentication: ADMIN required</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 5,\n  \"title\": \"Article Title\",\n  \"draft\": true,\n  \"publishedAt\": \"2025-01-20T12:00:00\",\n  ...\n}\n</code></pre>"},{"location":"api/articles-api/#article-image-management","title":"Article Image Management","text":""},{"location":"api/articles-api/#upload-article-image","title":"Upload Article Image","text":"<p>Uploads an image file to an article.</p> <p>Endpoint: <code>POST /api/admin/articles/{id}/images</code></p> <p>Authentication: ADMIN required</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data:</p> Field Type Description <code>file</code> File Image file (JPEG, PNG, WebP) <p>Example: <pre><code>curl -X POST \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -F \"file=@image.jpg\" \\\n  http://localhost:8080/api/admin/articles/1/images\n</code></pre></p> <p>Response: <code>201 Created</code></p> <pre><code>{\n  \"id\": 3,\n  \"imageUrl\": \"/uploads/articles/article-1-image-abc123.webp\",\n  \"thumbnailUrl\": \"/uploads/articles/article-1-thumb-abc123.webp\",\n  \"uploadedAt\": \"2025-01-20T13:00:00\"\n}\n</code></pre> <p>Image Processing: - Converted to WebP format - Optimized to max width 1200px - Thumbnail generated (300x300px crop) - Magic bytes validation (JPEG, PNG, WebP) - Path traversal protection</p> <p>Error Response: <code>400 Bad Request</code> - Invalid file format</p>"},{"location":"api/articles-api/#delete-article-image","title":"Delete Article Image","text":"<p>Deletes an image from an article and removes file from filesystem.</p> <p>Endpoint: <code>DELETE /api/admin/articles/{articleId}/images/{imageId}</code></p> <p>Authentication: ADMIN required</p> <p>Path Parameters:</p> Parameter Type Description <code>articleId</code> integer Article ID <code>imageId</code> integer Image ID <p>Response: <code>204 No Content</code></p> <p>Error Response: <code>404 Not Found</code></p>"},{"location":"api/articles-api/#data-models","title":"Data Models","text":""},{"location":"api/articles-api/#articleresponse","title":"ArticleResponse","text":"<p>Complete article data with rendered HTML.</p> Field Type Description <code>id</code> Long Article unique identifier <code>title</code> String Article title (3-200 chars) <code>slug</code> String URL-friendly identifier <code>content</code> String Markdown source content <code>contentHtml</code> String Rendered HTML from Markdown <code>excerpt</code> String Short description (max 500 chars) <code>authorName</code> String Author display name <code>draft</code> Boolean Draft status (true = unpublished) <code>publishedAt</code> DateTime Publication timestamp (null if draft) <code>createdAt</code> DateTime Creation timestamp <code>updatedAt</code> DateTime Last update timestamp <code>viewsCount</code> Integer Number of views <code>readingTimeMinutes</code> Integer Estimated reading time <code>tags</code> Array[Tag] Associated tags <code>images</code> Array[Image] Uploaded images"},{"location":"api/articles-api/#business-rules","title":"Business Rules","text":""},{"location":"api/articles-api/#slug-generation","title":"Slug Generation","text":"<ul> <li>Auto-generated from title (lowercase, hyphenated)</li> <li>Unique constraint enforced</li> <li>Collision resolution: append UUID suffix (8 chars)</li> </ul>"},{"location":"api/articles-api/#reading-time-calculation","title":"Reading Time Calculation","text":"<ul> <li>Based on average reading speed: 200 words/minute</li> <li>Calculated automatically on create/update</li> </ul>"},{"location":"api/articles-api/#publication-workflow","title":"Publication Workflow","text":"<ol> <li>Create - Article created as draft (<code>draft=true</code>)</li> <li>Edit - Update content while draft</li> <li>Publish - Sets <code>draft=false</code>, <code>publishedAt=now()</code></li> <li>Unpublish - Sets <code>draft=true</code> (keeps <code>publishedAt</code>)</li> </ol>"},{"location":"api/articles-api/#view-counter","title":"View Counter","text":"<ul> <li>Incremented automatically when article accessed via slug</li> <li>Only counts public access (GET <code>/api/articles/{slug}</code>)</li> <li>Not incremented for admin access</li> </ul>"},{"location":"api/articles-api/#image-cleanup","title":"Image Cleanup","text":"<ul> <li>Images automatically deleted when article is deleted</li> <li>Handled by <code>ArticleEntityListener.@PreRemove</code></li> <li>Deletes both optimized image and thumbnail</li> </ul>"},{"location":"api/articles-api/#markdown-support","title":"Markdown Support","text":""},{"location":"api/articles-api/#supported-extensions-flexmark-gfm","title":"Supported Extensions (Flexmark GFM)","text":"<ul> <li>Tables - GitHub-style tables</li> <li>Strikethrough - <code>~~text~~</code></li> <li>Task Lists - <code>- [ ] task</code> / <code>- [x] done</code></li> <li>Autolinks - Automatic URL detection</li> </ul>"},{"location":"api/articles-api/#security","title":"Security","text":"<ul> <li>XSS protection via Flexmark sanitization</li> <li>No inline HTML execution</li> <li>Safe rendering of user content</li> </ul>"},{"location":"api/articles-api/#error-responses","title":"Error Responses","text":"<p>All errors follow consistent format:</p> <pre><code>{\n  \"status\": 404,\n  \"message\": \"Article not found with ID: 999\",\n  \"timestamp\": \"2025-01-20T14:00:00\"\n}\n</code></pre> <p>Common Status Codes: - <code>200 OK</code> - Success - <code>201 Created</code> - Resource created - <code>204 No Content</code> - Success with no response body - <code>400 Bad Request</code> - Validation error - <code>401 Unauthorized</code> - Missing/invalid JWT - <code>403 Forbidden</code> - Insufficient permissions - <code>404 Not Found</code> - Resource not found - <code>500 Internal Server Error</code> - Server error</p>"},{"location":"api/articles-api/#examples","title":"Examples","text":""},{"location":"api/articles-api/#create-and-publish-article","title":"Create and Publish Article","text":"<pre><code># 1. Create draft\nPOST /api/articles/admin\n{\n  \"title\": \"Spring Security Guide\",\n  \"content\": \"# Introduction\\n\\nSecurity basics...\",\n  \"tagIds\": [1, 2],\n  \"draft\": true\n}\n\n# 2. Upload images\nPOST /api/admin/articles/5/images\n-F \"file=@diagram.png\"\n\n# 3. Publish\nPUT /api/articles/admin/5/publish\n</code></pre>"},{"location":"api/articles-api/#paginated-public-list","title":"Paginated Public List","text":"<pre><code>GET /api/articles/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n</code></pre>"},{"location":"api/articles-api/#admin-dashboard","title":"Admin Dashboard","text":"<pre><code># Get all articles (drafts + published) with pagination\nGET /api/articles/admin/paginated?page=0&amp;size=20&amp;sort=updatedAt,desc\n</code></pre> <p>API Version: 1.0 Last Updated: 2025-01-20 Base Path: <code>/api/articles</code> Swagger UI: <code>http://localhost:8080/swagger-ui.html</code></p>"},{"location":"api/authentication/","title":"Authentication API","text":""},{"location":"api/authentication/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Authentication Flow</li> <li>Endpoints</li> <li>3.1 Login</li> <li>3.2 Refresh Token</li> <li>3.3 Logout</li> <li>3.4 Change Password</li> <li>Token Management</li> <li>Error Handling</li> </ol>"},{"location":"api/authentication/#1-overview","title":"1. Overview","text":"<p>The Portfolio API uses JWT (JSON Web Tokens) for stateless authentication. The system provides two types of tokens:</p> <ul> <li>Access Token: Short-lived (15 minutes), used for API requests</li> <li>Refresh Token: Long-lived (7 days), used to obtain new access tokens</li> </ul> <p>Base Path: <code>/api/auth</code></p> <p>Security Features: - BCrypt password hashing - Token expiration management - Refresh token rotation - Role-based access control (RBAC)</p>"},{"location":"api/authentication/#2-authentication-flow","title":"2. Authentication Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client  \u2502                \u2502   API   \u2502                \u2502 Database \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                          \u2502                          \u2502\n     \u2502  POST /auth/login        \u2502                          \u2502\n     \u2502  (username, password)    \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502  Verify credentials      \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                          \u2502  Store refresh token     \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502  {accessToken,           \u2502                          \u2502\n     \u2502   refreshToken}          \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502  API Request             \u2502                          \u2502\n     \u2502  Authorization: Bearer   \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502  POST /auth/refresh      \u2502                          \u2502\n     \u2502  (refreshToken)          \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502  Validate &amp; rotate token \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502  {new accessToken,       \u2502                          \u2502\n     \u2502   new refreshToken}      \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502  POST /auth/logout       \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502  Invalidate token        \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502  200 OK                  \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n</code></pre>"},{"location":"api/authentication/#3-endpoints","title":"3. Endpoints","text":""},{"location":"api/authentication/#31-login","title":"3.1 Login","text":"<p>Authenticate a user and receive JWT tokens.</p> <p>Endpoint: <code>POST /api/auth/login</code></p> <p>Authentication: None (public endpoint)</p> <p>Request Body: <pre><code>{\n  \"username\": \"admin\",\n  \"password\": \"your-password\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>username</code> | string | Yes | Not blank | User's username | | <code>password</code> | string | Yes | Not blank | User's password |</p> <p>Success Response (200 OK): <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 900,\n  \"username\": \"admin\",\n  \"roles\": [\"ROLE_ADMIN\"]\n}\n</code></pre></p> <p>Response Schema: | Field | Type | Description | |-------|------|-------------| | <code>accessToken</code> | string | JWT access token (15 min validity) | | <code>refreshToken</code> | string | JWT refresh token (7 days validity) | | <code>tokenType</code> | string | Always \"Bearer\" | | <code>expiresIn</code> | number | Access token expiration in seconds (900) | | <code>username</code> | string | Authenticated user's username | | <code>roles</code> | array | User's roles (e.g., [\"ROLE_ADMIN\", \"ROLE_USER\"]) |</p> <p>Error Responses:</p> <p>Invalid Credentials (401 Unauthorized): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid username or password\",\n  \"path\": \"/api/auth/login\"\n}\n</code></pre></p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"username\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    }\n  ],\n  \"path\": \"/api/auth/login\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"admin\",\n    \"password\": \"your-password\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/auth/login', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    username: 'admin',\n    password: 'your-password'\n  })\n});\n\nconst data = await response.json();\n// Store tokens\nlocalStorage.setItem('accessToken', data.accessToken);\nlocalStorage.setItem('refreshToken', data.refreshToken);\n</code></pre></p>"},{"location":"api/authentication/#32-refresh-token","title":"3.2 Refresh Token","text":"<p>Obtain a new access token using a valid refresh token.</p> <p>Endpoint: <code>POST /api/auth/refresh</code></p> <p>Authentication: None (public endpoint, requires valid refresh token)</p> <p>Request Body: <pre><code>{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>refreshToken</code> | string | Yes | Valid refresh token from login |</p> <p>Success Response (200 OK): <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 900\n}\n</code></pre></p> <p>Response Schema: | Field | Type | Description | |-------|------|-------------| | <code>accessToken</code> | string | New JWT access token (15 min validity) | | <code>refreshToken</code> | string | New JWT refresh token (7 days validity) | | <code>tokenType</code> | string | Always \"Bearer\" | | <code>expiresIn</code> | number | Access token expiration in seconds (900) |</p> <p>Error Responses:</p> <p>Invalid Token (401 Unauthorized): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid refresh token\",\n  \"path\": \"/api/auth/refresh\"\n}\n</code></pre></p> <p>Expired Token (401 Unauthorized): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Refresh token expired\",\n  \"path\": \"/api/auth/refresh\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/refresh \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const refreshToken = localStorage.getItem('refreshToken');\n\nconst response = await fetch('http://localhost:8080/api/auth/refresh', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({ refreshToken })\n});\n\nconst data = await response.json();\n// Update stored tokens\nlocalStorage.setItem('accessToken', data.accessToken);\nlocalStorage.setItem('refreshToken', data.refreshToken);\n</code></pre></p>"},{"location":"api/authentication/#33-logout","title":"3.3 Logout","text":"<p>Invalidate a refresh token.</p> <p>Endpoint: <code>POST /api/auth/logout</code></p> <p>Authentication: Required (Bearer token)</p> <p>Request Body: <pre><code>{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>refreshToken</code> | string | Yes | Refresh token to invalidate |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Logout successful\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/auth/logout\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/logout \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiJ9...\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const accessToken = localStorage.getItem('accessToken');\nconst refreshToken = localStorage.getItem('refreshToken');\n\nawait fetch('http://localhost:8080/api/auth/logout', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: JSON.stringify({ refreshToken })\n});\n\n// Clear local storage\nlocalStorage.removeItem('accessToken');\nlocalStorage.removeItem('refreshToken');\n</code></pre></p>"},{"location":"api/authentication/#34-change-password","title":"3.4 Change Password","text":"<p>Change the authenticated user's password.</p> <p>Endpoint: <code>POST /api/auth/change-password</code></p> <p>Authentication: Required (Bearer token)</p> <p>Request Body: <pre><code>{\n  \"currentPassword\": \"old-password\",\n  \"newPassword\": \"new-password\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>currentPassword</code> | string | Yes | Not blank | Current password | | <code>newPassword</code> | string | Yes | Min 8 chars | New password |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Password changed successfully\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Invalid Current Password (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Current password is incorrect\",\n  \"path\": \"/api/auth/change-password\"\n}\n</code></pre></p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"newPassword\",\n      \"rejectedValue\": \"short\",\n      \"message\": \"must be at least 8 characters\"\n    }\n  ],\n  \"path\": \"/api/auth/change-password\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/auth/change-password \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"currentPassword\": \"old-password\",\n    \"newPassword\": \"new-secure-password\"\n  }'\n</code></pre></p>"},{"location":"api/authentication/#4-token-management","title":"4. Token Management","text":""},{"location":"api/authentication/#access-token","title":"Access Token","text":"<p>Validity: 15 minutes Usage: Include in <code>Authorization</code> header for all protected endpoints Format: <code>Authorization: Bearer &lt;access_token&gt;</code></p> <p>Token Structure: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"admin\",\n  \"authorities\": [\n    {\"authority\": \"ROLE_ADMIN\"}\n  ],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p>"},{"location":"api/authentication/#refresh-token","title":"Refresh Token","text":"<p>Validity: 7 days Usage: Obtain new access tokens via <code>/api/auth/refresh</code> Storage: Database (<code>refresh_tokens</code> table) with user association</p> <p>Token Structure: <pre><code>{\n  \"type\": \"refresh\",\n  \"sub\": \"admin\",\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700604800\n}\n</code></pre></p>"},{"location":"api/authentication/#token-rotation","title":"Token Rotation","text":"<p>When refreshing tokens: 1. Old refresh token is invalidated in the database 2. New refresh token is generated and stored 3. New access token is generated 4. Both tokens are returned to the client</p> <p>Best Practice: Always update both tokens in client storage after refresh.</p>"},{"location":"api/authentication/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/authentication/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Invalid credentials 401 \"Invalid username or password\" Expired access token 401 \"Token has expired\" Invalid token format 401 \"Invalid token format\" Expired refresh token 401 \"Refresh token expired\" Token not found in DB 401 \"Invalid refresh token\" Missing Authorization header 401 \"Missing or invalid Authorization header\" Wrong password (change-password) 400 \"Current password is incorrect\" Validation errors 400 \"Validation failed\" with field details"},{"location":"api/authentication/#handling-token-expiration-frontend","title":"Handling Token Expiration (Frontend)","text":"<p>Recommended Approach:</p> <pre><code>// HTTP Interceptor for automatic token refresh\nasync function fetchWithTokenRefresh(url, options = {}) {\n  const accessToken = localStorage.getItem('accessToken');\n\n  // Add access token to request\n  options.headers = {\n    ...options.headers,\n    'Authorization': `Bearer ${accessToken}`\n  };\n\n  let response = await fetch(url, options);\n\n  // If 401, try to refresh token\n  if (response.status === 401) {\n    const refreshToken = localStorage.getItem('refreshToken');\n\n    const refreshResponse = await fetch('/api/auth/refresh', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ refreshToken })\n    });\n\n    if (refreshResponse.ok) {\n      const { accessToken, refreshToken: newRefreshToken } = await refreshResponse.json();\n      localStorage.setItem('accessToken', accessToken);\n      localStorage.setItem('refreshToken', newRefreshToken);\n\n      // Retry original request\n      options.headers['Authorization'] = `Bearer ${accessToken}`;\n      response = await fetch(url, options);\n    } else {\n      // Refresh failed, redirect to login\n      window.location.href = '/login';\n    }\n  }\n\n  return response;\n}\n</code></pre>"},{"location":"api/authentication/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Security: Authentication Architecture - JWT implementation details and security considerations</li> <li>Security: RBAC - Role-based access control</li> <li>Security: Password Management - Password policies</li> </ul>"},{"location":"api/contact/","title":"Contact API","text":""},{"location":"api/contact/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 Send Contact Message</li> <li>Rate Limiting</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/contact/#1-overview","title":"1. Overview","text":"<p>The Contact API provides a public endpoint for users to send contact messages. Features built-in rate limiting to prevent spam and abuse.</p> <p>Base Path: <code>/api/contact</code></p> <p>Features: - Public endpoint (no authentication required) - Email sending functionality - IP-based rate limiting (default: 5 requests per hour) - Redis-backed rate limit tracking - Automatic cleanup after 1-hour window - Validation for all input fields</p>"},{"location":"api/contact/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/contact/#21-send-contact-message","title":"2.1 Send Contact Message","text":"<p>Send a contact form message (public endpoint with rate limiting).</p> <p>Endpoint: <code>POST /api/contact</code></p> <p>Authentication: None (public)</p> <p>Rate Limit: 5 requests per hour per IP address (configurable)</p> <p>Request Body: <pre><code>{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"subject\": \"Inquiry about your services\",\n  \"message\": \"Hello, I would like to know more about your portfolio projects and availability for freelance work.\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>name</code> | string | Yes | 2-100 chars | Sender's full name | | <code>email</code> | string | Yes | Valid email, max 100 chars | Sender's email address | | <code>subject</code> | string | Yes | 3-200 chars | Message subject line | | <code>message</code> | string | Yes | 10-5000 chars | Message body |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Your message has been sent successfully. We will get back to you soon.\",\n  \"success\": true,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"Name is required\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid-email\",\n      \"message\": \"Email must be valid\"\n    },\n    {\n      \"field\": \"subject\",\n      \"rejectedValue\": \"Hi\",\n      \"message\": \"Subject must be between 3 and 200 characters\"\n    },\n    {\n      \"field\": \"message\",\n      \"rejectedValue\": \"Short\",\n      \"message\": \"Message must be between 10 and 5000 characters\"\n    }\n  ],\n  \"path\": \"/api/contact\"\n}\n</code></pre></p> <p>Rate Limit Exceeded (429 Too Many Requests): <pre><code>{\n  \"message\": \"Rate limit exceeded. You can send maximum 5 messages per hour. Please try again later.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Email Send Failure (500 Internal Server Error): <pre><code>{\n  \"message\": \"Failed to send email. Please try again later or contact us directly.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/contact \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"subject\": \"Inquiry about your services\",\n    \"message\": \"Hello, I would like to know more about your portfolio projects.\"\n  }'\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/contact', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    subject: 'Inquiry about your services',\n    message: 'Hello, I would like to know more about your portfolio projects.'\n  })\n});\n\nconst data = await response.json();\n\nif (response.status === 429) {\n  alert('Rate limit exceeded. Please try again later.');\n} else if (data.success) {\n  alert('Message sent successfully!');\n} else {\n  alert('Failed to send message: ' + data.message);\n}\n</code></pre></p>"},{"location":"api/contact/#3-rate-limiting","title":"3. Rate Limiting","text":""},{"location":"api/contact/#overview","title":"Overview","text":"<p>The Contact API implements IP-based rate limiting to prevent spam and abuse. Uses Redis for distributed rate limit tracking.</p>"},{"location":"api/contact/#configuration","title":"Configuration","text":"<p>Default Limits: - Maximum Requests: 5 requests per hour per IP - Window Size: 1 hour (60 minutes) - Reset: Automatic after 1 hour</p> <p>Configuration Property: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Configurable in application.yml\n</code></pre></p>"},{"location":"api/contact/#how-rate-limiting-works","title":"How Rate Limiting Works","text":"<ol> <li>IP Address Extraction: Client IP address extracted from <code>HttpServletRequest</code></li> <li>Supports X-Forwarded-For header for proxied requests</li> <li> <p>Uses RemoteAddr as fallback</p> </li> <li> <p>Redis Counter:</p> </li> <li>Key format: <code>rate_limit:contact:{ip}</code></li> <li>Value: Request count</li> <li> <p>Expiration: 1 hour from first request</p> </li> <li> <p>Request Flow:</p> </li> <li>Extract client IP address</li> <li>Increment Redis counter for IP</li> <li>Check if count exceeds limit</li> <li>If exceeded: Return 429 Too Many Requests</li> <li>If allowed: Process contact request</li> <li> <p>Set 1-hour expiration on first request</p> </li> <li> <p>Atomic Operations:</p> </li> <li>Counter increment is atomic (thread-safe)</li> <li>Expiration set only on first request (count == 1)</li> <li>Prevents race conditions in distributed environments</li> </ol>"},{"location":"api/contact/#rate-limit-headers","title":"Rate Limit Headers","text":"<p>The current implementation does not include rate limit headers in responses. Consider adding these headers for better client experience: - <code>X-RateLimit-Limit</code> - Maximum requests per hour - <code>X-RateLimit-Remaining</code> - Remaining requests in current window - <code>X-RateLimit-Reset</code> - Timestamp when the rate limit resets</p>"},{"location":"api/contact/#redis-storage","title":"Redis Storage","text":"<p>Key: <code>rate_limit:contact:{ip}</code></p> <p>Value: Request count (Long)</p> <p>TTL: 1 hour (3600 seconds)</p> <p>Example Redis entries: <pre><code>rate_limit:contact:192.168.1.100 = 3  (TTL: 2400 seconds remaining)\nrate_limit:contact:10.0.0.50 = 5      (TTL: 1800 seconds remaining)\nrate_limit:contact:172.16.0.1 = 1     (TTL: 3599 seconds remaining)\n</code></pre></p>"},{"location":"api/contact/#4-data-models","title":"4. Data Models","text":""},{"location":"api/contact/#contactrequest","title":"ContactRequest","text":"Field Type Required Constraints Description <code>name</code> string Yes 2-100 chars Sender's full name <code>email</code> string Yes Valid email format, max 100 chars Sender's email address <code>subject</code> string Yes 3-200 chars Message subject line <code>message</code> string Yes 10-5000 chars Message body <p>Validation Rules: - name: Cannot be blank, minimum 2 characters to prevent single-letter names - email: Must match valid email regex pattern (RFC 5322 compliant) - subject: Minimum 3 characters to ensure meaningful subject - message: Minimum 10 characters to prevent spam, maximum 5000 to prevent abuse</p> <p>Example ContactRequest: <pre><code>{\n  \"name\": \"Jane Smith\",\n  \"email\": \"jane.smith@example.com\",\n  \"subject\": \"Question about collaboration\",\n  \"message\": \"I came across your portfolio and I'm impressed with your work on microservices architecture. Would you be available for a consulting project?\"\n}\n</code></pre></p>"},{"location":"api/contact/#contactresponse","title":"ContactResponse","text":"Field Type Nullable Description <code>message</code> string No Response message (success or error description) <code>success</code> boolean No True if email sent successfully, false otherwise <code>timestamp</code> datetime No Response timestamp (ISO 8601 format) <p>Factory Methods: <pre><code>// Success response\nContactResponse.success(\"Your message has been sent successfully.\")\n\n// Error response\nContactResponse.error(\"Rate limit exceeded. Please try again later.\")\n</code></pre></p> <p>Example Success Response: <pre><code>{\n  \"message\": \"Your message has been sent successfully. We will get back to you soon.\",\n  \"success\": true,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Example Error Response: <pre><code>{\n  \"message\": \"Failed to send email. Please try again later.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.456\"\n}\n</code></pre></p>"},{"location":"api/contact/#5-business-rules","title":"5. Business Rules","text":""},{"location":"api/contact/#message-validation","title":"Message Validation","text":"<ol> <li>Name Requirements:</li> <li>Minimum 2 characters (prevents single-letter entries)</li> <li>Maximum 100 characters (prevents abuse)</li> <li> <p>Must not be blank or whitespace-only</p> </li> <li> <p>Email Requirements:</p> </li> <li>Must be valid email format (RFC 5322 compliant)</li> <li>Maximum 100 characters</li> <li> <p>Must not be blank</p> </li> <li> <p>Subject Requirements:</p> </li> <li>Minimum 3 characters (ensures meaningful subject)</li> <li>Maximum 200 characters</li> <li> <p>Must not be blank or whitespace-only</p> </li> <li> <p>Message Requirements:</p> </li> <li>Minimum 10 characters (prevents spam)</li> <li>Maximum 5000 characters (prevents abuse)</li> <li>Must not be blank or whitespace-only</li> </ol>"},{"location":"api/contact/#rate-limiting-rules","title":"Rate Limiting Rules","text":"<ol> <li>IP-Based Throttling:</li> <li>Each IP address has independent quota</li> <li>Quota resets automatically after 1 hour</li> <li> <p>Counter persists in Redis (survives application restarts)</p> </li> <li> <p>Default Quota:</p> </li> <li>5 requests per hour per IP address</li> <li> <p>Configurable via <code>app.rate-limit.contact.max-requests-per-hour</code></p> </li> <li> <p>Rate Limit Enforcement:</p> </li> <li>Checked before processing request</li> <li>If exceeded: 429 Too Many Requests returned immediately</li> <li> <p>If allowed: Request processed normally</p> </li> <li> <p>Window Sliding:</p> </li> <li>Fixed 1-hour window from first request</li> <li>Counter expires automatically after 1 hour</li> <li>New window starts on next request after expiration</li> </ol>"},{"location":"api/contact/#email-handling","title":"Email Handling","text":"<ol> <li>Synchronous Processing: Email sent synchronously (blocks request until complete)</li> <li>Error Handling: Email send failures return 500 Internal Server Error</li> <li>No Retry Logic: Failed sends are not retried automatically</li> <li>No Persistence: Contact messages are not stored in database (sent via email only)</li> </ol>"},{"location":"api/contact/#6-error-handling","title":"6. Error Handling","text":""},{"location":"api/contact/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Response Format Example Rate limit exceeded 429 ContactResponse <code>{\"message\": \"Rate limit exceeded...\", \"success\": false}</code> Missing required field 400 Validation Error Field-specific validation errors Invalid email format 400 Validation Error <code>\"Email must be valid\"</code> Message too short 400 Validation Error <code>\"Message must be between 10 and 5000 characters\"</code> Email send failure 500 ContactResponse <code>{\"message\": \"Failed to send email...\", \"success\": false}</code>"},{"location":"api/contact/#validation-error-response-structure","title":"Validation Error Response Structure","text":"<pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"J\",\n      \"message\": \"Name must be between 2 and 100 characters\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid\",\n      \"message\": \"Email must be valid\"\n    },\n    {\n      \"field\": \"subject\",\n      \"rejectedValue\": \"Hi\",\n      \"message\": \"Subject must be between 3 and 200 characters\"\n    },\n    {\n      \"field\": \"message\",\n      \"rejectedValue\": \"Hello\",\n      \"message\": \"Message must be between 10 and 5000 characters\"\n    }\n  ],\n  \"path\": \"/api/contact\"\n}\n</code></pre>"},{"location":"api/contact/#rate-limit-error-response","title":"Rate Limit Error Response","text":"<p>Status Code: 429 Too Many Requests</p> <p>Response Body: <pre><code>{\n  \"message\": \"Rate limit exceeded. You can send maximum 5 messages per hour. Please try again later.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Client Handling: 1. Display user-friendly error message 2. Show remaining time until reset (if available) 3. Prevent form resubmission 4. Consider implementing exponential backoff for retries</p>"},{"location":"api/contact/#email-send-failure-response","title":"Email Send Failure Response","text":"<p>Status Code: 500 Internal Server Error</p> <p>Response Body: <pre><code>{\n  \"message\": \"Failed to send email. Please try again later or contact us directly.\",\n  \"success\": false,\n  \"timestamp\": \"2025-11-19T15:30:00.123\"\n}\n</code></pre></p> <p>Possible Causes: - Email server unavailable - Network connectivity issues - Authentication failure with email provider - Invalid email configuration</p>"},{"location":"api/contact/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Features: Contact Form - Contact form feature details</li> <li>Security: Rate Limiting - Rate limiting implementation</li> <li>Reference: Configuration Properties - Configuration options</li> </ul>"},{"location":"api/cv/","title":"CV Management API","text":""},{"location":"api/cv/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 Get Current CV</li> <li>2.2 Download CV</li> <li>2.3 Upload CV</li> <li>2.4 List All CVs</li> <li>2.5 Set Current CV</li> <li>2.6 Delete CV</li> <li>Data Models</li> <li>Versioning System</li> <li>Error Handling</li> </ol>"},{"location":"api/cv/#1-overview","title":"1. Overview","text":"<p>The CV Management API provides endpoints for uploading, managing, and versioning CV/resume files.</p> <p>Base Paths: - Public: <code>/api/cv</code> - Admin: <code>/api/admin/cv</code></p> <p>Features: - CV upload with PDF validation - Version control system - Single \"current\" CV designation - User tracking (who uploaded which CV) - Public access to current CV - Admin-only upload and management</p>"},{"location":"api/cv/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/cv/#21-get-current-cv","title":"2.1 Get Current CV","text":"<p>Retrieve the currently active CV (public endpoint).</p> <p>Endpoint: <code>GET /api/cv/current</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 3,\n  \"filename\": \"cv_emmanuel_gabe_2025.pdf\",\n  \"filePath\": \"/uploads/cvs/cv_3_1700000000.pdf\",\n  \"uploadedAt\": \"2025-11-19T10:30:00\",\n  \"isCurrent\": true,\n  \"uploadedBy\": {\n    \"id\": 1,\n    \"username\": \"admin\"\n  }\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"No current CV available\",\n  \"path\": \"/api/cv/current\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/cv/current\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/cv/current');\nif (response.ok) {\n  const currentCv = await response.json();\n  console.log('Current CV:', currentCv.filename);\n} else {\n  console.log('No CV available');\n}\n</code></pre></p>"},{"location":"api/cv/#22-download-cv","title":"2.2 Download CV","text":"<p>Download a specific CV file (public endpoint).</p> <p>Endpoint: <code>GET /api/cv/download/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | CV ID to download |</p> <p>Success Response (200 OK): - Content-Type: <code>application/pdf</code> - Content-Disposition: <code>attachment; filename=\"cv_emmanuel_gabe_2025.pdf\"</code> - Body: Binary PDF file</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"CV not found with id: 999\",\n  \"path\": \"/api/cv/download/999\"\n}\n</code></pre></p> <p>File Not Found (500 Internal Server Error): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"message\": \"CV file not found on disk\",\n  \"path\": \"/api/cv/download/3\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code># Download CV\ncurl -X GET http://localhost:8080/api/cv/download/3 \\\n  --output cv_download.pdf\n\n# Download current CV (chain requests)\nCV_ID=$(curl -s http://localhost:8080/api/cv/current | jq -r '.id')\ncurl -X GET http://localhost:8080/api/cv/download/$CV_ID \\\n  --output current_cv.pdf\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>// Download CV with progress\nasync function downloadCv(cvId) {\n  const response = await fetch(`http://localhost:8080/api/cv/download/${cvId}`);\n\n  if (!response.ok) {\n    throw new Error('CV not found');\n  }\n\n  const blob = await response.blob();\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = response.headers.get('Content-Disposition')\n    ?.split('filename=')[1]\n    ?.replace(/\"/g, '') || 'cv.pdf';\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  window.URL.revokeObjectURL(url);\n}\n\n// Usage\nawait downloadCv(3);\n</code></pre></p>"},{"location":"api/cv/#23-upload-cv","title":"2.3 Upload CV","text":"<p>Upload a new CV (admin only).</p> <p>Endpoint: <code>POST /api/admin/cv/upload</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>file</code> | file | Yes | PDF file (CV/resume) |</p> <p>File Constraints: - Max Size: 10 MB - Supported MIME Type: <code>application/pdf</code> only - Validation: Magic bytes validation (checks actual file content, not extension)</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 4,\n  \"filename\": \"cv_emmanuel_gabe_2025_v2.pdf\",\n  \"filePath\": \"/uploads/cvs/cv_4_1700001000.pdf\",\n  \"uploadedAt\": \"2025-11-19T15:30:00\",\n  \"isCurrent\": false,\n  \"uploadedBy\": {\n    \"id\": 1,\n    \"username\": \"admin\"\n  }\n}\n</code></pre></p> <p>Processing Details: - File stored in <code>uploads/cvs/</code> directory - File renamed to <code>cv_{id}_{timestamp}.pdf</code> - Original filename preserved in <code>filename</code> field - <code>isCurrent</code> set to <code>false</code> by default (use \"Set Current CV\" endpoint to activate) - Upload tracked to authenticated user</p> <p>Error Responses:</p> <p>Invalid File Type (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid file type. Only PDF files are allowed\",\n  \"path\": \"/api/admin/cv/upload\"\n}\n</code></pre></p> <p>File Too Large (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File size exceeds maximum allowed size (10 MB)\",\n  \"path\": \"/api/admin/cv/upload\"\n}\n</code></pre></p> <p>No File Provided (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File is required\",\n  \"path\": \"/api/admin/cv/upload\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/cv/upload \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -F \"file=@/path/to/cv_emmanuel_gabe.pdf\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', cvFileInput.files[0]);\n\nconst response = await fetch('http://localhost:8080/api/admin/cv/upload', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: formData\n});\n\nconst uploadedCv = await response.json();\nconsole.log('CV uploaded:', uploadedCv.filename);\nconsole.log('CV ID:', uploadedCv.id);\n</code></pre></p>"},{"location":"api/cv/#24-list-all-cvs","title":"2.4 List All CVs","text":"<p>Retrieve all uploaded CVs (admin only).</p> <p>Endpoint: <code>GET /api/admin/cv/all</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 4,\n    \"filename\": \"cv_emmanuel_gabe_2025_v2.pdf\",\n    \"filePath\": \"/uploads/cvs/cv_4_1700001000.pdf\",\n    \"uploadedAt\": \"2025-11-19T15:30:00\",\n    \"isCurrent\": true,\n    \"uploadedBy\": {\n      \"id\": 1,\n      \"username\": \"admin\"\n    }\n  },\n  {\n    \"id\": 3,\n    \"filename\": \"cv_emmanuel_gabe_2025.pdf\",\n    \"filePath\": \"/uploads/cvs/cv_3_1700000000.pdf\",\n    \"uploadedAt\": \"2025-11-18T10:30:00\",\n    \"isCurrent\": false,\n    \"uploadedBy\": {\n      \"id\": 1,\n      \"username\": \"admin\"\n    }\n  },\n  {\n    \"id\": 2,\n    \"filename\": \"cv_emmanuel_gabe_2024.pdf\",\n    \"filePath\": \"/uploads/cvs/cv_2_1699000000.pdf\",\n    \"uploadedAt\": \"2025-11-01T09:00:00\",\n    \"isCurrent\": false,\n    \"uploadedBy\": {\n      \"id\": 2,\n      \"username\": \"editor\"\n    }\n  }\n]\n</code></pre></p> <p>Note: CVs are ordered by upload date (most recent first).</p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/admin/cv/all \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/cv/#25-set-current-cv","title":"2.5 Set Current CV","text":"<p>Set a specific CV as the current active CV (admin only).</p> <p>Endpoint: <code>PUT /api/admin/cv/{id}/set-current</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | CV ID to set as current |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 4,\n  \"filename\": \"cv_emmanuel_gabe_2025_v2.pdf\",\n  \"filePath\": \"/uploads/cvs/cv_4_1700001000.pdf\",\n  \"uploadedAt\": \"2025-11-19T15:30:00\",\n  \"isCurrent\": true,\n  \"uploadedBy\": {\n    \"id\": 1,\n    \"username\": \"admin\"\n  }\n}\n</code></pre></p> <p>Business Rule: Only ONE CV can be current at any time. Setting a CV as current automatically unsets all other CVs.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"CV not found with id: 999\",\n  \"path\": \"/api/admin/cv/999/set-current\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/cv/4/set-current \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p> <p>Example Workflow (JavaScript): <pre><code>// 1. Upload new CV\nconst formData = new FormData();\nformData.append('file', newCvFile);\n\nconst uploadResponse = await fetch('http://localhost:8080/api/admin/cv/upload', {\n  method: 'POST',\n  headers: { 'Authorization': `Bearer ${accessToken}` },\n  body: formData\n});\n\nconst newCv = await uploadResponse.json();\n\n// 2. Set as current\nawait fetch(`http://localhost:8080/api/admin/cv/${newCv.id}/set-current`, {\n  method: 'PUT',\n  headers: { 'Authorization': `Bearer ${accessToken}` }\n});\n\nconsole.log('New CV is now active');\n</code></pre></p>"},{"location":"api/cv/#26-delete-cv","title":"2.6 Delete CV","text":"<p>Delete a CV (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/cv/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | CV ID to delete |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"CV deleted successfully\"\n}\n</code></pre></p> <p>Business Rule: You can delete the current CV. If deleted, there will be no current CV until another is set.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"CV not found with id: 999\",\n  \"path\": \"/api/admin/cv/999\"\n}\n</code></pre></p> <p>Note: Deleting a CV: - Removes the database record - Deletes the physical PDF file from disk - If it was the current CV, there will be no current CV</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/cv/2 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/cv/#3-data-models","title":"3. Data Models","text":""},{"location":"api/cv/#cvresponse","title":"CvResponse","text":"Field Type Nullable Description <code>id</code> integer No CV ID <code>filename</code> string No Original filename (e.g., \"cv_john_doe.pdf\") <code>filePath</code> string No Server file path (e.g., \"/uploads/cvs/cv_3_1700000000.pdf\") <code>uploadedAt</code> datetime No Upload timestamp <code>isCurrent</code> boolean No Whether this is the active CV <code>uploadedBy</code> object No User who uploaded the CV"},{"location":"api/cv/#userresponse-nested-in-cvresponse","title":"UserResponse (Nested in CvResponse)","text":"Field Type Description <code>id</code> integer User ID <code>username</code> string Username"},{"location":"api/cv/#4-versioning-system","title":"4. Versioning System","text":""},{"location":"api/cv/#how-versioning-works","title":"How Versioning Works","text":"<ol> <li>Multiple CVs Allowed: You can upload multiple CV versions</li> <li>One Current CV: Only one CV can be marked as \"current\" at any time</li> <li>Automatic Deactivation: Setting a CV as current automatically deactivates all others</li> <li>Historical Tracking: All previous CVs remain accessible unless explicitly deleted</li> <li>User Tracking: Each CV tracks which admin user uploaded it</li> </ol>"},{"location":"api/cv/#typical-workflow","title":"Typical Workflow","text":"<pre><code>1. Upload CV v1 \u2192 isCurrent: false\n2. Set CV v1 as current \u2192 isCurrent: true\n3. Upload CV v2 \u2192 isCurrent: false (v1 still current)\n4. Set CV v2 as current \u2192 v2.isCurrent: true, v1.isCurrent: false\n5. Upload CV v3 \u2192 isCurrent: false (v2 still current)\n6. Delete CV v1 \u2192 Only v2 (current) and v3 remain\n</code></pre>"},{"location":"api/cv/#database-constraint","title":"Database Constraint","text":"<p>UNIQUE Constraint: Only one row can have <code>is_current = true</code></p> <pre><code>CREATE UNIQUE INDEX unique_current_cv ON cvs (is_current) WHERE is_current = true;\n</code></pre> <p>This ensures data integrity at the database level.</p>"},{"location":"api/cv/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/cv/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message CV not found 404 \"CV not found with id: {id}\" No current CV exists 404 \"No current CV available\" File not PDF 400 \"Invalid file type. Only PDF files are allowed\" File too large 400 \"File size exceeds maximum allowed size (10 MB)\" No file provided 400 \"File is required\" Physical file missing 500 \"CV file not found on disk\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/cv/#frontend-file-validation","title":"Frontend File Validation","text":"<p>Recommended Pre-Upload Validation: <pre><code>function validateCvFile(file) {\n  const errors = [];\n\n  // Check file type\n  if (file.type !== 'application/pdf') {\n    errors.push('Only PDF files are allowed');\n  }\n\n  // Check file size (10 MB = 10 * 1024 * 1024 bytes)\n  const maxSize = 10 * 1024 * 1024;\n  if (file.size &gt; maxSize) {\n    errors.push('File size must be less than 10 MB');\n  }\n\n  // Check if file exists\n  if (!file || file.size === 0) {\n    errors.push('File is required');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n\n// Usage\nconst validation = validateCvFile(fileInput.files[0]);\nif (!validation.valid) {\n  alert(validation.errors.join('\\n'));\n} else {\n  // Proceed with upload\n}\n</code></pre></p>"},{"location":"api/cv/#handling-download-errors","title":"Handling Download Errors","text":"<pre><code>async function safeDownloadCv(cvId) {\n  try {\n    const response = await fetch(`http://localhost:8080/api/cv/download/${cvId}`);\n\n    if (response.status === 404) {\n      console.error('CV not found');\n      return null;\n    }\n\n    if (response.status === 500) {\n      console.error('CV file missing on server');\n      return null;\n    }\n\n    if (!response.ok) {\n      throw new Error(`Download failed: ${response.statusText}`);\n    }\n\n    const blob = await response.blob();\n    return blob;\n  } catch (error) {\n    console.error('Download error:', error);\n    return null;\n  }\n}\n</code></pre>"},{"location":"api/cv/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Files API - Generic file upload</li> <li>Features: CV Management - CV system architecture</li> <li>Features: File Storage - File storage details</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/experiences/","title":"Experiences API","text":""},{"location":"api/experiences/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List All Experiences</li> <li>2.2 Get Experience by ID</li> <li>2.3 Create Experience</li> <li>2.4 Update Experience</li> <li>2.5 Delete Experience</li> <li>2.6 Get Experiences by Type</li> <li>2.7 Get Ongoing Experiences</li> <li>2.8 Get Recent Experiences</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/experiences/#1-overview","title":"1. Overview","text":"<p>The Experiences API provides endpoints for managing professional, educational, certification, and volunteering experiences. Used to build a timeline of career and educational milestones.</p> <p>Base Paths: - Public: <code>/api/experiences</code> - Admin: <code>/api/experiences/admin</code></p> <p>Features: - Full CRUD operations for experiences - Four experience types: WORK, EDUCATION, CERTIFICATION, VOLUNTEERING - Ongoing experiences tracking (null endDate) - Type-based filtering - Recent experiences retrieval with configurable limit - Chronological sorting by start date (descending) - Public read access, admin-only write access</p>"},{"location":"api/experiences/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/experiences/#21-list-all-experiences","title":"2.1 List All Experiences","text":"<p>Retrieve all experiences ordered by start date descending (public endpoint).</p> <p>Endpoint: <code>GET /api/experiences</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes. Mentoring junior developers and conducting code reviews.\",\n    \"type\": \"WORK\",\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  },\n  {\n    \"id\": 2,\n    \"company\": \"Tech University\",\n    \"role\": \"Master's Degree in Computer Science\",\n    \"startDate\": \"2020-09-01\",\n    \"endDate\": \"2022-06-30\",\n    \"description\": \"Specialized in distributed systems and cloud computing. Thesis on microservices optimization strategies.\",\n    \"type\": \"EDUCATION\",\n    \"ongoing\": false,\n    \"createdAt\": \"2025-10-15T08:20:00\",\n    \"updatedAt\": \"2025-10-15T08:20:00\"\n  },\n  {\n    \"id\": 3,\n    \"company\": \"Oracle\",\n    \"role\": \"Oracle Certified Professional Java SE 17 Developer\",\n    \"startDate\": \"2023-05-10\",\n    \"endDate\": \"2023-05-10\",\n    \"description\": \"Certified in advanced Java programming concepts including concurrency, streams, and modular programming.\",\n    \"type\": \"CERTIFICATION\",\n    \"ongoing\": false,\n    \"createdAt\": \"2025-10-10T14:00:00\",\n    \"updatedAt\": \"2025-10-10T14:00:00\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/experiences\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/experiences');\nconst experiences = await response.json();\n</code></pre></p>"},{"location":"api/experiences/#22-get-experience-by-id","title":"2.2 Get Experience by ID","text":"<p>Retrieve a single experience by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/experiences/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Experience ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes. Mentoring junior developers and conducting code reviews.\",\n  \"type\": \"WORK\",\n  \"ongoing\": true,\n  \"createdAt\": \"2025-11-01T10:30:00\",\n  \"updatedAt\": \"2025-11-01T10:30:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/experiences/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/experiences/1\n</code></pre></p>"},{"location":"api/experiences/#23-create-experience","title":"2.3 Create Experience","text":"<p>Create a new experience (admin only).</p> <p>Endpoint: <code>POST /api/experiences/admin</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes.\",\n  \"type\": \"WORK\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>company</code> | string | Yes | 2-200 chars | Company or organization name | | <code>role</code> | string | Yes | 2-200 chars | Job title, degree, or certification name | | <code>startDate</code> | date | Yes | ISO 8601, past/present | Experience start date | | <code>endDate</code> | date | No | ISO 8601, past/present | Experience end date (null for ongoing) | | <code>description</code> | string | Yes | 10-2000 chars | Detailed description | | <code>type</code> | enum | Yes | See Experience Types | WORK, EDUCATION, CERTIFICATION, VOLUNTEERING |</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 4,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"description\": \"Leading development of microservices architecture using Spring Boot and Kubernetes.\",\n  \"type\": \"WORK\",\n  \"ongoing\": true,\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"company\",\n      \"rejectedValue\": \"\",\n      \"message\": \"Company/Organization is required\"\n    },\n    {\n      \"field\": \"description\",\n      \"rejectedValue\": \"Too short\",\n      \"message\": \"Description must be between 10 and 2000 characters\"\n    },\n    {\n      \"field\": \"startDate\",\n      \"rejectedValue\": \"2030-01-01\",\n      \"message\": \"Start date cannot be in the future\"\n    }\n  ],\n  \"path\": \"/api/experiences/admin\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/experiences/admin\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/experiences/admin \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\"\n  }'\n</code></pre></p>"},{"location":"api/experiences/#24-update-experience","title":"2.4 Update Experience","text":"<p>Update an existing experience (admin only).</p> <p>Endpoint: <code>PUT /api/experiences/admin/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Experience ID to update |</p> <p>Request Body: <pre><code>{\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Lead Software Architect\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": \"2025-12-31\",\n  \"description\": \"Promoted to Lead Architect. Designing enterprise-scale systems and leading technical strategy.\",\n  \"type\": \"WORK\"\n}\n</code></pre></p> <p>Request Schema: Same as Create Experience, but all fields are optional (partial updates supported).</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Lead Software Architect\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": \"2025-12-31\",\n  \"description\": \"Promoted to Lead Architect. Designing enterprise-scale systems and leading technical strategy.\",\n  \"type\": \"WORK\",\n  \"ongoing\": false,\n  \"createdAt\": \"2025-11-01T10:30:00\",\n  \"updatedAt\": \"2025-11-19T16:45:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/experiences/admin/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/experiences/admin/1 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"role\": \"Lead Software Architect\",\n    \"description\": \"Promoted to Lead Architect.\"\n  }'\n</code></pre></p>"},{"location":"api/experiences/#25-delete-experience","title":"2.5 Delete Experience","text":"<p>Delete an experience (admin only).</p> <p>Endpoint: <code>DELETE /api/experiences/admin/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Experience ID to delete |</p> <p>Success Response (204 No Content): No response body.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Experience not found with id: 999\",\n  \"path\": \"/api/experiences/admin/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/experiences/admin/1 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/experiences/#26-get-experiences-by-type","title":"2.6 Get Experiences by Type","text":"<p>Retrieve experiences filtered by type (public endpoint).</p> <p>Endpoint: <code>GET /api/experiences/type/{type}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>type</code> | enum | Experience type: WORK, EDUCATION, CERTIFICATION, VOLUNTEERING |</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  }\n]\n</code></pre></p> <p>Error Response (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid experience type: INVALID_TYPE\",\n  \"path\": \"/api/experiences/type/INVALID_TYPE\"\n}\n</code></pre></p> <p>Example Requests (curl): <pre><code># Get all work experiences\ncurl -X GET http://localhost:8080/api/experiences/type/WORK\n\n# Get all education experiences\ncurl -X GET http://localhost:8080/api/experiences/type/EDUCATION\n\n# Get all certifications\ncurl -X GET http://localhost:8080/api/experiences/type/CERTIFICATION\n\n# Get all volunteering experiences\ncurl -X GET http://localhost:8080/api/experiences/type/VOLUNTEERING\n</code></pre></p>"},{"location":"api/experiences/#27-get-ongoing-experiences","title":"2.7 Get Ongoing Experiences","text":"<p>Retrieve all ongoing experiences (where endDate is null).</p> <p>Endpoint: <code>GET /api/experiences/ongoing</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  },\n  {\n    \"id\": 5,\n    \"company\": \"Local Tech Community\",\n    \"role\": \"Volunteer Mentor\",\n    \"startDate\": \"2024-06-01\",\n    \"endDate\": null,\n    \"description\": \"Mentoring aspiring developers in web development and software engineering best practices.\",\n    \"type\": \"VOLUNTEERING\",\n    \"ongoing\": true,\n    \"createdAt\": \"2025-10-05T12:15:00\",\n    \"updatedAt\": \"2025-10-05T12:15:00\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/experiences/ongoing\n</code></pre></p>"},{"location":"api/experiences/#28-get-recent-experiences","title":"2.8 Get Recent Experiences","text":"<p>Retrieve the N most recent experiences ordered by start date descending. Used for displaying a summary on the home page.</p> <p>Endpoint: <code>GET /api/experiences/recent</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: | Parameter | Type | Required | Default | Description | |-----------|------|----------|---------|-------------| | <code>limit</code> | integer | No | 3 | Maximum number of experiences to return |</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"description\": \"Leading development of microservices architecture.\",\n    \"type\": \"WORK\",\n    \"ongoing\": true,\n    \"createdAt\": \"2025-11-01T10:30:00\",\n    \"updatedAt\": \"2025-11-01T10:30:00\"\n  },\n  {\n    \"id\": 3,\n    \"company\": \"Oracle\",\n    \"role\": \"Oracle Certified Professional Java SE 17 Developer\",\n    \"startDate\": \"2023-05-10\",\n    \"endDate\": \"2023-05-10\",\n    \"description\": \"Certified in advanced Java programming concepts.\",\n    \"type\": \"CERTIFICATION\",\n    \"ongoing\": false,\n    \"createdAt\": \"2025-10-10T14:00:00\",\n    \"updatedAt\": \"2025-10-10T14:00:00\"\n  },\n  {\n    \"id\": 2,\n    \"company\": \"Tech University\",\n    \"role\": \"Master's Degree in Computer Science\",\n    \"startDate\": \"2020-09-01\",\n    \"endDate\": \"2022-06-30\",\n    \"description\": \"Specialized in distributed systems and cloud computing.\",\n    \"type\": \"EDUCATION\",\n    \"ongoing\": false,\n    \"createdAt\": \"2025-10-15T08:20:00\",\n    \"updatedAt\": \"2025-10-15T08:20:00\"\n  }\n]\n</code></pre></p> <p>Example Requests (curl): <pre><code># Get 3 most recent experiences (default)\ncurl -X GET http://localhost:8080/api/experiences/recent\n\n# Get 5 most recent experiences\ncurl -X GET \"http://localhost:8080/api/experiences/recent?limit=5\"\n\n# Get 10 most recent experiences\ncurl -X GET \"http://localhost:8080/api/experiences/recent?limit=10\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>// Get 3 most recent experiences for home page\nconst response = await fetch('http://localhost:8080/api/experiences/recent?limit=3');\nconst recentExperiences = await response.json();\n</code></pre></p>"},{"location":"api/experiences/#3-data-models","title":"3. Data Models","text":""},{"location":"api/experiences/#experienceresponse","title":"ExperienceResponse","text":"Field Type Nullable Description <code>id</code> integer No Experience ID <code>company</code> string No Company or organization name (2-200 chars) <code>role</code> string No Job title, degree, or certification name (2-200 chars) <code>startDate</code> date No Experience start date (ISO 8601 format) <code>endDate</code> date Yes Experience end date (null for ongoing) <code>description</code> string No Detailed description (10-2000 chars) <code>type</code> enum No Experience type (see below) <code>ongoing</code> boolean No True if endDate is null <code>createdAt</code> datetime No Creation timestamp <code>updatedAt</code> datetime No Last update timestamp"},{"location":"api/experiences/#experience-types","title":"Experience Types","text":"Type Description Use Cases <code>WORK</code> Professional work experience Jobs, internships, freelance projects <code>EDUCATION</code> Educational experience Degrees, diplomas, courses <code>CERTIFICATION</code> Professional certifications Technical certifications, qualifications <code>VOLUNTEERING</code> Volunteer work Community service, open source contributions"},{"location":"api/experiences/#4-business-rules","title":"4. Business Rules","text":""},{"location":"api/experiences/#experience-creation","title":"Experience Creation","text":"<ol> <li>Start Date Validation: Start date must be in the past or present (not future)</li> <li>End Date Validation: End date must be in the past or present (not future)</li> <li>Date Logic: End date cannot be before start date (validated server-side)</li> <li>Ongoing Experiences: Set <code>endDate</code> to <code>null</code> for ongoing experiences</li> <li>Type Required: Experience type must be one of the four enum values</li> <li>Description Length: Description must be meaningful (10-2000 characters)</li> </ol>"},{"location":"api/experiences/#experience-sorting","title":"Experience Sorting","text":"<ol> <li>Default Order: All list endpoints return experiences ordered by <code>startDate</code> descending (most recent first)</li> <li>Type Filtering: Type-based filtering maintains chronological order</li> <li>Ongoing Experiences: Ongoing experiences appear first (newest startDate to oldest)</li> </ol>"},{"location":"api/experiences/#partial-updates","title":"Partial Updates","text":"<ol> <li>UpdateExperienceRequest: All fields are optional</li> <li>Null Handling: Only provided fields are updated (null values ignored using MapStruct's NullValuePropertyMappingStrategy.IGNORE)</li> <li>Date Validation: If updating dates, same validation rules apply</li> </ol>"},{"location":"api/experiences/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/experiences/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Experience not found 404 \"Experience not found with id: {id}\" Missing required field 400 Field-specific validation message Invalid experience type 400 \"Invalid experience type: {type}\" Start date in future 400 \"Start date cannot be in the future\" End date in future 400 \"End date cannot be in the future\" End date before start date 400 \"End date cannot be before start date\" Description too short 400 \"Description must be between 10 and 2000 characters\" Company name too short 400 \"Company/Organization must be between 2 and 200 characters\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/experiences/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"company\",\n      \"rejectedValue\": \"A\",\n      \"message\": \"Company/Organization must be between 2 and 200 characters\"\n    },\n    {\n      \"field\": \"role\",\n      \"rejectedValue\": \"\",\n      \"message\": \"Role/Position is required\"\n    },\n    {\n      \"field\": \"startDate\",\n      \"rejectedValue\": \"2030-01-01\",\n      \"message\": \"Start date cannot be in the future\"\n    },\n    {\n      \"field\": \"description\",\n      \"rejectedValue\": \"Short\",\n      \"message\": \"Description must be between 10 and 2000 characters\"\n    },\n    {\n      \"field\": \"type\",\n      \"rejectedValue\": null,\n      \"message\": \"Experience type is required\"\n    }\n  ],\n  \"path\": \"/api/experiences/admin\"\n}\n</code></pre></p>"},{"location":"api/experiences/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Skills API - Skills management</li> <li>Projects API - Projects management</li> <li>Features: Experience Management - Experience feature details</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/files/","title":"File Upload API","text":""},{"location":"api/files/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 Generic File Upload</li> <li>File Validation</li> <li>Supported File Types</li> <li>Error Handling</li> </ol>"},{"location":"api/files/#1-overview","title":"1. Overview","text":"<p>The File Upload API provides a generic endpoint for uploading files with security validation.</p> <p>Base Path: <code>/api/admin/upload</code></p> <p>Features: - Generic file upload for admin users - MIME type validation using magic bytes - File size limits - Configurable upload paths - Security-first validation</p> <p>Note: This is a generic upload endpoint. For specific use cases, prefer dedicated endpoints: - Project images: <code>POST /api/admin/projects/{id}/upload-image</code> - CV files: <code>POST /api/admin/cv/upload</code></p>"},{"location":"api/files/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/files/#21-generic-file-upload","title":"2.1 Generic File Upload","text":"<p>Upload a file to the server (admin only).</p> <p>Endpoint: <code>POST /api/admin/upload</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>file</code> | file | Yes | File to upload |</p> <p>File Constraints: - Max Size: 10 MB (configurable) - Supported MIME Types: See Supported File Types - Validation Method: Magic bytes validation (not extension-based)</p> <p>Success Response (200 OK): <pre><code>{\n  \"filename\": \"document_1700000000.pdf\",\n  \"filePath\": \"/uploads/document_1700000000.pdf\",\n  \"fileSize\": 245760,\n  \"mimeType\": \"application/pdf\",\n  \"uploadedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Response Schema: | Field | Type | Description | |-------|------|-------------| | <code>filename</code> | string | Generated filename with timestamp | | <code>filePath</code> | string | Server file path (relative to upload root) | | <code>fileSize</code> | integer | File size in bytes | | <code>mimeType</code> | string | Detected MIME type | | <code>uploadedAt</code> | datetime | Upload timestamp |</p> <p>Error Responses:</p> <p>Invalid File Type (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid file type: text/html. Supported types: PDF, JPEG, PNG, WebP\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>File Too Large (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File size exceeds maximum allowed size (10 MB)\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>No File Provided (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File is required\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/upload\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/upload \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -F \"file=@/path/to/document.pdf\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nconst response = await fetch('http://localhost:8080/api/admin/upload', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: formData\n});\n\nconst uploadedFile = await response.json();\nconsole.log('File uploaded:', uploadedFile.filename);\nconsole.log('File path:', uploadedFile.filePath);\nconsole.log('File size:', uploadedFile.fileSize, 'bytes');\n</code></pre></p> <p>Example with Progress Tracking (JavaScript): <pre><code>async function uploadFileWithProgress(file, onProgress) {\n  return new Promise((resolve, reject) =&gt; {\n    const xhr = new XMLHttpRequest();\n    const formData = new FormData();\n    formData.append('file', file);\n\n    // Progress tracking\n    xhr.upload.addEventListener('progress', (e) =&gt; {\n      if (e.lengthComputable) {\n        const percentComplete = (e.loaded / e.total) * 100;\n        onProgress(percentComplete);\n      }\n    });\n\n    // Success handler\n    xhr.addEventListener('load', () =&gt; {\n      if (xhr.status === 200) {\n        resolve(JSON.parse(xhr.responseText));\n      } else {\n        reject(new Error(`Upload failed: ${xhr.statusText}`));\n      }\n    });\n\n    // Error handler\n    xhr.addEventListener('error', () =&gt; {\n      reject(new Error('Upload failed'));\n    });\n\n    // Send request\n    xhr.open('POST', 'http://localhost:8080/api/admin/upload');\n    xhr.setRequestHeader('Authorization', `Bearer ${accessToken}`);\n    xhr.send(formData);\n  });\n}\n\n// Usage\nawait uploadFileWithProgress(file, (progress) =&gt; {\n  console.log(`Upload progress: ${progress.toFixed(2)}%`);\n});\n</code></pre></p>"},{"location":"api/files/#3-file-validation","title":"3. File Validation","text":""},{"location":"api/files/#magic-bytes-validation","title":"Magic Bytes Validation","text":"<p>The API validates files using magic bytes (file signatures), not file extensions. This prevents malicious files from being disguised with fake extensions.</p> <p>Example: <pre><code>Filename: innocent.pdf\nActual content: HTML file (magic bytes: 3C 21 44 4F 43 54 59 50 45)\nResult: REJECTED (Invalid MIME type detected)\n</code></pre></p> <p>Validation Process: 1. Read first bytes of uploaded file 2. Detect actual MIME type from magic bytes 3. Compare against whitelist of allowed types 4. Reject if MIME type not allowed</p>"},{"location":"api/files/#file-size-limits","title":"File Size Limits","text":"<p>Default: 10 MB (10,485,760 bytes)</p> <p>Configuration (application.yml): <pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre></p> <p>Override for Specific Endpoints: - Project images: 10 MB - CV files: 10 MB - Generic uploads: 10 MB</p>"},{"location":"api/files/#4-supported-file-types","title":"4. Supported File Types","text":"<p>The following MIME types are supported:</p>"},{"location":"api/files/#documents","title":"Documents","text":"MIME Type File Extension Description <code>application/pdf</code> .pdf PDF documents"},{"location":"api/files/#images","title":"Images","text":"MIME Type File Extension Description <code>image/jpeg</code> .jpg, .jpeg JPEG images <code>image/png</code> .png PNG images <code>image/webp</code> .webp WebP images <p>Note: Images uploaded via generic endpoint are NOT automatically converted to WebP. For automatic WebP conversion and thumbnails, use the dedicated project image upload endpoint.</p>"},{"location":"api/files/#unsupported-types","title":"Unsupported Types","text":"<p>The following types are explicitly blocked:</p> Type Reason Executables (.exe, .bat, .sh) Security risk Scripts (.js, .py, .rb) Security risk Archives (.zip, .rar, .tar) Potential for malicious content Office files (.docx, .xlsx) Not needed for portfolio HTML files (.html, .htm) XSS risk"},{"location":"api/files/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/files/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Invalid MIME type 400 \"Invalid file type: {type}. Supported types: PDF, JPEG, PNG, WebP\" File too large 400 \"File size exceeds maximum allowed size (10 MB)\" No file provided 400 \"File is required\" Empty file 400 \"File is empty\" Malformed multipart request 400 \"Invalid multipart request\" Disk full 500 \"Failed to store file: insufficient disk space\" Permission denied 500 \"Failed to store file: permission denied\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/files/#frontend-validation","title":"Frontend Validation","text":"<p>Recommended Pre-Upload Checks: <pre><code>const ALLOWED_MIME_TYPES = [\n  'application/pdf',\n  'image/jpeg',\n  'image/png',\n  'image/webp'\n];\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10 MB\n\nfunction validateFile(file) {\n  const errors = [];\n\n  // Check if file exists\n  if (!file) {\n    errors.push('File is required');\n    return { valid: false, errors };\n  }\n\n  // Check file size\n  if (file.size === 0) {\n    errors.push('File is empty');\n  }\n\n  if (file.size &gt; MAX_FILE_SIZE) {\n    errors.push(`File size must be less than ${MAX_FILE_SIZE / 1024 / 1024} MB`);\n  }\n\n  // Check MIME type\n  if (!ALLOWED_MIME_TYPES.includes(file.type)) {\n    errors.push(`Invalid file type: ${file.type}. Allowed types: PDF, JPEG, PNG, WebP`);\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n\n// Usage\nconst validation = validateFile(fileInput.files[0]);\nif (!validation.valid) {\n  alert('Validation errors:\\n' + validation.errors.join('\\n'));\n} else {\n  // Proceed with upload\n  await uploadFile(fileInput.files[0]);\n}\n</code></pre></p>"},{"location":"api/files/#handling-upload-errors","title":"Handling Upload Errors","text":"<pre><code>async function safeUploadFile(file) {\n  // Client-side validation\n  const validation = validateFile(file);\n  if (!validation.valid) {\n    return {\n      success: false,\n      errors: validation.errors\n    };\n  }\n\n  // Upload\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await fetch('http://localhost:8080/api/admin/upload', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('accessToken')}`\n      },\n      body: formData\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      return {\n        success: false,\n        errors: [error.message]\n      };\n    }\n\n    const result = await response.json();\n    return {\n      success: true,\n      data: result\n    };\n  } catch (error) {\n    return {\n      success: false,\n      errors: ['Network error: ' + error.message]\n    };\n  }\n}\n\n// Usage\nconst result = await safeUploadFile(file);\nif (result.success) {\n  console.log('Upload successful:', result.data);\n} else {\n  console.error('Upload failed:', result.errors);\n}\n</code></pre>"},{"location":"api/files/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Projects API - Project image upload (specialized)</li> <li>CV API - CV upload (specialized)</li> <li>Features: File Storage - File storage architecture</li> <li>Features: Image Processing - Image optimization</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/projects/","title":"Projects API","text":""},{"location":"api/projects/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List Projects</li> <li>2.2 Get Project by ID</li> <li>2.3 Create Project</li> <li>2.4 Update Project</li> <li>2.5 Delete Project</li> <li>2.6 Upload Project Image</li> <li>2.7 Delete Project Image</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/projects/#1-overview","title":"1. Overview","text":"<p>The Projects API provides endpoints for managing portfolio projects, including CRUD operations and image management.</p> <p>Base Paths: - Public: <code>/api/projects</code> - Admin: <code>/api/admin/projects</code></p> <p>Features: - Full CRUD operations for projects - Image upload with WebP optimization - Automatic thumbnail generation (400x300px) - Many-to-many relationship with tags - Featured project flag - Public and admin access levels</p>"},{"location":"api/projects/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/projects/#21-list-projects","title":"2.1 List Projects","text":"<p>Retrieve all projects (public endpoint).</p> <p>Endpoint: <code>GET /api/projects</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"title\": \"Portfolio Website\",\n    \"description\": \"Full-stack portfolio application with Angular and Spring Boot\",\n    \"shortDescription\": \"Personal portfolio with admin dashboard\",\n    \"featured\": true,\n    \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n    \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n    \"githubUrl\": \"https://github.com/user/portfolio\",\n    \"liveUrl\": \"https://portfolio.example.com\",\n    \"tags\": [\n      {\n        \"id\": 1,\n        \"name\": \"Angular\",\n        \"color\": \"#DD0031\"\n      },\n      {\n        \"id\": 2,\n        \"name\": \"Spring Boot\",\n        \"color\": \"#6DB33F\"\n      }\n    ],\n    \"createdAt\": \"2025-11-15T10:30:00\",\n    \"updatedAt\": \"2025-11-19T14:20:00\"\n  },\n  {\n    \"id\": 2,\n    \"title\": \"E-Commerce Platform\",\n    \"description\": \"Online shopping platform with payment integration\",\n    \"shortDescription\": \"Full-featured e-commerce solution\",\n    \"featured\": false,\n    \"imageUrl\": null,\n    \"thumbnailUrl\": null,\n    \"githubUrl\": \"https://github.com/user/ecommerce\",\n    \"liveUrl\": null,\n    \"tags\": [\n      {\n        \"id\": 3,\n        \"name\": \"React\",\n        \"color\": \"#61DAFB\"\n      }\n    ],\n    \"createdAt\": \"2025-11-10T08:15:00\",\n    \"updatedAt\": \"2025-11-10T08:15:00\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/projects\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/projects');\nconst projects = await response.json();\n</code></pre></p>"},{"location":"api/projects/#22-get-project-by-id","title":"2.2 Get Project by ID","text":"<p>Retrieve a single project by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/projects/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"title\": \"Portfolio Website\",\n  \"description\": \"Full-stack portfolio application with Angular and Spring Boot. Features include admin dashboard, JWT authentication, CV management, and project showcase.\",\n  \"shortDescription\": \"Personal portfolio with admin dashboard\",\n  \"featured\": true,\n  \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n  \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n  \"githubUrl\": \"https://github.com/user/portfolio\",\n  \"liveUrl\": \"https://portfolio.example.com\",\n  \"tags\": [\n    {\n      \"id\": 1,\n      \"name\": \"Angular\",\n      \"color\": \"#DD0031\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Spring Boot\",\n      \"color\": \"#6DB33F\"\n    }\n  ],\n  \"createdAt\": \"2025-11-15T10:30:00\",\n  \"updatedAt\": \"2025-11-19T14:20:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/projects/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/projects/1\n</code></pre></p>"},{"location":"api/projects/#23-create-project","title":"2.3 Create Project","text":"<p>Create a new project (admin only).</p> <p>Endpoint: <code>POST /api/admin/projects</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"title\": \"New Project\",\n  \"description\": \"Detailed description of the project\",\n  \"shortDescription\": \"Brief summary\",\n  \"featured\": false,\n  \"githubUrl\": \"https://github.com/user/new-project\",\n  \"liveUrl\": \"https://new-project.example.com\",\n  \"tagIds\": [1, 2, 3]\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>title</code> | string | Yes | 1-200 chars | Project title | | <code>description</code> | string | Yes | Not blank | Full description | | <code>shortDescription</code> | string | No | Max 500 chars | Brief summary | | <code>featured</code> | boolean | No | Default: false | Featured flag | | <code>githubUrl</code> | string | No | Valid URL | GitHub repository | | <code>liveUrl</code> | string | No | Valid URL | Live demo URL | | <code>tagIds</code> | array | No | Valid tag IDs | Associated tags |</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 3,\n  \"title\": \"New Project\",\n  \"description\": \"Detailed description of the project\",\n  \"shortDescription\": \"Brief summary\",\n  \"featured\": false,\n  \"imageUrl\": null,\n  \"thumbnailUrl\": null,\n  \"githubUrl\": \"https://github.com/user/new-project\",\n  \"liveUrl\": \"https://new-project.example.com\",\n  \"tags\": [\n    {\n      \"id\": 1,\n      \"name\": \"Angular\",\n      \"color\": \"#DD0031\"\n    }\n  ],\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Tag Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/projects \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"title\": \"New Project\",\n    \"description\": \"Detailed description\",\n    \"shortDescription\": \"Brief summary\",\n    \"featured\": false,\n    \"githubUrl\": \"https://github.com/user/new-project\",\n    \"tagIds\": [1, 2]\n  }'\n</code></pre></p>"},{"location":"api/projects/#24-update-project","title":"2.4 Update Project","text":"<p>Update an existing project (admin only).</p> <p>Endpoint: <code>PUT /api/admin/projects/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID to update |</p> <p>Request Body: <pre><code>{\n  \"title\": \"Updated Project Title\",\n  \"description\": \"Updated detailed description\",\n  \"shortDescription\": \"Updated summary\",\n  \"featured\": true,\n  \"githubUrl\": \"https://github.com/user/updated-project\",\n  \"liveUrl\": \"https://updated-project.example.com\",\n  \"tagIds\": [1, 3]\n}\n</code></pre></p> <p>Request Schema: Same as Create Project</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"title\": \"Updated Project Title\",\n  \"description\": \"Updated detailed description\",\n  \"shortDescription\": \"Updated summary\",\n  \"featured\": true,\n  \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n  \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n  \"githubUrl\": \"https://github.com/user/updated-project\",\n  \"liveUrl\": \"https://updated-project.example.com\",\n  \"tags\": [\n    {\n      \"id\": 1,\n      \"name\": \"Angular\",\n      \"color\": \"#DD0031\"\n    },\n    {\n      \"id\": 3,\n      \"name\": \"React\",\n      \"color\": \"#61DAFB\"\n    }\n  ],\n  \"createdAt\": \"2025-11-15T10:30:00\",\n  \"updatedAt\": \"2025-11-19T16:45:00\"\n}\n</code></pre></p> <p>Error Responses: Same as Create Project, plus:</p> <p>Project Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/projects/1 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"title\": \"Updated Project Title\",\n    \"description\": \"Updated description\",\n    \"featured\": true,\n    \"tagIds\": [1, 3]\n  }'\n</code></pre></p>"},{"location":"api/projects/#25-delete-project","title":"2.5 Delete Project","text":"<p>Delete a project (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/projects/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID to delete |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Project deleted successfully\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999\"\n}\n</code></pre></p> <p>Note: Deleting a project also removes: - Associated project images (main image and thumbnail) - Project-tag relationships (tags themselves are NOT deleted)</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/projects/1 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/projects/#26-upload-project-image","title":"2.6 Upload Project Image","text":"<p>Upload an image for a project with automatic WebP conversion and thumbnail generation.</p> <p>Endpoint: <code>POST /api/admin/projects/{id}/upload-image</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID |</p> <p>Request: <code>multipart/form-data</code></p> <p>Form Data: | Field | Type | Required | Description | |-------|------|----------|-------------| | <code>file</code> | file | Yes | Image file (JPEG, PNG, WebP) |</p> <p>File Constraints: - Max Size: 10 MB - Supported MIME Types: <code>image/jpeg</code>, <code>image/png</code>, <code>image/webp</code> - Validation: Magic bytes validation (not extension-based)</p> <p>Success Response (200 OK): <pre><code>{\n  \"imageUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000.webp\",\n  \"thumbnailUrl\": \"http://localhost:8080/uploads/projects/project_1_1700000000_thumb.webp\",\n  \"message\": \"Image uploaded successfully\"\n}\n</code></pre></p> <p>Processing Details: - Original image converted to WebP format (quality: 0.85) - Thumbnail generated at 400x300px (quality: 0.8) - Old images automatically deleted - Files named: <code>project_{id}_{timestamp}.webp</code></p> <p>Error Responses:</p> <p>Invalid File Type (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid file type. Supported types: JPEG, PNG, WebP\",\n  \"path\": \"/api/admin/projects/1/upload-image\"\n}\n</code></pre></p> <p>File Too Large (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"File size exceeds maximum allowed size (10 MB)\",\n  \"path\": \"/api/admin/projects/1/upload-image\"\n}\n</code></pre></p> <p>Project Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999/upload-image\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/projects/1/upload-image \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -F \"file=@/path/to/project-image.jpg\"\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', fileInput.files[0]);\n\nconst response = await fetch('http://localhost:8080/api/admin/projects/1/upload-image', {\n  method: 'POST',\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  },\n  body: formData\n});\n\nconst data = await response.json();\nconsole.log('Image URL:', data.imageUrl);\nconsole.log('Thumbnail URL:', data.thumbnailUrl);\n</code></pre></p>"},{"location":"api/projects/#27-delete-project-image","title":"2.7 Delete Project Image","text":"<p>Delete a project's image and thumbnail.</p> <p>Endpoint: <code>DELETE /api/admin/projects/{id}/delete-image</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Project ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Image deleted successfully\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 999\",\n  \"path\": \"/api/admin/projects/999/delete-image\"\n}\n</code></pre></p> <p>Note: This endpoint: - Deletes both main image and thumbnail files from disk - Sets <code>imageUrl</code> and <code>thumbnailUrl</code> to <code>null</code> in database - Returns success even if no image exists</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/projects/1/delete-image \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/projects/#3-data-models","title":"3. Data Models","text":""},{"location":"api/projects/#projectresponse","title":"ProjectResponse","text":"Field Type Nullable Description <code>id</code> integer No Project ID <code>title</code> string No Project title (max 200 chars) <code>description</code> string No Full description <code>shortDescription</code> string Yes Brief summary (max 500 chars) <code>featured</code> boolean No Featured flag (default: false) <code>imageUrl</code> string Yes Full-size image URL <code>thumbnailUrl</code> string Yes Thumbnail image URL (400x300px) <code>githubUrl</code> string Yes GitHub repository URL <code>liveUrl</code> string Yes Live demo URL <code>tags</code> array No Associated tags (can be empty) <code>createdAt</code> datetime No Creation timestamp <code>updatedAt</code> datetime No Last update timestamp"},{"location":"api/projects/#tagresponse","title":"TagResponse","text":"Field Type Description <code>id</code> integer Tag ID <code>name</code> string Tag name <code>color</code> string Hex color code (e.g., \"#DD0031\")"},{"location":"api/projects/#4-business-rules","title":"4. Business Rules","text":""},{"location":"api/projects/#project-creation","title":"Project Creation","text":"<ol> <li>Title Uniqueness: Not enforced (multiple projects can have the same title)</li> <li>Tags: Tags must exist before associating with project</li> <li>Featured Flag: Multiple projects can be featured</li> <li>URLs: Optional but must be valid URLs if provided</li> <li>Images: Projects can be created without images</li> </ol>"},{"location":"api/projects/#image-management","title":"Image Management","text":"<ol> <li>One Image per Project: Uploading a new image deletes the old one</li> <li>WebP Conversion: All images converted to WebP regardless of input format</li> <li>Automatic Thumbnails: Thumbnail generated automatically on upload</li> <li>File Naming: <code>project_{id}_{timestamp}.webp</code> ensures uniqueness</li> <li>Storage Location: <code>uploads/projects/</code> directory</li> </ol>"},{"location":"api/projects/#project-deletion","title":"Project Deletion","text":"<ol> <li>Cascade: Deleting a project deletes its images from disk</li> <li>Tags: Tags are NOT deleted when project is deleted</li> <li>Relationships: Project-tag relationships are removed</li> </ol>"},{"location":"api/projects/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/projects/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Project not found 404 \"Project not found with id: {id}\" Tag not found 404 \"Tag not found with id: {id}\" Missing required field 400 Validation error with field details Invalid URL format 400 \"must be a valid URL\" Invalid image type 400 \"Invalid file type. Supported types: JPEG, PNG, WebP\" Image too large 400 \"File size exceeds maximum allowed size (10 MB)\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/projects/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"description\",\n      \"rejectedValue\": null,\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"githubUrl\",\n      \"rejectedValue\": \"not-a-url\",\n      \"message\": \"must be a valid URL\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p>"},{"location":"api/projects/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Skills API - Skills management</li> <li>Files API - Generic file upload</li> <li>Features: Image Processing - Image optimization details</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/site-configuration/","title":"Site Configuration API","text":"<p>REST API endpoints for managing site-wide configuration including identity, hero section, SEO metadata, and social links.</p>"},{"location":"api/site-configuration/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Public Endpoints</li> <li>Admin Endpoints</li> <li>Data Models</li> <li>Error Handling</li> </ul>"},{"location":"api/site-configuration/#overview","title":"Overview","text":"<p>The Site Configuration API manages all configurable site settings:</p> <ul> <li>Personal Identity: Full name and email</li> <li>Hero Section: Landing page title and description</li> <li>SEO Metadata: Site title and meta description</li> <li>Social Links: GitHub and LinkedIn URLs</li> <li>Profile Image: Profile photo upload and management</li> </ul> <p>Base URLs: - Public: <code>/api/configuration</code> - Admin: <code>/api/admin/configuration</code></p> <p>Authentication: - Public endpoints: No authentication required - Admin endpoints: JWT Bearer token with ADMIN role</p>"},{"location":"api/site-configuration/#public-endpoints","title":"Public Endpoints","text":""},{"location":"api/site-configuration/#get-site-configuration","title":"Get Site Configuration","text":"<p>Retrieves the current site configuration for public display.</p> <pre><code>GET /api/configuration\n</code></pre> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes et performantes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe, developpeur backend specialise en Java et Spring Boot.\",\n  \"profileImageUrl\": \"/uploads/profile/profile.webp\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\",\n  \"createdAt\": \"2024-01-15T10:30:00\",\n  \"updatedAt\": \"2024-06-20T14:45:00\"\n}\n</code></pre> <p>cURL Example:</p> <pre><code>curl -X GET http://localhost:8080/api/configuration\n</code></pre> <p>JavaScript Example:</p> <pre><code>const response = await fetch('/api/configuration');\nconst config = await response.json();\n</code></pre>"},{"location":"api/site-configuration/#admin-endpoints","title":"Admin Endpoints","text":"<p>All admin endpoints require authentication with JWT Bearer token.</p>"},{"location":"api/site-configuration/#get-site-configuration-admin","title":"Get Site Configuration (Admin)","text":"<p>Retrieves the site configuration for admin editing.</p> <pre><code>GET /api/admin/configuration\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\n</code></pre></p> <p>Response: <code>200 OK</code></p> <p>Returns the same structure as the public endpoint.</p>"},{"location":"api/site-configuration/#update-site-configuration","title":"Update Site Configuration","text":"<p>Updates the site configuration fields.</p> <pre><code>PUT /api/admin/configuration\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\nContent-Type: application/json\n</code></pre></p> <p>Request Body:</p> <pre><code>{\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes et performantes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe, developpeur backend.\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\"\n}\n</code></pre> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes et performantes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe, developpeur backend.\",\n  \"profileImageUrl\": \"/uploads/profile/profile.webp\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\",\n  \"createdAt\": \"2024-01-15T10:30:00\",\n  \"updatedAt\": \"2024-06-20T15:00:00\"\n}\n</code></pre> <p>cURL Example:</p> <pre><code>curl -X PUT http://localhost:8080/api/admin/configuration \\\n  -H \"Authorization: Bearer &lt;jwt_token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"fullName\": \"Emmanuel Gabe\",\n    \"email\": \"contact@emmanuelgabe.com\",\n    \"heroTitle\": \"Developpeur Backend\",\n    \"heroDescription\": \"Je cree des applications web modernes.\",\n    \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n    \"seoDescription\": \"Portfolio de Emmanuel Gabe.\",\n    \"githubUrl\": \"https://github.com/emmanuelgabe\",\n    \"linkedinUrl\": \"https://linkedin.com/in/egabe\"\n  }'\n</code></pre>"},{"location":"api/site-configuration/#upload-profile-image","title":"Upload Profile Image","text":"<p>Uploads or replaces the profile image. Images are automatically converted to WebP format.</p> <pre><code>POST /api/admin/configuration/profile-image\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\nContent-Type: multipart/form-data\n</code></pre></p> <p>Request Body: - <code>file</code>: Image file (JPEG, PNG, GIF, WebP)</p> <p>Constraints: - Maximum file size: 5MB - Allowed formats: JPEG, PNG, GIF, WebP - Output format: WebP (automatic conversion)</p> <p>Response: <code>200 OK</code></p> <pre><code>{\n  \"id\": 1,\n  \"fullName\": \"Emmanuel Gabe\",\n  \"email\": \"contact@emmanuelgabe.com\",\n  \"heroTitle\": \"Developpeur Backend\",\n  \"heroDescription\": \"Je cree des applications web modernes.\",\n  \"siteTitle\": \"Portfolio - Emmanuel Gabe\",\n  \"seoDescription\": \"Portfolio de Emmanuel Gabe.\",\n  \"profileImageUrl\": \"/uploads/profile/profile.webp\",\n  \"githubUrl\": \"https://github.com/emmanuelgabe\",\n  \"linkedinUrl\": \"https://linkedin.com/in/egabe\",\n  \"createdAt\": \"2024-01-15T10:30:00\",\n  \"updatedAt\": \"2024-06-20T15:10:00\"\n}\n</code></pre> <p>cURL Example:</p> <pre><code>curl -X POST http://localhost:8080/api/admin/configuration/profile-image \\\n  -H \"Authorization: Bearer &lt;jwt_token&gt;\" \\\n  -F \"file=@/path/to/profile.jpg\"\n</code></pre>"},{"location":"api/site-configuration/#delete-profile-image","title":"Delete Profile Image","text":"<p>Removes the current profile image.</p> <pre><code>DELETE /api/admin/configuration/profile-image\n</code></pre> <p>Headers: <pre><code>Authorization: Bearer &lt;jwt_token&gt;\n</code></pre></p> <p>Response: <code>200 OK</code></p> <p>Returns the updated configuration with <code>profileImageUrl</code> set to <code>null</code>.</p> <p>cURL Example:</p> <pre><code>curl -X DELETE http://localhost:8080/api/admin/configuration/profile-image \\\n  -H \"Authorization: Bearer &lt;jwt_token&gt;\"\n</code></pre>"},{"location":"api/site-configuration/#data-models","title":"Data Models","text":""},{"location":"api/site-configuration/#siteconfigurationresponse","title":"SiteConfigurationResponse","text":"<p>Response model for site configuration.</p> Field Type Description <code>id</code> Long Configuration ID (always 1) <code>fullName</code> String Full name displayed on site <code>email</code> String Contact email address <code>heroTitle</code> String Hero section title <code>heroDescription</code> String Hero section description <code>siteTitle</code> String Browser tab title <code>seoDescription</code> String Meta description for SEO <code>profileImageUrl</code> String Profile image URL (nullable) <code>githubUrl</code> String GitHub profile URL <code>linkedinUrl</code> String LinkedIn profile URL <code>createdAt</code> String ISO 8601 creation timestamp <code>updatedAt</code> String ISO 8601 last update timestamp"},{"location":"api/site-configuration/#updatesiteconfigurationrequest","title":"UpdateSiteConfigurationRequest","text":"<p>Request model for updating site configuration.</p> Field Type Required Validation <code>fullName</code> String Yes 2-100 characters <code>email</code> String Yes Valid email, max 255 characters <code>heroTitle</code> String Yes 3-200 characters <code>heroDescription</code> String Yes 10-1000 characters <code>siteTitle</code> String Yes 3-100 characters <code>seoDescription</code> String Yes 10-300 characters <code>githubUrl</code> String Yes Valid URL, max 500 characters <code>linkedinUrl</code> String Yes Valid URL, max 500 characters"},{"location":"api/site-configuration/#error-handling","title":"Error Handling","text":""},{"location":"api/site-configuration/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  \"error\": \"Error code\",\n  \"message\": \"Human-readable error message\",\n  \"timestamp\": \"2024-06-20T15:00:00\"\n}\n</code></pre>"},{"location":"api/site-configuration/#error-codes","title":"Error Codes","text":"Code HTTP Status Description <code>CONFIG_001</code> 404 Site configuration not found <code>CONFIG_002</code> 400 Invalid configuration data <code>CONFIG_003</code> 400 Profile image upload failed <code>VALIDATION_ERROR</code> 400 Request validation failed <code>UNAUTHORIZED</code> 401 Missing or invalid JWT token <code>FORBIDDEN</code> 403 Insufficient permissions"},{"location":"api/site-configuration/#validation-errors","title":"Validation Errors","text":"<p>When validation fails, the response includes field-specific errors:</p> <pre><code>{\n  \"error\": \"VALIDATION_ERROR\",\n  \"message\": \"Validation failed\",\n  \"errors\": {\n    \"fullName\": \"Full name must be between 2 and 100 characters\",\n    \"email\": \"Email must be valid\"\n  },\n  \"timestamp\": \"2024-06-20T15:00:00\"\n}\n</code></pre>"},{"location":"api/site-configuration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Site Configuration Feature - Architecture and implementation details</li> <li>Image Processing - WebP conversion and optimization</li> <li>Authentication API - JWT token management</li> </ul>"},{"location":"api/skills/","title":"Skills API","text":""},{"location":"api/skills/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List Skills</li> <li>2.2 Get Skill by ID</li> <li>2.3 Create Skill</li> <li>2.4 Update Skill</li> <li>2.5 Delete Skill</li> <li>Data Models</li> <li>Skill Categories</li> <li>Error Handling</li> </ol>"},{"location":"api/skills/#1-overview","title":"1. Overview","text":"<p>The Skills API provides endpoints for managing technical skills with categorization.</p> <p>Base Paths: - Public: <code>/api/skills</code> - Admin: <code>/api/admin/skills</code></p> <p>Features: - Full CRUD operations for skills - Categorization system (PROGRAMMING, FRAMEWORK, DATABASE, etc.) - Public and admin access levels - Predefined skill categories</p>"},{"location":"api/skills/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/skills/#21-list-skills","title":"2.1 List Skills","text":"<p>Retrieve all skills (public endpoint).</p> <p>Endpoint: <code>GET /api/skills</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Java\",\n    \"category\": \"PROGRAMMING\",\n    \"createdAt\": \"2025-11-10T10:00:00\",\n    \"updatedAt\": \"2025-11-10T10:00:00\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Spring Boot\",\n    \"category\": \"FRAMEWORK\",\n    \"createdAt\": \"2025-11-10T10:05:00\",\n    \"updatedAt\": \"2025-11-10T10:05:00\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"PostgreSQL\",\n    \"category\": \"DATABASE\",\n    \"createdAt\": \"2025-11-10T10:10:00\",\n    \"updatedAt\": \"2025-11-10T10:10:00\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"Docker\",\n    \"category\": \"TOOL\",\n    \"createdAt\": \"2025-11-10T10:15:00\",\n    \"updatedAt\": \"2025-11-10T10:15:00\"\n  }\n]\n</code></pre></p> <p>Note: Skills are typically grouped by category in the frontend.</p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/skills\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/skills');\nconst skills = await response.json();\n\n// Group by category\nconst groupedSkills = skills.reduce((acc, skill) =&gt; {\n  if (!acc[skill.category]) acc[skill.category] = [];\n  acc[skill.category].push(skill);\n  return acc;\n}, {});\n</code></pre></p>"},{"location":"api/skills/#22-get-skill-by-id","title":"2.2 Get Skill by ID","text":"<p>Retrieve a single skill by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/skills/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Skill ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"name\": \"Java\",\n  \"category\": \"PROGRAMMING\",\n  \"createdAt\": \"2025-11-10T10:00:00\",\n  \"updatedAt\": \"2025-11-10T10:00:00\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/skills/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/skills/1\n</code></pre></p>"},{"location":"api/skills/#23-create-skill","title":"2.3 Create Skill","text":"<p>Create a new skill (admin only).</p> <p>Endpoint: <code>POST /api/admin/skills</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"name\": \"TypeScript\",\n  \"category\": \"PROGRAMMING\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>name</code> | string | Yes | 1-100 chars, not blank | Skill name | | <code>category</code> | string | Yes | Valid category enum | Skill category |</p> <p>Valid Categories: See Skill Categories section.</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 15,\n  \"name\": \"TypeScript\",\n  \"category\": \"PROGRAMMING\",\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T15:30:00\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    }\n  ],\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p> <p>Invalid Category (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Invalid category: INVALID_CATEGORY. Valid categories: PROGRAMMING, FRAMEWORK, DATABASE, TOOL, LANGUAGE, CLOUD, DEVOPS, METHODOLOGY, TESTING\",\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/admin/skills \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"TypeScript\",\n    \"category\": \"PROGRAMMING\"\n  }'\n</code></pre></p>"},{"location":"api/skills/#24-update-skill","title":"2.4 Update Skill","text":"<p>Update an existing skill (admin only).</p> <p>Endpoint: <code>PUT /api/admin/skills/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Skill ID to update |</p> <p>Request Body: <pre><code>{\n  \"name\": \"TypeScript 5\",\n  \"category\": \"PROGRAMMING\"\n}\n</code></pre></p> <p>Request Schema: Same as Create Skill</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 15,\n  \"name\": \"TypeScript 5\",\n  \"category\": \"PROGRAMMING\",\n  \"createdAt\": \"2025-11-19T15:30:00\",\n  \"updatedAt\": \"2025-11-19T16:45:00\"\n}\n</code></pre></p> <p>Error Responses: Same as Create Skill, plus:</p> <p>Skill Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/admin/skills/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/admin/skills/15 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"TypeScript 5\",\n    \"category\": \"PROGRAMMING\"\n  }'\n</code></pre></p>"},{"location":"api/skills/#25-delete-skill","title":"2.5 Delete Skill","text":"<p>Delete a skill (admin only).</p> <p>Endpoint: <code>DELETE /api/admin/skills/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Skill ID to delete |</p> <p>Success Response (200 OK): <pre><code>{\n  \"message\": \"Skill deleted successfully\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Skill not found with id: 999\",\n  \"path\": \"/api/admin/skills/999\"\n}\n</code></pre></p> <p>Note: Deleting a skill does NOT affect projects or other entities. Skills are standalone entities.</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/admin/skills/15 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/skills/#3-data-models","title":"3. Data Models","text":""},{"location":"api/skills/#skillresponse","title":"SkillResponse","text":"Field Type Nullable Description <code>id</code> integer No Skill ID <code>name</code> string No Skill name (max 100 chars) <code>category</code> string No Skill category (enum) <code>createdAt</code> datetime No Creation timestamp <code>updatedAt</code> datetime No Last update timestamp"},{"location":"api/skills/#createskillrequest-updateskillrequest","title":"CreateSkillRequest / UpdateSkillRequest","text":"Field Type Required Constraints Description <code>name</code> string Yes 1-100 chars, not blank Skill name <code>category</code> string Yes Valid category enum Skill category"},{"location":"api/skills/#4-skill-categories","title":"4. Skill Categories","text":"<p>The system supports the following predefined categories:</p> Category Description Examples <code>PROGRAMMING</code> Programming languages Java, Python, TypeScript, JavaScript, C++, Go <code>FRAMEWORK</code> Frameworks and libraries Spring Boot, Angular, React, Vue.js, Django <code>DATABASE</code> Database systems PostgreSQL, MySQL, MongoDB, Redis, Oracle <code>TOOL</code> Development tools Docker, Git, Maven, Gradle, npm, IntelliJ <code>LANGUAGE</code> Human languages English, French, Spanish, German <code>CLOUD</code> Cloud platforms AWS, Azure, Google Cloud, Heroku <code>DEVOPS</code> DevOps tools and practices Kubernetes, Jenkins, GitLab CI, Ansible <code>METHODOLOGY</code> Development methodologies Agile, Scrum, TDD, DDD, Clean Architecture <code>TESTING</code> Testing tools and frameworks JUnit, Jasmine, Karma, Selenium, Postman <p>Example Category Usage: <pre><code>{\n  \"name\": \"Spring Boot\",\n  \"category\": \"FRAMEWORK\"\n}\n</code></pre></p> <p>Invalid Category Example: <pre><code>{\n  \"name\": \"Invalid Skill\",\n  \"category\": \"INVALID_CATEGORY\"\n}\n</code></pre> Response: <code>400 Bad Request</code> with error message listing valid categories.</p>"},{"location":"api/skills/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/skills/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Skill not found 404 \"Skill not found with id: {id}\" Missing required field 400 Validation error with field details Invalid category 400 \"Invalid category: {category}. Valid categories: ...\" Name too long 400 \"size must be between 0 and 100\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/skills/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"category\",\n      \"rejectedValue\": null,\n      \"message\": \"must not be null\"\n    }\n  ],\n  \"path\": \"/api/admin/skills\"\n}\n</code></pre></p>"},{"location":"api/skills/#frontend-category-validation","title":"Frontend Category Validation","text":"<p>Recommended Approach: <pre><code>const VALID_CATEGORIES = [\n  'PROGRAMMING',\n  'FRAMEWORK',\n  'DATABASE',\n  'TOOL',\n  'LANGUAGE',\n  'CLOUD',\n  'DEVOPS',\n  'METHODOLOGY',\n  'TESTING'\n];\n\nfunction validateSkillCategory(category) {\n  return VALID_CATEGORIES.includes(category);\n}\n\n// Usage\nconst skill = {\n  name: 'Spring Boot',\n  category: 'FRAMEWORK'\n};\n\nif (!validateSkillCategory(skill.category)) {\n  throw new Error(`Invalid category: ${skill.category}`);\n}\n</code></pre></p>"},{"location":"api/skills/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Projects API - Projects management</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"api/tags/","title":"Tags API","text":""},{"location":"api/tags/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Endpoints</li> <li>2.1 List All Tags</li> <li>2.2 Get Tag by ID</li> <li>2.3 Create Tag</li> <li>2.4 Update Tag</li> <li>2.5 Delete Tag</li> <li>Data Models</li> <li>Business Rules</li> <li>Error Handling</li> </ol>"},{"location":"api/tags/#1-overview","title":"1. Overview","text":"<p>The Tags API provides endpoints for managing tags used to categorize articles and projects. Tags enable content organization and filtering across the portfolio.</p> <p>Base Paths: - Public: <code>/api/tags</code> - Admin: <code>/api/tags/admin</code></p> <p>Features: - Full CRUD operations for tags - Unique tag names (case-sensitive) - Hex color code validation - Many-to-many relationships with articles and projects - Public read access, admin-only write access</p>"},{"location":"api/tags/#2-endpoints","title":"2. Endpoints","text":""},{"location":"api/tags/#21-list-all-tags","title":"2.1 List All Tags","text":"<p>Retrieve all tags (public endpoint).</p> <p>Endpoint: <code>GET /api/tags</code></p> <p>Authentication: None (public)</p> <p>Query Parameters: None</p> <p>Success Response (200 OK): <pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Angular\",\n    \"color\": \"#DD0031\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Spring Boot\",\n    \"color\": \"#6DB33F\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Java\",\n    \"color\": \"#007396\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"TypeScript\",\n    \"color\": \"#3178C6\"\n  }\n]\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/tags\n</code></pre></p> <p>Example Request (JavaScript): <pre><code>const response = await fetch('http://localhost:8080/api/tags');\nconst tags = await response.json();\n</code></pre></p>"},{"location":"api/tags/#22-get-tag-by-id","title":"2.2 Get Tag by ID","text":"<p>Retrieve a single tag by its ID (public endpoint).</p> <p>Endpoint: <code>GET /api/tags/{id}</code></p> <p>Authentication: None (public)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Tag ID |</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 1,\n  \"name\": \"Angular\",\n  \"color\": \"#DD0031\"\n}\n</code></pre></p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/tags/999\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X GET http://localhost:8080/api/tags/1\n</code></pre></p>"},{"location":"api/tags/#23-create-tag","title":"2.3 Create Tag","text":"<p>Create a new tag (admin only).</p> <p>Endpoint: <code>POST /api/tags/admin</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Request Body: <pre><code>{\n  \"name\": \"React\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Request Schema: | Field | Type | Required | Constraints | Description | |-------|------|----------|-------------|-------------| | <code>name</code> | string | Yes | 2-50 chars, unique | Tag name (case-sensitive) | | <code>color</code> | string | Yes | Hex color code | Color in format #RGB or #RRGGBB |</p> <p>Color Format: - Must start with <code>#</code> - Supports 3-digit shorthand: <code>#RGB</code> (e.g., <code>#F00</code>) - Supports 6-digit full format: <code>#RRGGBB</code> (e.g., <code>#FF0000</code>) - Accepts uppercase and lowercase hex digits (A-F, a-f)</p> <p>Success Response (201 Created): <pre><code>{\n  \"id\": 5,\n  \"name\": \"React\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Validation Error (400 Bad Request): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"\",\n      \"message\": \"Tag name is required\"\n    },\n    {\n      \"field\": \"color\",\n      \"rejectedValue\": \"red\",\n      \"message\": \"Color must be a valid hex color code (e.g., #FF5733)\"\n    }\n  ],\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Duplicate Tag Name (409 Conflict): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 409,\n  \"error\": \"Conflict\",\n  \"message\": \"Tag with name 'Angular' already exists\",\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Unauthorized (401): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 401,\n  \"error\": \"Unauthorized\",\n  \"message\": \"Invalid or expired token\",\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X POST http://localhost:8080/api/tags/admin \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"React\",\n    \"color\": \"#61DAFB\"\n  }'\n</code></pre></p>"},{"location":"api/tags/#24-update-tag","title":"2.4 Update Tag","text":"<p>Update an existing tag (admin only).</p> <p>Endpoint: <code>PUT /api/tags/admin/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Tag ID to update |</p> <p>Request Body: <pre><code>{\n  \"name\": \"React.js\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Request Schema: Same as Create Tag, but all fields are optional (partial updates supported).</p> <p>Success Response (200 OK): <pre><code>{\n  \"id\": 5,\n  \"name\": \"React.js\",\n  \"color\": \"#61DAFB\"\n}\n</code></pre></p> <p>Error Responses:</p> <p>Tag Not Found (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/tags/admin/999\"\n}\n</code></pre></p> <p>Duplicate Tag Name (409 Conflict): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 409,\n  \"error\": \"Conflict\",\n  \"message\": \"Tag with name 'Angular' already exists\",\n  \"path\": \"/api/tags/admin/5\"\n}\n</code></pre></p> <p>Example Request (curl): <pre><code>curl -X PUT http://localhost:8080/api/tags/admin/5 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\" \\\n  -d '{\n    \"name\": \"React.js\"\n  }'\n</code></pre></p>"},{"location":"api/tags/#25-delete-tag","title":"2.5 Delete Tag","text":"<p>Delete a tag (admin only).</p> <p>Endpoint: <code>DELETE /api/tags/admin/{id}</code></p> <p>Authentication: Required (ROLE_ADMIN)</p> <p>Path Parameters: | Parameter | Type | Description | |-----------|------|-------------| | <code>id</code> | integer | Tag ID to delete |</p> <p>Success Response (204 No Content): No response body.</p> <p>Error Response (404 Not Found): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Tag not found with id: 999\",\n  \"path\": \"/api/tags/admin/999\"\n}\n</code></pre></p> <p>Note: Deleting a tag: - Removes the tag from all associated articles and projects - Does NOT delete the articles or projects themselves - Updates the many-to-many relationship tables automatically</p> <p>Example Request (curl): <pre><code>curl -X DELETE http://localhost:8080/api/tags/admin/5 \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...\"\n</code></pre></p>"},{"location":"api/tags/#3-data-models","title":"3. Data Models","text":""},{"location":"api/tags/#tagresponse","title":"TagResponse","text":"Field Type Nullable Description <code>id</code> integer No Tag ID <code>name</code> string No Tag name (2-50 chars, unique) <code>color</code> string No Hex color code (#RGB or #RRGGBB) <p>Example TagResponse: <pre><code>{\n  \"id\": 1,\n  \"name\": \"Angular\",\n  \"color\": \"#DD0031\"\n}\n</code></pre></p>"},{"location":"api/tags/#4-business-rules","title":"4. Business Rules","text":""},{"location":"api/tags/#tag-creation","title":"Tag Creation","text":"<ol> <li>Unique Names: Tag names must be unique (case-sensitive)</li> <li>\"Angular\" and \"angular\" are considered different tags</li> <li> <p>Duplicate check enforced at database level (unique constraint)</p> </li> <li> <p>Color Validation: Colors must be valid hex codes</p> </li> <li>Valid: <code>#FF0000</code>, <code>#F00</code>, <code>#61DAFB</code>, <code>#6DB33F</code></li> <li> <p>Invalid: <code>red</code>, <code>#GGGGGG</code>, <code>FF0000</code> (missing #), <code>#12345</code> (wrong length)</p> </li> <li> <p>Name Length: Tag names must be meaningful (2-50 characters)</p> </li> <li>Minimum 2 characters prevents single-letter tags</li> <li>Maximum 50 characters ensures UI compatibility</li> </ol>"},{"location":"api/tags/#tag-relationships","title":"Tag Relationships","text":"<ol> <li>Many-to-Many with Projects: A tag can be associated with multiple projects, and a project can have multiple tags</li> <li>Many-to-Many with Articles: A tag can be associated with multiple articles, and an article can have multiple tags</li> <li>Cascade Delete: Deleting a tag removes the associations but not the related entities</li> </ol>"},{"location":"api/tags/#partial-updates","title":"Partial Updates","text":"<ol> <li>UpdateTagRequest: All fields are optional</li> <li>Null Handling: Only provided fields are updated (null values ignored using MapStruct's NullValuePropertyMappingStrategy.IGNORE)</li> <li>Uniqueness Check: When updating name, must still be unique (excluding the current tag)</li> </ol>"},{"location":"api/tags/#5-error-handling","title":"5. Error Handling","text":""},{"location":"api/tags/#common-error-scenarios","title":"Common Error Scenarios","text":"Scenario HTTP Status Error Message Tag not found 404 \"Tag not found with id: {id}\" Missing required field 400 Field-specific validation message Duplicate tag name 409 \"Tag with name '{name}' already exists\" Invalid hex color 400 \"Color must be a valid hex color code (e.g., #FF5733)\" Name too short 400 \"Tag name must be between 2 and 50 characters\" Name too long 400 \"Tag name must be between 2 and 50 characters\" Missing Authorization 401 \"Missing or invalid Authorization header\" Insufficient permissions 403 \"Access denied: insufficient permissions\""},{"location":"api/tags/#hex-color-validation","title":"Hex Color Validation","text":"<p>Valid hex color formats: <pre><code>#RGB     - 3-digit shorthand (e.g., #F00 for red)\n#RRGGBB  - 6-digit full format (e.g., #FF0000 for red)\n</code></pre></p> <p>Examples of valid colors: - <code>#F00</code> \u2192 Red (shorthand) - <code>#FF0000</code> \u2192 Red (full) - <code>#61DAFB</code> \u2192 Light blue - <code>#6DB33F</code> \u2192 Green - <code>#DD0031</code> \u2192 Red</p> <p>Examples of invalid colors: - <code>red</code> \u2192 Not hex format - <code>#GGGGGG</code> \u2192 Invalid hex digits - <code>FF0000</code> \u2192 Missing # prefix - <code>#12345</code> \u2192 Wrong length (5 digits) - <code>#1234567</code> \u2192 Wrong length (7 digits)</p>"},{"location":"api/tags/#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Example Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"name\",\n      \"rejectedValue\": \"A\",\n      \"message\": \"Tag name must be between 2 and 50 characters\"\n    },\n    {\n      \"field\": \"color\",\n      \"rejectedValue\": \"blue\",\n      \"message\": \"Color must be a valid hex color code (e.g., #FF5733)\"\n    }\n  ],\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p>"},{"location":"api/tags/#handling-duplicate-tag-names","title":"Handling Duplicate Tag Names","text":"<p>When attempting to create or update a tag with a name that already exists:</p> <p>Error Response (409 Conflict): <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 409,\n  \"error\": \"Conflict\",\n  \"message\": \"Tag with name 'Angular' already exists\",\n  \"path\": \"/api/tags/admin\"\n}\n</code></pre></p> <p>Important Notes: - Tag names are case-sensitive (\"Angular\" != \"angular\") - Unique constraint enforced at database level - Check for existing tags before creation to provide better UX</p>"},{"location":"api/tags/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - General API documentation</li> <li>Authentication API - JWT authentication</li> <li>Projects API - Projects using tags</li> <li>Articles API - Articles using tags</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"architecture/","title":"Architecture Documentation","text":""},{"location":"architecture/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>System Architecture</li> <li>Frontend Architecture</li> <li>Backend Architecture</li> <li>Data Architecture</li> <li>Error Handling</li> </ol>"},{"location":"architecture/#1-introduction","title":"1. Introduction","text":"<p>This section provides comprehensive documentation of the Portfolio application architecture. The application follows a modern three-tier architecture with Angular frontend, Spring Boot backend, and PostgreSQL database.</p> <p>Architecture Overview: - Frontend: Angular 18+ standalone components (SPA) - Backend: Spring Boot 3.4+ REST API (Java 21) - Database: PostgreSQL 17 with Flyway migrations - Deployment: Docker Compose containerization - Proxy: Nginx reverse proxy</p> <p>Key Architectural Principles: - Separation of concerns (frontend/backend/database) - Stateless application servers (JWT authentication) - RESTful API design - Container-based deployment - Environment-specific configuration</p>"},{"location":"architecture/#2-system-architecture","title":"2. System Architecture","text":""},{"location":"architecture/#21-high-level-overview","title":"2.1 High-Level Overview","text":"<p>File: architecture.md</p> <p>Description: Complete system architecture documentation including infrastructure, deployment, and component interaction.</p> <p>Topics Covered: - Three-tier architecture diagram - Component responsibilities - Technology stack (Angular, Spring Boot, PostgreSQL, Docker) - Request flow patterns - Environment configurations - Health check integration - Deployment architecture</p> <p>Key Components: - Nginx reverse proxy (SSL termination, routing) - Angular SPA (port 4200) - Spring Boot API (port 8080) - PostgreSQL database (port 5432) - Redis cache (rate limiting)</p> <p>Environments: - Local development (direct execution) - Docker development (docker-compose) - Staging (docker-compose with staging profile) - Production (containerized deployment)</p>"},{"location":"architecture/#3-frontend-architecture","title":"3. Frontend Architecture","text":""},{"location":"architecture/#31-angular-architecture","title":"3.1 Angular Architecture","text":"<p>File: frontend-architecture.md</p> <p>Description: Detailed Angular 18+ architecture with standalone components, routing, state management, and HTTP communication.</p> <p>Topics Covered: - Standalone components architecture (no NgModules) - Route configuration with nested admin routes - Service-based state management (no Redux/NgRx) - HTTP interceptors (JWT, Retry, Logging) - Functional guards (authGuard, adminGuard) - Component structure and organization - Form handling (Reactive Forms) - API integration patterns</p> <p>Key Services (15 documented): - AuthService - JWT authentication - ProjectService - Project management - ArticleService - Blog articles - ExperienceService - Timeline experiences - TagService - Tag management - CvService - CV downloads - I18nService - Internationalization - ActivityMonitorService - Session timeout</p> <p>Guards: <pre><code>export const adminGuard: CanActivateFn = (route, state): boolean | UrlTree =&gt; {\n  const authService = inject(AuthService);\n  if (authService.isAuthenticated() &amp;&amp; authService.isAdmin()) {\n    return true;\n  }\n  return router.createUrlTree(['/login']);\n};\n</code></pre></p> <p>Interceptors: - JWT Interceptor: Automatic token attachment and refresh on 401 - Retry Interceptor: Automatic retry for transient failures - Logging Interceptor: Request/response logging (dev only)</p> <p>Component Categories: - Public pages (Home, Projects, Blog, CV) - Admin pages (Dashboard, Projects, Articles, Experiences, Tags, CV) - Shared components (Navbar, Footer, Modals) - Feature components (Article cards, Project cards, Experience timeline)</p>"},{"location":"architecture/#4-backend-architecture","title":"4. Backend Architecture","text":""},{"location":"architecture/#41-spring-boot-architecture","title":"4.1 Spring Boot Architecture","text":"<p>Topics: REST API design, service layer, security, validation</p> <p>Key Components:</p> <ol> <li>Controllers (REST endpoints):</li> <li><code>@RestController</code> for JSON responses</li> <li><code>@Valid</code> for request validation</li> <li> <p>Public endpoints vs admin endpoints (<code>/api/admin/**</code>)</p> </li> <li> <p>Services (Business logic):</p> </li> <li><code>@Service</code> annotation</li> <li>Transaction management (<code>@Transactional</code>)</li> <li>DTO mapping with MapStruct</li> <li> <p>File operations (uploads, storage)</p> </li> <li> <p>Repositories (Data access):</p> </li> <li>JPA repositories (<code>extends JpaRepository</code>)</li> <li>Custom query methods</li> <li> <p>Specification-based filtering</p> </li> <li> <p>Security:</p> </li> <li>Spring Security configuration</li> <li>JWT authentication filter</li> <li>Role-based access control (RBAC)</li> <li> <p>CORS configuration</p> </li> <li> <p>Exception Handling:</p> </li> <li>See Error Handling section below</li> </ol> <p>Layers: <pre><code>Controller Layer \u2192 Service Layer \u2192 Repository Layer \u2192 Database\n     \u2193                 \u2193\n  Validation      Business Logic\n</code></pre></p>"},{"location":"architecture/#5-data-architecture","title":"5. Data Architecture","text":""},{"location":"architecture/#51-database-schema","title":"5.1 Database Schema","text":"<p>File: database-schema.md</p> <p>Description: Complete PostgreSQL database schema with Flyway migrations, table structures, relationships, and indexes.</p> <p>Topics Covered: - 9 Flyway migrations (V1-V9) - 9 database tables with complete DDL - Entity relationships (one-to-many, many-to-many) - Indexes and constraints - Partial indexes for optimization - Foreign key cascades - Unique constraints</p> <p>Tables:</p> <ol> <li>users (V1) - User accounts with roles</li> <li>refresh_tokens (V2) - JWT refresh token storage</li> <li>projects (V3) - Portfolio projects</li> <li>tags (V3) - Categorization tags</li> <li>project_tags (V3) - Many-to-many junction</li> <li>skills (V4) - Skills with proficiency</li> <li>cvs (V5) - CV/resume management</li> <li>experiences (V6) - Timeline experiences</li> <li>articles (V8) - Blog articles with Markdown</li> </ol> <p>Key Relationships: - Projects \u2194 Tags (many-to-many via project_tags) - Articles \u2194 Tags (many-to-many via article_tags) - Users \u2192 RefreshTokens (one-to-many) - Users \u2192 CVs (one-to-many)</p> <p>Indexes: - Primary keys on all tables - Foreign key indexes - Unique constraints (email, username, slug) - Partial indexes (ongoing experiences, current CV, published articles) - Composite indexes (user_id + expiry_date on refresh_tokens)</p> <p>Example DDL: <pre><code>CREATE TABLE articles (\n    id BIGSERIAL PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    slug VARCHAR(255) UNIQUE NOT NULL,\n    content TEXT NOT NULL,\n    published BOOLEAN DEFAULT FALSE,\n    published_at TIMESTAMP,\n    reading_time INTEGER,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_articles_published ON articles(published);\nCREATE INDEX idx_articles_slug ON articles(slug);\n</code></pre></p>"},{"location":"architecture/#52-migration-strategy","title":"5.2 Migration Strategy","text":"<p>Tool: Flyway</p> <p>Migration Naming: <code>V{version}__{description}.sql</code></p> <p>Examples: - <code>V1__create_users_table.sql</code> - <code>V8__create_articles_table.sql</code> - <code>V9__remove_views_count_from_articles.sql</code></p> <p>Configuration: <pre><code>spring:\n  flyway:\n    enabled: true\n    baseline-on-migrate: true\n    locations: classpath:db/migration\n</code></pre></p> <p>Best Practices: - Never modify existing migrations - Always create new migration for schema changes - Test migrations on staging before production - Include rollback strategy for critical changes</p>"},{"location":"architecture/#6-error-handling","title":"6. Error Handling","text":""},{"location":"architecture/#61-centralized-exception-handling","title":"6.1 Centralized Exception Handling","text":"<p>File: error-handling.md</p> <p>Description: Comprehensive error handling strategy with GlobalExceptionHandler, custom exceptions, and standardized error responses.</p> <p>Topics Covered: - GlobalExceptionHandler with <code>@RestControllerAdvice</code> - 14 exception types mapped to HTTP status codes - Validation error handling with field-level details - Custom exceptions (ResourceNotFoundException, DuplicateResourceException, etc.) - Error response format standardization - Frontend error handling patterns</p> <p>Exception Mapping:</p> Exception HTTP Status Use Case <code>ResourceNotFoundException</code> 404 Entity not found (Project, Article, etc.) <code>DuplicateResourceException</code> 409 Unique constraint violation <code>MethodArgumentNotValidException</code> 400 Validation errors (@Valid) <code>UnauthorizedException</code> 401 Invalid/expired JWT token <code>AccessDeniedException</code> 403 Insufficient permissions <code>RateLimitExceededException</code> 429 Rate limit exceeded <code>FileStorageException</code> 400/500 File upload/storage errors <p>Error Response Format: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"Project not found with id: 123\",\n  \"path\": \"/api/admin/projects/123\"\n}\n</code></pre></p> <p>Validation Error Response: <pre><code>{\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    {\n      \"field\": \"title\",\n      \"rejectedValue\": \"\",\n      \"message\": \"must not be blank\"\n    },\n    {\n      \"field\": \"email\",\n      \"rejectedValue\": \"invalid-email\",\n      \"message\": \"must be a valid email address\"\n    }\n  ],\n  \"path\": \"/api/admin/projects\"\n}\n</code></pre></p> <p>GlobalExceptionHandler Implementation: <pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleResourceNotFoundException(\n        ResourceNotFoundException ex, WebRequest request) {\n\n        ErrorResponse error = new ErrorResponse(\n            LocalDateTime.now(),\n            HttpStatus.NOT_FOUND.value(),\n            \"Not Found\",\n            ex.getMessage(),\n            request.getDescription(false).replace(\"uri=\", \"\")\n        );\n\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\n    }\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;ValidationErrorResponse&gt; handleValidationExceptions(\n        MethodArgumentNotValidException ex) {\n\n        Map&lt;String, String&gt; errors = ex.getBindingResult()\n            .getFieldErrors()\n            .stream()\n            .collect(Collectors.toMap(\n                FieldError::getField,\n                error -&gt; error.getDefaultMessage() != null\n                    ? error.getDefaultMessage()\n                    : \"Invalid value\"\n            ));\n\n        ValidationErrorResponse response = new ValidationErrorResponse(\n            LocalDateTime.now(),\n            HttpStatus.BAD_REQUEST.value(),\n            \"Validation failed\",\n            errors\n        );\n\n        return ResponseEntity.badRequest().body(response);\n    }\n}\n</code></pre></p> <p>Frontend Error Handling: <pre><code>// HTTP Interceptor\nreturn next(request).pipe(\n  catchError((error: HttpErrorResponse) =&gt; {\n    if (error.status === 401) {\n      // Refresh token and retry\n      return this.authService.refreshToken().pipe(\n        switchMap(() =&gt; next(cloneRequest))\n      );\n    }\n\n    if (error.status === 403) {\n      // Redirect to unauthorized page\n      this.router.navigate(['/unauthorized']);\n    }\n\n    // Show error message to user\n    this.snackBar.open(error.error.message, 'Close', { duration: 5000 });\n\n    return throwError(() =&gt; error);\n  })\n);\n</code></pre></p>"},{"location":"architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Documentation - REST API endpoints</li> <li>Features Documentation - Feature implementations</li> <li>Security: JWT Implementation - Authentication details</li> <li>Security: RBAC - Role-based access control</li> <li>Security: Rate Limiting - Rate limiting implementation</li> <li>Reference: Configuration Properties - Configuration</li> <li>Reference: Error Codes - Error codes reference</li> <li>Development: Setup - Development environment setup</li> <li>Deployment: CI/CD - Deployment pipeline</li> </ul>"},{"location":"architecture/architecture/","title":"Application Architecture Reference","text":""},{"location":"architecture/architecture/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>System Architecture</li> </ol>"},{"location":"architecture/architecture/#1-overview","title":"1. Overview","text":"<p>The Portfolio Application is a full-stack web application built with a modern three-tier architecture. The system uses containerization for deployment and follows microservices principles with clear separation of concerns.</p>"},{"location":"architecture/architecture/#11-architecture-principles","title":"1.1 Architecture Principles","text":"<p>Design Principles: - Separation of concerns - Stateless application servers - Database as single source of truth - Environment-specific configuration - Container-based deployment - Health check integration at all layers</p> <p>Technology Stack:</p> Layer Technology Version Frontend Angular 20.0.0 Backend Spring Boot (Java) 3.5.5 (Java 21) Database PostgreSQL 17.6 Reverse Proxy Nginx 1.27 Containerization Docker &amp; Docker Compose 20.10+ CI/CD GitHub Actions N/A"},{"location":"architecture/architecture/#2-system-architecture","title":"2. System Architecture","text":""},{"location":"architecture/architecture/#21-high-level-architecture","title":"2.1 High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                            CLIENT                                \u2502\n\u2502                    (Web Browser / Mobile)                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                             \u2502\n                             \u2502 HTTPS/HTTP\n                             \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         NGINX                                    \u2502\n\u2502                   (Reverse Proxy / Load Balancer)                \u2502\n\u2502  \u2022 SSL Termination                                              \u2502\n\u2502  \u2022 Static File Serving                                          \u2502\n\u2502  \u2022 Request Routing                                              \u2502\n\u2502  \u2022 Health Check Aggregation                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502                         \u2502\n               \u2502 /                       \u2502 /api/*\n               \u2502                         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      FRONTEND           \u2502   \u2502         BACKEND                    \u2502\n\u2502   Angular Application   \u2502   \u2502    Spring Boot Application         \u2502\n\u2502  \u2022 SPA (Single Page)    \u2502   \u2502  \u2022 REST API                        \u2502\n\u2502  \u2022 Responsive UI        \u2502   \u2502  \u2022 Business Logic                  \u2502\n\u2502  \u2022 Health Checks        \u2502   \u2502  \u2022 Security (Spring Security)      \u2502\n\u2502  Port: 4200             \u2502   \u2502  \u2022 Data Access Layer               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502  \u2022 Health Checks (Actuator)        \u2502\n                              \u2502  Port: 8080                         \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                           \u2502\n                                           \u2502 JDBC\n                                           \u2502\n                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502        POSTGRESQL                   \u2502\n                              \u2502   Relational Database               \u2502\n                              \u2502  \u2022 Data Persistence                 \u2502\n                              \u2502  \u2022 ACID Transactions                \u2502\n                              \u2502  Port: 5432                         \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/database-schema/","title":"Database Schema","text":""},{"location":"architecture/database-schema/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Schema Diagram</li> <li>Core Entities</li> <li>Authentication and Security</li> <li>Content Management</li> <li>Many-to-Many Relationships</li> <li>Indexes and Constraints</li> <li>Migration History</li> </ol>"},{"location":"architecture/database-schema/#1-overview","title":"1. Overview","text":"<p>The portfolio database uses PostgreSQL with Flyway for version-controlled schema migrations. Designed for scalability, data integrity, and query performance.</p> <p>Database Features: - Automated timestamps with <code>CURRENT_TIMESTAMP</code> - Cascading deletes for referential integrity - Check constraints for data validation - Comprehensive indexing strategy - UUID-based refresh tokens - Support for draft/publish workflows</p> <p>Migration Tool: Flyway (V1-V19 migrations applied)</p>"},{"location":"architecture/database-schema/#2-schema-diagram","title":"2. Schema Diagram","text":""},{"location":"architecture/database-schema/#entity-relationships","title":"Entity Relationships","text":"<pre><code>users \u2500\u2500\u252c\u2500\u2500 1:N \u2500\u2500 refresh_tokens\n        \u251c\u2500\u2500 1:N \u2500\u2500 cvs\n        \u2514\u2500\u2500 1:N \u2500\u2500 articles\n\nprojects \u2500\u2500\u2500 M:N \u2500\u2500 tags (via project_tags)\n\narticles \u2500\u2500\u252c\u2500\u2500 M:N \u2500\u2500 tags (via article_tags)\n           \u2514\u2500\u2500 1:N \u2500\u2500 article_images\n\nexperiences (independent entity)\n\nskills (independent entity)\n\nsite_configuration (singleton entity)\n</code></pre>"},{"location":"architecture/database-schema/#3-core-entities","title":"3. Core Entities","text":""},{"location":"architecture/database-schema/#projects-table","title":"Projects Table","text":"<p>Purpose: Portfolio projects with images and metadata</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key title VARCHAR(100) NOT NULL Project title description TEXT NOT NULL Full project description tech_stack VARCHAR(500) NOT NULL Technologies used github_url VARCHAR(255) Nullable GitHub repository URL image_url VARCHAR(255) Nullable Project image (WebP) thumbnail_url VARCHAR(255) Nullable Thumbnail (400x300px) demo_url VARCHAR(255) Nullable Live demo URL featured BOOLEAN NOT NULL, DEFAULT false Homepage featured flag created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Indexes: - <code>idx_projects_featured</code> - Filter featured projects - <code>idx_projects_title</code> - Search by title - <code>idx_projects_created_at DESC</code> - Chronological sorting</p>"},{"location":"architecture/database-schema/#tags-table","title":"Tags Table","text":"<p>Purpose: Technology tags for projects and articles</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key name VARCHAR(50) NOT NULL, UNIQUE Tag name color VARCHAR(7) NOT NULL, CHECK hex format Hex color code (#RGB or #RRGGBB) <p>Constraints: <pre><code>CHECK (color ~ '^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$')\n</code></pre></p> <p>Indexes: - <code>idx_tags_name</code> - Name lookups</p>"},{"location":"architecture/database-schema/#skills-table","title":"Skills Table","text":"<p>Purpose: Technical skills with categories and proficiency</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key name VARCHAR(50) NOT NULL Skill name icon VARCHAR(50) NOT NULL Bootstrap Icons class name color VARCHAR(7) NOT NULL, CHECK hex Hex color code category VARCHAR(20) NOT NULL, CHECK enum FRONTEND, BACKEND, DATABASE, DEVOPS, TOOLS display_order INTEGER NOT NULL, DEFAULT 0, CHECK &gt;= 0 Display order created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (category IN ('FRONTEND', 'BACKEND', 'DATABASE', 'DEVOPS', 'TOOLS'))\nCHECK (display_order &gt;= 0)\n</code></pre></p> <p>Indexes: - <code>idx_skills_display_order</code> - Ordered display - <code>idx_skills_category</code> - Filter by category - <code>idx_skills_name</code> - Name lookups</p>"},{"location":"architecture/database-schema/#experiences-table","title":"Experiences Table","text":"<p>Purpose: Professional, educational, certification, and volunteering experiences</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key company VARCHAR(200) NOT NULL Company or institution name role VARCHAR(200) NOT NULL Job title, degree, or certification start_date DATE NOT NULL Experience start date end_date DATE Nullable End date (NULL = ongoing) description TEXT NOT NULL Detailed description type VARCHAR(50) NOT NULL, CHECK enum WORK, EDUCATION, CERTIFICATION, VOLUNTEERING created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (type IN ('WORK', 'EDUCATION', 'CERTIFICATION', 'VOLUNTEERING'))\nCHECK (end_date IS NULL OR end_date &gt;= start_date)\n</code></pre></p> <p>Indexes: - <code>idx_experiences_start_date DESC</code> - Chronological sorting - <code>idx_experiences_type</code> - Filter by type - <code>idx_experiences_ongoing WHERE end_date IS NULL</code> - Ongoing experiences (partial index)</p>"},{"location":"architecture/database-schema/#4-authentication-and-security","title":"4. Authentication and Security","text":""},{"location":"architecture/database-schema/#users-table","title":"Users Table","text":"<p>Purpose: Authenticated users with role-based access control</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key username VARCHAR(50) NOT NULL, UNIQUE, CHECK &gt;= 3 chars Username email VARCHAR(100) NOT NULL, UNIQUE, CHECK email format Email address password VARCHAR(255) NOT NULL BCrypt hashed password role VARCHAR(20) NOT NULL, DEFAULT 'ROLE_GUEST' ROLE_ADMIN or ROLE_GUEST enabled BOOLEAN NOT NULL, DEFAULT true Account status account_non_expired BOOLEAN NOT NULL, DEFAULT true Account expiration account_non_locked BOOLEAN NOT NULL, DEFAULT true Account lock status credentials_non_expired BOOLEAN NOT NULL, DEFAULT true Password expiration created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (role IN ('ROLE_ADMIN', 'ROLE_GUEST'))\nCHECK (char_length(username) &gt;= 3)\nCHECK (email ~ '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$')\n</code></pre></p> <p>Indexes: - <code>idx_users_username</code> - Login lookups - <code>idx_users_email</code> - Email lookups - <code>idx_users_role</code> - Role filtering - <code>idx_users_enabled</code> - Active users</p> <p>Seed Data: Default admin user (username: <code>admin</code>, password: <code>Admin123!</code>)</p>"},{"location":"architecture/database-schema/#refresh-tokens-table","title":"Refresh Tokens Table","text":"<p>Purpose: JWT refresh tokens for secure token rotation</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key token VARCHAR(255) NOT NULL, UNIQUE UUID refresh token user_id BIGINT NOT NULL, FK \u2192 users(id) CASCADE Token owner expiry_date TIMESTAMP NOT NULL Token expiration revoked BOOLEAN NOT NULL, DEFAULT false Revocation flag created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp <p>Indexes: - <code>idx_refresh_tokens_token</code> - Token lookups - <code>idx_refresh_tokens_user_id</code> - User's tokens - <code>idx_refresh_tokens_expiry_date</code> - Expiration checks - <code>idx_refresh_tokens_revoked</code> - Active tokens</p>"},{"location":"architecture/database-schema/#cvs-table","title":"CVs Table","text":"<p>Purpose: Version-controlled CV uploads</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key user_id BIGINT NOT NULL, FK \u2192 users(id) CASCADE CV owner file_name VARCHAR(255) NOT NULL Stored filename original_file_name VARCHAR(255) NOT NULL Original upload name file_url VARCHAR(255) NOT NULL CV file URL file_size BIGINT NOT NULL File size in bytes uploaded_at TIMESTAMP NOT NULL, DEFAULT NOW Upload timestamp current BOOLEAN NOT NULL, DEFAULT false Current CV flag <p>Constraints: <pre><code>UNIQUE INDEX idx_cvs_user_current ON cvs(user_id) WHERE current = true\n-- Ensures only ONE current CV per user\n</code></pre></p> <p>Indexes: - <code>idx_cvs_user_id</code> - User's CVs - <code>idx_cvs_current</code> - Current CVs - <code>idx_cvs_user_current</code> - Unique current CV per user (partial)</p>"},{"location":"architecture/database-schema/#5-content-management","title":"5. Content Management","text":""},{"location":"architecture/database-schema/#articles-table","title":"Articles Table","text":"<p>Purpose: Blog articles with Markdown content</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key title VARCHAR(200) NOT NULL Article title slug VARCHAR(200) NOT NULL, UNIQUE URL-friendly identifier content TEXT NOT NULL Markdown source excerpt VARCHAR(500) Nullable Short summary author_id BIGINT NOT NULL, FK \u2192 users(id) RESTRICT Article author draft BOOLEAN NOT NULL, DEFAULT true Draft status published_at TIMESTAMP Nullable Publication timestamp reading_time_minutes INTEGER Nullable Estimated reading time created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Indexes: - <code>idx_articles_slug</code> - Slug lookups - <code>idx_articles_published DESC WHERE draft = false</code> - Published articles (partial) - <code>idx_articles_draft</code> - Draft filtering - <code>idx_articles_author</code> - Author's articles</p>"},{"location":"architecture/database-schema/#article-images-table","title":"Article Images Table","text":"<p>Purpose: Images embedded in articles</p> Column Type Constraints Description id BIGSERIAL PK Auto-incrementing primary key article_id BIGINT NOT NULL, FK \u2192 articles(id) CASCADE Parent article image_url VARCHAR(255) NOT NULL Image URL thumbnail_url VARCHAR(255) Nullable Thumbnail URL uploaded_at TIMESTAMP NOT NULL, DEFAULT NOW Upload timestamp <p>Indexes: - <code>idx_article_images_article</code> - Article's images</p>"},{"location":"architecture/database-schema/#site-configuration-table","title":"Site Configuration Table","text":"<p>Purpose: Centralized site-wide configuration (singleton pattern)</p> Column Type Constraints Description id BIGSERIAL PK, CHECK (id = 1) Always 1 (singleton) full_name VARCHAR(100) NOT NULL Site owner's name email VARCHAR(255) NOT NULL Contact email hero_title VARCHAR(200) NOT NULL Hero section title hero_description TEXT NOT NULL Hero section description site_title VARCHAR(100) NOT NULL Browser tab title seo_description VARCHAR(300) NOT NULL Meta description profile_image_url VARCHAR(500) Nullable Profile image URL github_url VARCHAR(500) NOT NULL GitHub profile URL linkedin_url VARCHAR(500) NOT NULL LinkedIn profile URL created_at TIMESTAMP NOT NULL, DEFAULT NOW Creation timestamp updated_at TIMESTAMP NOT NULL, DEFAULT NOW Last update timestamp <p>Constraints: <pre><code>CHECK (id = 1)  -- Ensures singleton pattern\n</code></pre></p>"},{"location":"architecture/database-schema/#6-many-to-many-relationships","title":"6. Many-to-Many Relationships","text":""},{"location":"architecture/database-schema/#project-tags-junction-table","title":"Project Tags Junction Table","text":"<p>Table: <code>project_tags</code></p> Column Type Constraints Description project_id BIGINT PK, FK \u2192 projects(id) CASCADE Project reference tag_id BIGINT PK, FK \u2192 tags(id) CASCADE Tag reference <p>Composite Primary Key: <code>(project_id, tag_id)</code></p> <p>Indexes: - <code>idx_project_tags_tag_id</code> - Projects by tag - <code>idx_project_tags_project_id</code> - Tags by project</p> <p>Cascade Behavior: Deleting project or tag removes relationship</p>"},{"location":"architecture/database-schema/#article-tags-junction-table","title":"Article Tags Junction Table","text":"<p>Table: <code>article_tags</code></p> Column Type Constraints Description article_id BIGINT PK, FK \u2192 articles(id) CASCADE Article reference tag_id BIGINT PK, FK \u2192 tags(id) CASCADE Tag reference <p>Composite Primary Key: <code>(article_id, tag_id)</code></p> <p>Indexes: - <code>idx_article_tags_article</code> - Tags by article - <code>idx_article_tags_tag</code> - Articles by tag</p> <p>Cascade Behavior: Deleting article or tag removes relationship</p>"},{"location":"architecture/database-schema/#7-indexes-and-constraints","title":"7. Indexes and Constraints","text":""},{"location":"architecture/database-schema/#performance-indexes","title":"Performance Indexes","text":"<p>Chronological Sorting: <pre><code>CREATE INDEX idx_projects_created_at ON projects(created_at DESC);\nCREATE INDEX idx_experiences_start_date ON experiences(start_date DESC);\nCREATE INDEX idx_articles_published ON articles(published_at DESC) WHERE draft = false;\n</code></pre></p> <p>Filtering and Search: <pre><code>CREATE INDEX idx_skills_category ON skills(category);\nCREATE INDEX idx_experiences_type ON experiences(type);\nCREATE INDEX idx_projects_featured ON projects(featured);\n</code></pre></p> <p>Unique Constraints: <pre><code>ALTER TABLE tags ADD CONSTRAINT uk_tags_name UNIQUE (name);\nALTER TABLE articles ADD CONSTRAINT uk_articles_slug UNIQUE (slug);\nALTER TABLE users ADD CONSTRAINT uk_users_username UNIQUE (username);\nALTER TABLE users ADD CONSTRAINT uk_users_email UNIQUE (email);\n</code></pre></p> <p>Partial Indexes (PostgreSQL-specific): <pre><code>-- Only index ongoing experiences\nCREATE INDEX idx_experiences_ongoing ON experiences(end_date) WHERE end_date IS NULL;\n\n-- Only index published articles\nCREATE INDEX idx_articles_published ON articles(published_at DESC) WHERE draft = false;\n\n-- Ensure only one current CV per user\nCREATE UNIQUE INDEX idx_cvs_user_current ON cvs(user_id) WHERE current = true;\n</code></pre></p>"},{"location":"architecture/database-schema/#8-migration-history","title":"8. Migration History","text":"Version Description Tables Created/Modified V1 Initial schema projects, tags, project_tags V2 Skills management skills V3 Authentication users, refresh_tokens V4 Skills refactoring skills (removed level column) V5 CV management cvs V6 Project thumbnails projects (added thumbnail_url) V7 Experience timeline experiences V8 Blog articles articles, article_tags, article_images V9 Article metrics articles (removed views_count) V19 Site configuration site_configuration (replaces hero_section)"},{"location":"architecture/database-schema/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - API documentation</li> <li>Features: Image Processing - Image storage</li> <li>Security: Authentication - Auth system</li> <li>Development: Setup - Database setup instructions</li> </ul>"},{"location":"architecture/error-handling/","title":"Error Handling Architecture","text":""},{"location":"architecture/error-handling/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Global Exception Handler</li> <li>Custom Exceptions</li> <li>Error Response Formats</li> <li>HTTP Status Code Mapping</li> <li>Validation Error Handling</li> <li>Logging Strategy</li> </ol>"},{"location":"architecture/error-handling/#1-overview","title":"1. Overview","text":"<p>The application uses centralized exception handling via Spring's <code>@RestControllerAdvice</code> for consistent error responses across all REST endpoints.</p> <p>Key Features: - Centralized error handling with <code>GlobalExceptionHandler</code> - Custom exception types for domain-specific errors - Structured error response formats (JSON) - Comprehensive logging of all exceptions - Differentiation between client errors (4xx) and server errors (5xx) - Special handling for validation errors with field-level details - JWT-specific exception handling</p> <p>Handler Class: <code>com.emmanuelgabe.portfolio.exception.GlobalExceptionHandler</code></p>"},{"location":"architecture/error-handling/#2-global-exception-handler","title":"2. Global Exception Handler","text":""},{"location":"architecture/error-handling/#globalexceptionhandler","title":"GlobalExceptionHandler","text":"<p>Annotation: <code>@RestControllerAdvice</code></p> <p>Purpose: Intercept all exceptions thrown by controllers and convert them to appropriate HTTP responses</p> <p>Pattern: <pre><code>@Slf4j\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ExceptionType.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleExceptionType(ExceptionType ex) {\n        log.warn(\"[EXCEPTION] Description - message={}\", ex.getMessage());\n        ErrorResponse errorResponse = new ErrorResponse(\n            HttpStatus.STATUS_CODE.value(),\n            ex.getMessage(),\n            LocalDateTime.now()\n        );\n        return ResponseEntity.status(HttpStatus.STATUS_CODE).body(errorResponse);\n    }\n}\n</code></pre></p>"},{"location":"architecture/error-handling/#exception-handlers-implemented","title":"Exception Handlers Implemented","text":"Exception Type HTTP Status Log Level Description <code>ResourceNotFoundException</code> 404 WARN Resource not found (Project, Skill, etc.) <code>InvalidCredentialsException</code> 401 WARN Invalid username/password <code>InvalidTokenException</code> 401 WARN Invalid JWT token <code>TokenExpiredException</code> 401 WARN Expired JWT token <code>SignatureException</code> 401 ERROR Invalid JWT signature <code>ExpiredJwtException</code> 401 WARN JWT expired (jjwt library) <code>MalformedJwtException</code> 401 ERROR Malformed JWT token <code>UnsupportedJwtException</code> 401 ERROR Unsupported JWT token <code>AuthenticationException</code> 401 WARN Spring Security authentication failure <code>AccessDeniedException</code> 403 WARN Insufficient permissions <code>IllegalArgumentException</code> 400 WARN Invalid method argument <code>FileStorageException</code> 400/500 WARN/ERROR File upload/storage error (context-dependent) <code>EmailException</code> 500 ERROR Email sending failure <code>MethodArgumentNotValidException</code> 400 WARN Validation error (field-level) <code>Exception</code> 500 ERROR Unexpected errors (catch-all)"},{"location":"architecture/error-handling/#3-custom-exceptions","title":"3. Custom Exceptions","text":""},{"location":"architecture/error-handling/#resourcenotfoundexception","title":"ResourceNotFoundException","text":"<p>Purpose: Indicate requested resource does not exist</p> <p>Usage: <pre><code>throw new ResourceNotFoundException(\"Project not found with id: \" + id);\n\n// Or with structured message:\nthrow new ResourceNotFoundException(\"Project\", \"id\", id);\n// \u2192 \"Project not found with id : '123'\"\n</code></pre></p> <p>HTTP Status: 404 Not Found</p> <p>Use Cases: - Project not found - Skill not found - Tag not found - Experience not found - Article not found - User not found</p>"},{"location":"architecture/error-handling/#invalidcredentialsexception","title":"InvalidCredentialsException","text":"<p>Purpose: Indicate authentication failure due to incorrect credentials</p> <p>Usage: <pre><code>throw new InvalidCredentialsException(\"Invalid username or password\");\n</code></pre></p> <p>HTTP Status: 401 Unauthorized</p> <p>Use Cases: - Login with incorrect username - Login with incorrect password</p>"},{"location":"architecture/error-handling/#invalidtokenexception","title":"InvalidTokenException","text":"<p>Purpose: Indicate JWT token is invalid</p> <p>Usage: <pre><code>throw new InvalidTokenException(\"Invalid refresh token\");\n</code></pre></p> <p>HTTP Status: 401 Unauthorized</p> <p>Use Cases: - Invalid refresh token - Token manipulation detected</p>"},{"location":"architecture/error-handling/#tokenexpiredexception","title":"TokenExpiredException","text":"<p>Purpose: Indicate JWT token has expired</p> <p>Usage: <pre><code>throw new TokenExpiredException(\"Refresh token has expired\");\n</code></pre></p> <p>HTTP Status: 401 Unauthorized</p> <p>Use Cases: - Expired access token - Expired refresh token</p>"},{"location":"architecture/error-handling/#filestorageexception","title":"FileStorageException","text":"<p>Purpose: Indicate file upload or storage failure</p> <p>Usage: <pre><code>throw new FileStorageException(\"File type not allowed\");\nthrow new FileStorageException(\"Failed to store file\", cause);\n</code></pre></p> <p>HTTP Status: Context-dependent - 400 Bad Request - Validation errors (client's fault):   - Invalid file type   - File size exceeds limit   - Empty file   - Invalid file name - 500 Internal Server Error - Storage errors (server's fault):   - Failed to create directory   - Failed to write file   - Disk space issues</p> <p>Detection Logic: <pre><code>boolean isValidationError = ex.getMessage().contains(\"File type not allowed\")\n    || ex.getMessage().contains(\"exceeds maximum\")\n    || ex.getMessage().contains(\"empty\")\n    || ex.getMessage().contains(\"Invalid file name\");\n</code></pre></p>"},{"location":"architecture/error-handling/#emailexception","title":"EmailException","text":"<p>Purpose: Indicate email sending failure</p> <p>Usage: <pre><code>throw new EmailException(\"Failed to send email: \" + e.getMessage());\n</code></pre></p> <p>HTTP Status: 500 Internal Server Error</p> <p>User-Facing Message: \"Failed to send email. Please try again later.\" - Hides internal error details for security</p> <p>Use Cases: - SMTP server unavailable - Invalid email configuration - Network failure</p>"},{"location":"architecture/error-handling/#4-error-response-formats","title":"4. Error Response Formats","text":""},{"location":"architecture/error-handling/#standard-error-response","title":"Standard Error Response","text":"<p>Class: <code>ErrorResponse</code></p> <p>Structure: <pre><code>{\n  \"status\": 404,\n  \"message\": \"Project not found with id: 123\",\n  \"timestamp\": \"2025-11-19T14:23:45.123\"\n}\n</code></pre></p> <p>Fields: | Field | Type | Description | |-------|------|-------------| | <code>status</code> | integer | HTTP status code | | <code>message</code> | string | Human-readable error message | | <code>timestamp</code> | datetime | Error occurrence timestamp (ISO 8601) |</p>"},{"location":"architecture/error-handling/#validation-error-response","title":"Validation Error Response","text":"<p>Class: <code>ValidationErrorResponse</code> (extends <code>ErrorResponse</code>)</p> <p>Structure: <pre><code>{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"timestamp\": \"2025-11-19T14:23:45.123\",\n  \"errors\": {\n    \"title\": \"must not be blank\",\n    \"description\": \"must not be blank\",\n    \"githubUrl\": \"must be a valid URL\"\n  }\n}\n</code></pre></p> <p>Fields: | Field | Type | Description | |-------|------|-------------| | <code>status</code> | integer | HTTP status code (400) | | <code>message</code> | string | \"Validation failed\" | | <code>timestamp</code> | datetime | Error occurrence timestamp | | <code>errors</code> | object | Field-level validation errors (field \u2192 error message) |</p> <p>Benefits: - Client can display field-specific error messages - Clear indication of which fields failed validation - Supports multiple field errors in single response</p>"},{"location":"architecture/error-handling/#5-http-status-code-mapping","title":"5. HTTP Status Code Mapping","text":""},{"location":"architecture/error-handling/#400-bad-request","title":"400 Bad Request","text":"<p>Scenarios: - Validation errors (<code>MethodArgumentNotValidException</code>) - Invalid method arguments (<code>IllegalArgumentException</code>) - File validation errors (invalid type, size exceeded, etc.)</p> <p>Client Action: Fix request data and retry</p>"},{"location":"architecture/error-handling/#401-unauthorized","title":"401 Unauthorized","text":"<p>Scenarios: - Invalid credentials (<code>InvalidCredentialsException</code>) - Invalid JWT token (<code>InvalidTokenException</code>, <code>MalformedJwtException</code>) - Expired JWT token (<code>TokenExpiredException</code>, <code>ExpiredJwtException</code>) - JWT signature invalid (<code>SignatureException</code>) - Authentication failure (<code>AuthenticationException</code>)</p> <p>Client Action: Re-authenticate (login again)</p>"},{"location":"architecture/error-handling/#403-forbidden","title":"403 Forbidden","text":"<p>Scenarios: - Insufficient permissions (<code>AccessDeniedException</code>) - Authenticated but lacks required role (ROLE_ADMIN)</p> <p>Client Action: Request access upgrade or navigate to allowed area</p>"},{"location":"architecture/error-handling/#404-not-found","title":"404 Not Found","text":"<p>Scenarios: - Resource not found (<code>ResourceNotFoundException</code>)</p> <p>Client Action: Verify resource ID and try again or navigate elsewhere</p>"},{"location":"architecture/error-handling/#500-internal-server-error","title":"500 Internal Server Error","text":"<p>Scenarios: - File storage failure (<code>FileStorageException</code> - server errors) - Email sending failure (<code>EmailException</code>) - Unexpected exceptions (<code>Exception</code> catch-all)</p> <p>Client Action: Retry later or contact support</p>"},{"location":"architecture/error-handling/#6-validation-error-handling","title":"6. Validation Error Handling","text":""},{"location":"architecture/error-handling/#jakarta-validation-integration","title":"Jakarta Validation Integration","text":"<p>Trigger: <code>@Valid</code> annotation on controller method parameters</p> <p>Example Controller: <pre><code>@PostMapping\npublic ResponseEntity&lt;ProjectResponse&gt; createProject(\n    @Valid @RequestBody CreateProjectRequest request\n) {\n    // Validation performed automatically before method execution\n}\n</code></pre></p> <p>Validation Annotations: <pre><code>public class CreateProjectRequest {\n    @NotBlank(message = \"Title is required\")\n    @Size(min = 3, max = 200, message = \"Title must be between 3 and 200 characters\")\n    private String title;\n\n    @Email(message = \"Email must be valid\")\n    private String email;\n\n    @Pattern(regexp = \"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$\",\n             message = \"Color must be a valid hex color code\")\n    private String color;\n}\n</code></pre></p>"},{"location":"architecture/error-handling/#validation-error-response_1","title":"Validation Error Response","text":"<p>Handler: <pre><code>@ExceptionHandler(MethodArgumentNotValidException.class)\npublic ResponseEntity&lt;ValidationErrorResponse&gt; handleValidationExceptions(\n    MethodArgumentNotValidException ex\n) {\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n        String fieldName = ((FieldError) error).getField();\n        String errorMessage = error.getDefaultMessage();\n        errors.put(fieldName, errorMessage);\n    });\n\n    log.warn(\"[EXCEPTION] Validation failed - errorCount={}, fields={}\",\n        errors.size(), errors.keySet());\n\n    ValidationErrorResponse errorResponse = new ValidationErrorResponse(\n        HttpStatus.BAD_REQUEST.value(),\n        \"Validation failed\",\n        LocalDateTime.now(),\n        errors\n    );\n    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(errorResponse);\n}\n</code></pre></p> <p>Example Response: <pre><code>{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"timestamp\": \"2025-11-19T14:23:45.123\",\n  \"errors\": {\n    \"title\": \"Title is required\",\n    \"description\": \"Description must be between 10 and 5000 characters\",\n    \"email\": \"Email must be valid\"\n  }\n}\n</code></pre></p>"},{"location":"architecture/error-handling/#7-logging-strategy","title":"7. Logging Strategy","text":""},{"location":"architecture/error-handling/#log-levels-by-exception-type","title":"Log Levels by Exception Type","text":"<p>WARN Level (client errors, expected scenarios): - <code>ResourceNotFoundException</code> - <code>InvalidCredentialsException</code> - <code>InvalidTokenException</code> - <code>TokenExpiredException</code> - <code>ExpiredJwtException</code> - <code>AuthenticationException</code> - <code>AccessDeniedException</code> - <code>IllegalArgumentException</code> - <code>FileStorageException</code> (validation errors) - <code>MethodArgumentNotValidException</code></p> <p>ERROR Level (server errors, unexpected scenarios): - <code>SignatureException</code> - <code>MalformedJwtException</code> - <code>UnsupportedJwtException</code> - <code>FileStorageException</code> (storage errors) - <code>EmailException</code> - <code>Exception</code> (catch-all)</p>"},{"location":"architecture/error-handling/#logging-format","title":"Logging Format","text":"<p>Pattern: <pre><code>[EXCEPTION] &lt;Description&gt; - &lt;contextual key-value pairs&gt;\n</code></pre></p> <p>Examples: <pre><code>[EXCEPTION] Resource not found - message=Project not found with id: 123\n[EXCEPTION] Invalid credentials - message=Invalid username or password\n[EXCEPTION] Validation failed - errorCount=3, fields=[title, description, email]\n[EXCEPTION] File validation error - message=File type not allowed\n[EXCEPTION] Email sending failed - message=SMTP server unavailable\n[EXCEPTION] Unexpected error - type=NullPointerException, message=...\n</code></pre></p>"},{"location":"architecture/error-handling/#defensive-copy-in-validationerrorresponse","title":"Defensive Copy in ValidationErrorResponse","text":"<p>Purpose: Prevent internal representation exposure</p> <p>Implementation: <pre><code>public Map&lt;String, String&gt; getErrors() {\n    return new HashMap&lt;&gt;(errors);  // Return defensive copy\n}\n</code></pre></p> <p>Benefit: External code cannot modify internal errors map</p>"},{"location":"architecture/error-handling/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - API endpoints</li> <li>Reference: Error Codes - Complete error code reference</li> <li>Development: Logging Conventions - Logging standards</li> </ul>"},{"location":"architecture/frontend-architecture/","title":"Frontend Architecture","text":""},{"location":"architecture/frontend-architecture/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Technology Stack</li> <li>Project Structure</li> <li>Routing Architecture</li> <li>Service Layer</li> <li>Guards and Interceptors</li> <li>Component Organization</li> <li>State Management</li> </ol>"},{"location":"architecture/frontend-architecture/#1-overview","title":"1. Overview","text":"<p>The frontend is built with Angular 18 using standalone components architecture. Follows modern Angular patterns with functional guards, HTTP interceptors, and dependency injection.</p> <p>Key Architectural Decisions: - Standalone components (no NgModules) - Functional route guards (<code>CanActivateFn</code>) - HTTP interceptors for cross-cutting concerns - Service-based state management - Separation of public and admin areas - Token-based authentication with auto-refresh</p> <p>Application Type: Single Page Application (SPA)</p>"},{"location":"architecture/frontend-architecture/#2-technology-stack","title":"2. Technology Stack","text":""},{"location":"architecture/frontend-architecture/#core-framework","title":"Core Framework","text":"<p>Angular 18 LTS: - Standalone components - Signals (reactive primitives) - HttpClient for API communication - Router for navigation - RxJS for reactive programming</p>"},{"location":"architecture/frontend-architecture/#ui-framework","title":"UI Framework","text":"<p>Bootstrap 5.3: - Responsive grid system - Pre-built components - Bootstrap Icons for iconography - Custom SCSS styling</p>"},{"location":"architecture/frontend-architecture/#build-tools","title":"Build Tools","text":"<ul> <li>TypeScript 5.5 (strict mode)</li> <li>Vite (development server)</li> <li>ESLint + Prettier (code quality)</li> <li>Husky + lint-staged (pre-commit hooks)</li> </ul>"},{"location":"architecture/frontend-architecture/#key-dependencies","title":"Key Dependencies","text":"<pre><code>{\n  \"dependencies\": {\n    \"@angular/core\": \"^18.x\",\n    \"@angular/common\": \"^18.x\",\n    \"@angular/router\": \"^18.x\",\n    \"bootstrap\": \"^5.3.x\",\n    \"bootstrap-icons\": \"^1.11.x\",\n    \"date-fns\": \"^3.x\",\n    \"ngx-toastr\": \"^18.x\",\n    \"rxjs\": \"^7.x\"\n  }\n}\n</code></pre>"},{"location":"architecture/frontend-architecture/#3-project-structure","title":"3. Project Structure","text":""},{"location":"architecture/frontend-architecture/#directory-organization","title":"Directory Organization","text":"<pre><code>src/app/\n\u251c\u2500\u2500 components/          # Reusable UI components\n\u2502   \u251c\u2500\u2500 article-card/    # Article preview card\n\u2502   \u251c\u2500\u2500 contact-form/    # Contact form widget\n\u2502   \u251c\u2500\u2500 home/            # Homepage component\n\u2502   \u251c\u2500\u2500 navbar/          # Navigation bar\n\u2502   \u251c\u2500\u2500 project-card/    # Project preview card\n\u2502   \u251c\u2500\u2500 project-detail/  # Project detail view\n\u2502   \u251c\u2500\u2500 project-list/    # Projects listing\n\u2502   \u2514\u2500\u2500 shared/          # Shared components\n\u2502       \u2514\u2500\u2500 session-expiry-modal/  # Session timeout modal\n\u251c\u2500\u2500 pages/               # Page-level components\n\u2502   \u251c\u2500\u2500 admin/           # Admin area (protected)\n\u2502   \u2502   \u251c\u2500\u2500 admin-layout/      # Admin shell layout\n\u2502   \u2502   \u251c\u2500\u2500 dashboard/         # Admin dashboard\n\u2502   \u2502   \u251c\u2500\u2500 articles/          # Article management\n\u2502   \u2502   \u251c\u2500\u2500 experiences/       # Experience management\n\u2502   \u2502   \u251c\u2500\u2500 projects/          # Project management\n\u2502   \u2502   \u251c\u2500\u2500 skills/            # Skill management\n\u2502   \u2502   \u251c\u2500\u2500 tags/              # Tag management\n\u2502   \u2502   \u2514\u2500\u2500 admin-cv/          # CV management\n\u2502   \u251c\u2500\u2500 blog/            # Blog public area\n\u2502   \u2502   \u251c\u2500\u2500 article-list/      # Blog listing\n\u2502   \u2502   \u2514\u2500\u2500 article-detail/    # Article reading\n\u2502   \u251c\u2500\u2500 contact/         # Contact page\n\u2502   \u251c\u2500\u2500 login/           # Login page\n\u2502   \u2514\u2500\u2500 timeline/        # Timeline page\n\u251c\u2500\u2500 services/            # Business logic and API communication\n\u251c\u2500\u2500 guards/              # Route protection\n\u251c\u2500\u2500 interceptors/        # HTTP middleware\n\u251c\u2500\u2500 models/              # TypeScript interfaces\n\u2514\u2500\u2500 app.routes.ts        # Route configuration\n</code></pre>"},{"location":"architecture/frontend-architecture/#file-naming-conventions","title":"File Naming Conventions","text":"<p>Components: - <code>component-name.component.ts</code> - Component class - <code>component-name.component.html</code> - Template - <code>component-name.component.scss</code> - Styles - <code>component-name.component.spec.ts</code> - Unit tests</p> <p>Services: - <code>service-name.service.ts</code> - Service class - <code>service-name.service.spec.ts</code> - Unit tests</p>"},{"location":"architecture/frontend-architecture/#4-routing-architecture","title":"4. Routing Architecture","text":""},{"location":"architecture/frontend-architecture/#route-configuration","title":"Route Configuration","text":"<p>File: <code>app.routes.ts</code></p> <p>Route Structure: <pre><code>export const routes: Routes = [\n  // Public routes\n  { path: '', component: HomeComponent },\n  { path: 'login', component: LoginComponent },\n  { path: 'projects', component: ProjectListComponent },\n  { path: 'projects/:id', component: ProjectDetailComponent },\n  { path: 'contact', component: ContactComponent },\n  { path: 'blog', component: ArticleListComponent },\n  { path: 'blog/:slug', component: ArticleDetailComponent },\n\n  // Admin routes (protected by adminGuard)\n  {\n    path: 'admin',\n    canActivate: [adminGuard],\n    component: AdminLayoutComponent,\n    children: [\n      { path: '', component: DashboardComponent },\n      { path: 'projects', component: AdminProjectListComponent },\n      { path: 'projects/new', component: ProjectFormComponent },\n      { path: 'projects/:id/edit', component: ProjectFormComponent },\n      { path: 'skills', component: SkillListComponent },\n      { path: 'skills/new', component: SkillFormComponent },\n      { path: 'skills/:id/edit', component: SkillFormComponent },\n      { path: 'tags', component: TagListComponent },\n      { path: 'tags/new', component: TagFormComponent },\n      { path: 'tags/:id/edit', component: TagFormComponent },\n      { path: 'cv', component: AdminCvComponent },\n      { path: 'experiences', component: ExperienceListComponent },\n      { path: 'experiences/new', component: ExperienceFormComponent },\n      { path: 'experiences/edit/:id', component: ExperienceFormComponent },\n      { path: 'articles', component: AdminArticleListComponent },\n      { path: 'articles/new', component: ArticleFormComponent },\n      { path: 'articles/:id/edit', component: ArticleFormComponent },\n    ],\n  },\n\n  // Catch-all route\n  { path: '**', redirectTo: '' },\n];\n</code></pre></p>"},{"location":"architecture/frontend-architecture/#public-vs-admin-routes","title":"Public vs Admin Routes","text":"<p>Public Routes (unauthenticated access): - <code>/</code> - Homepage with featured projects - <code>/projects</code> - Projects listing - <code>/projects/:id</code> - Project details - <code>/blog</code> - Blog articles listing - <code>/blog/:slug</code> - Article reading view - <code>/contact</code> - Contact form - <code>/login</code> - Authentication</p> <p>Admin Routes (requires <code>ROLE_ADMIN</code>): - <code>/admin</code> - Dashboard - <code>/admin/projects</code> - Manage projects (list/create/edit/delete) - <code>/admin/skills</code> - Manage skills - <code>/admin/tags</code> - Manage tags - <code>/admin/cv</code> - Upload/manage CV - <code>/admin/experiences</code> - Manage timeline experiences - <code>/admin/articles</code> - Manage blog articles</p>"},{"location":"architecture/frontend-architecture/#nested-admin-routes","title":"Nested Admin Routes","text":"<p>Pattern: Admin routes use nested routing with <code>AdminLayoutComponent</code> as shell</p> <p>Benefits: - Shared admin navigation and header - Consistent admin UI layout - Single guard protection for all admin routes - Lazy loading potential for admin modules</p>"},{"location":"architecture/frontend-architecture/#5-service-layer","title":"5. Service Layer","text":""},{"location":"architecture/frontend-architecture/#service-architecture","title":"Service Architecture","text":"<p>Services (<code>src/app/services/</code>):</p> Service Purpose Key Methods <code>AuthService</code> Authentication management <code>login()</code>, <code>logout()</code>, <code>refreshToken()</code>, <code>isAuthenticated()</code>, <code>isAdmin()</code> <code>TokenStorageService</code> JWT token storage <code>saveToken()</code>, <code>getToken()</code>, <code>clearToken()</code>, <code>isTokenExpired()</code> <code>ProjectService</code> Project CRUD operations <code>getAll()</code>, <code>getById()</code>, <code>create()</code>, <code>update()</code>, <code>delete()</code>, <code>uploadImage()</code> <code>ArticleService</code> Article management <code>getAllPublished()</code>, <code>getBySlug()</code>, <code>create()</code>, <code>update()</code>, <code>publish()</code> <code>ExperienceService</code> Experience management <code>getAll()</code>, <code>getByType()</code>, <code>getOngoing()</code>, <code>getRecent()</code> <code>SkillService</code> Skills management <code>getAll()</code>, <code>create()</code>, <code>update()</code>, <code>delete()</code> <code>TagService</code> Tag management <code>getAll()</code>, <code>create()</code>, <code>update()</code>, <code>delete()</code> <code>ContactService</code> Contact form submission <code>sendMessage()</code> <code>CvService</code> CV management <code>upload()</code>, <code>getCurrent()</code>, <code>getAll()</code> <code>ImageService</code> Image upload <code>uploadProjectImage()</code>, <code>deleteProjectImage()</code> <code>ArticleImageService</code> Article image upload <code>uploadImage()</code>, <code>deleteImage()</code> <code>LoggerService</code> Centralized logging <code>debug()</code>, <code>info()</code>, <code>warn()</code>, <code>error()</code> <code>ModalService</code> Modal management <code>openSessionExpiryModal()</code> <code>ActivityMonitorService</code> User activity tracking <code>startMonitoring()</code>, <code>resetTimer()</code> <code>I18nService</code> Internationalization <code>translate()</code>, <code>setLanguage()</code>"},{"location":"architecture/frontend-architecture/#service-patterns","title":"Service Patterns","text":"<p>HTTP Service Pattern: <pre><code>@Injectable({ providedIn: 'root' })\nexport class ProjectService {\n  private readonly http = inject(HttpClient);\n  private readonly logger = inject(LoggerService);\n  private readonly apiUrl = `${environment.apiUrl}/api/projects`;\n\n  getAll(): Observable&lt;ProjectResponse[]&gt; {\n    return this.http.get&lt;ProjectResponse[]&gt;(this.apiUrl).pipe(\n      catchError(error =&gt; {\n        this.logger.error('[HTTP] Get projects failed', {\n          status: error.status,\n          message: error.message\n        });\n        return throwError(() =&gt; error);\n      })\n    );\n  }\n}\n</code></pre></p> <p>Key Patterns: - <code>providedIn: 'root'</code> for singleton services - <code>inject()</code> function for dependency injection - RxJS operators for error handling - Centralized logging via <code>LoggerService</code></p>"},{"location":"architecture/frontend-architecture/#6-guards-and-interceptors","title":"6. Guards and Interceptors","text":""},{"location":"architecture/frontend-architecture/#route-guards","title":"Route Guards","text":"<p>File: <code>guards/auth.guard.ts</code></p> <p>Guards Implemented:</p>"},{"location":"architecture/frontend-architecture/#authguard","title":"authGuard","text":"<pre><code>export const authGuard: CanActivateFn = (route, state): boolean | UrlTree =&gt; {\n  const authService = inject(AuthService);\n  const router = inject(Router);\n\n  if (authService.isAuthenticated()) {\n    return true;\n  }\n\n  return router.createUrlTree(['/login'], {\n    queryParams: { returnUrl: state.url }\n  });\n};\n</code></pre> <p>Purpose: Protect routes requiring authentication</p> <p>Behavior: - Allows access if authenticated - Redirects to <code>/login</code> with <code>returnUrl</code> parameter if not</p>"},{"location":"architecture/frontend-architecture/#adminguard","title":"adminGuard","text":"<pre><code>export const adminGuard: CanActivateFn = (route, state): boolean | UrlTree =&gt; {\n  const authService = inject(AuthService);\n  const router = inject(Router);\n\n  if (authService.isAuthenticated() &amp;&amp; authService.isAdmin()) {\n    return true;\n  }\n\n  if (!authService.isAuthenticated()) {\n    return router.createUrlTree(['/login'], {\n      queryParams: { returnUrl: state.url }\n    });\n  }\n\n  return router.createUrlTree(['/']);\n};\n</code></pre> <p>Purpose: Protect admin-only routes</p> <p>Behavior: - Allows access if authenticated AND has <code>ROLE_ADMIN</code> - Redirects to <code>/login</code> if not authenticated - Redirects to <code>/</code> (home) if authenticated but not admin</p>"},{"location":"architecture/frontend-architecture/#http-interceptors","title":"HTTP Interceptors","text":"<p>Files: <code>interceptors/*.interceptor.ts</code></p> <p>Interceptors Implemented:</p>"},{"location":"architecture/frontend-architecture/#jwt-interceptor","title":"JWT Interceptor","text":"<p>File: <code>jwt.interceptor.ts</code></p> <p>Responsibilities: - Attach <code>Authorization: Bearer {token}</code> header to requests - Handle 401 Unauthorized errors - Attempt automatic token refresh - Retry failed requests with new token - Handle 403 Forbidden for expired tokens</p> <p>Token Refresh Flow: <pre><code>1. Request fails with 401\n2. Attempt token refresh\n3. If refresh succeeds:\n   \u2192 Retry original request with new token\n4. If refresh fails:\n   \u2192 Logout user\n   \u2192 Redirect to login\n</code></pre></p>"},{"location":"architecture/frontend-architecture/#retry-interceptor","title":"Retry Interceptor","text":"<p>File: <code>retry.interceptor.ts</code></p> <p>Purpose: Retry failed HTTP requests with exponential backoff</p> <p>Configuration: - Max retries: Configurable (default: 3) - Delay strategy: Exponential backoff - Retryable errors: 5xx server errors, network failures</p>"},{"location":"architecture/frontend-architecture/#logging-interceptor","title":"Logging Interceptor","text":"<p>File: <code>logging.interceptor.ts</code></p> <p>Purpose: Log all HTTP requests and responses for debugging</p> <p>Logged Information: - Request method and URL - Response status and timing - Error details</p>"},{"location":"architecture/frontend-architecture/#7-component-organization","title":"7. Component Organization","text":""},{"location":"architecture/frontend-architecture/#public-components","title":"Public Components","text":"<p>Reusable Components (<code>components/</code>): - <code>HomeComponent</code> - Homepage with featured projects and skills - <code>NavbarComponent</code> - Navigation bar with authentication state - <code>ProjectCardComponent</code> - Project preview card (used in listings) - <code>ProjectListComponent</code> - Projects grid display - <code>ProjectDetailComponent</code> - Single project detailed view - <code>ArticleCardComponent</code> - Article preview card - <code>ContactFormComponent</code> - Contact form widget</p> <p>Page Components (<code>pages/</code>): - <code>LoginComponent</code> - Authentication page - <code>ContactComponent</code> - Contact page with form - <code>ArticleListComponent</code> - Blog listing page - <code>ArticleDetailComponent</code> - Article reading page - <code>TimelineComponent</code> - Career timeline page</p>"},{"location":"architecture/frontend-architecture/#admin-components","title":"Admin Components","text":"<p>Admin Layout (<code>pages/admin/admin-layout/</code>): - Shell component for all admin pages - Shared admin navigation sidebar - Logout functionality - Session monitoring</p> <p>Admin Pages (<code>pages/admin/</code>):</p> Module List Component Form Component Purpose Dashboard <code>DashboardComponent</code> N/A Admin overview Projects <code>AdminProjectListComponent</code> <code>ProjectFormComponent</code> Manage projects Skills <code>SkillListComponent</code> <code>SkillFormComponent</code> Manage skills Tags <code>TagListComponent</code> <code>TagFormComponent</code> Manage tags Experiences <code>ExperienceListComponent</code> <code>ExperienceFormComponent</code> Manage timeline Articles <code>AdminArticleListComponent</code> <code>ArticleFormComponent</code> Manage blog CV <code>AdminCvComponent</code> N/A Upload/manage CV <p>Component Pattern: - List Component: Display, filter, delete operations - Form Component: Create and edit operations (reused for both)</p>"},{"location":"architecture/frontend-architecture/#8-state-management","title":"8. State Management","text":""},{"location":"architecture/frontend-architecture/#token-storage","title":"Token Storage","text":"<p>Service: <code>TokenStorageService</code></p> <p>Storage Mechanism: <code>localStorage</code></p> <p>Stored Data: - Access token (JWT) - Refresh token (UUID) - Token expiration timestamp</p> <p>Methods: <pre><code>saveToken(token: string): void\ngetToken(): string | null\nclearToken(): void\nisTokenExpired(bufferSeconds: number): boolean\n</code></pre></p>"},{"location":"architecture/frontend-architecture/#authentication-state","title":"Authentication State","text":"<p>Service: <code>AuthService</code></p> <p>State Methods: <pre><code>isAuthenticated(): boolean  // Check if user has valid token\nisAdmin(): boolean          // Check if user has ROLE_ADMIN\ngetToken(): string | null   // Retrieve access token\n</code></pre></p> <p>No Global State Library: Uses service-based state management instead of Redux/NgRx</p>"},{"location":"architecture/frontend-architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: JWT Implementation - JWT token system</li> <li>Security: Authentication - Auth architecture</li> <li>API Overview - Backend API endpoints</li> <li>Development: Setup - Development environment</li> </ul>"},{"location":"deployment/","title":"Deployment Documentation","text":"<p>Guides for CI/CD pipelines and deployment processes.</p>"},{"location":"deployment/#contents","title":"Contents","text":"Document Description CI/CD Guide GitHub Actions workflows, pipeline stages, deployment process Local Testing Local deployment testing with Docker Compose"},{"location":"deployment/#deployment-environments","title":"Deployment Environments","text":"Environment Branch Trigger URL Staging <code>staging</code> Push to staging staging.example.com Production <code>main</code> Push to main app.example.com"},{"location":"deployment/#quick-commands","title":"Quick Commands","text":""},{"location":"deployment/#local-deployment","title":"Local Deployment","text":"<pre><code># Start all services\ndocker-compose -f docker-compose.local.yml up --build -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop all services\ndocker-compose down\n</code></pre>"},{"location":"deployment/#production-deployment","title":"Production Deployment","text":"<pre><code># Build production images\ndocker-compose -f docker-compose.prod.yml build\n\n# Deploy\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"deployment/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development Guide - Development setup</li> <li>Reference - Configuration and environments</li> <li>Operations - Health checks and monitoring</li> </ul>"},{"location":"deployment/ci-cd/","title":"CI/CD Deployment Guide","text":""},{"location":"deployment/ci-cd/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Pipeline Architecture</li> <li>GitHub Secrets Configuration</li> <li>Deployment Procedures</li> <li>Useful Commands</li> </ol>"},{"location":"deployment/ci-cd/#1-overview","title":"1. Overview","text":"<p>CI/CD infrastructure using GitHub Actions with self-hosted runner to automate build, test, and deployment processes.</p>"},{"location":"deployment/ci-cd/#11-supported-environments","title":"1.1 Supported Environments","text":"Environment Branch Port Database Deployment Production <code>main</code> 80 <code>portfolio_prod</code> Automatic Staging <code>staging</code> 3000 <code>portfolio_staging</code> Automatic"},{"location":"deployment/ci-cd/#2-pipeline-architecture","title":"2. Pipeline Architecture","text":""},{"location":"deployment/ci-cd/#21-active-workflows","title":"2.1 Active Workflows","text":"<p>The CI/CD pipeline consists of five automated workflows:</p> Workflow File Trigger Purpose CI/CD Pipeline <code>ci-cd.yml</code> Push/PR on main/staging/dev/** Build and deploy to environments Backend Tests <code>backend-tests.yml</code> Push/PR on backend changes Run Spring Boot unit tests Frontend Tests <code>frontend-tests.yml</code> Push/PR on frontend changes Run Angular unit tests Documentation Quality <code>vale-docs.yml</code> Push/PR on <code>.md</code> changes Validate documentation style Health Check <code>health-check.yml</code> Push/PR on main/develop Full stack integration tests"},{"location":"deployment/ci-cd/#22-main-cicd-pipeline","title":"2.2 Main CI/CD Pipeline","text":"<p>Primary deployment workflow that builds and deploys the application to production and staging environments.</p> <p>Build-and-Test Job: 1. Checkout code with full Git history 2. Extract version from Git tags using <code>git describe</code> 3. Set up JDK 21 with Gradle caching 4. Grant execute permission for gradlew 5. Build backend JAR with <code>./gradlew clean bootJar -x test</code> 6. Output version for deployment job</p> <p>Deploy Job: 1. Set deployment variables - Determine environment (prod/stage) and paths 2. Clean deployment directory - Remove old directory to avoid permission conflicts 3. Copy artifacts - Copy source code, .git, nginx config, and Docker Compose files 4. Cleanup old containers - Stop and remove existing containers for the environment 5. Backup database - Create PostgreSQL dump before deployment (production only) 6. Deploy with Docker Compose - Build and start all containers in detached mode 7. Wait for healthy status - Monitor container health (max 5 min, check every 5s) 8. Run smoke tests - Validate frontend, backend, database, and full stack integration 9. Tag Docker images - Tag with version, latest, and environment-specific tags 10. Cleanup old images - Prune dangling images and unused volumes 11. Verify deployment - Display running containers and health status 12. Deployment summary - Output environment, version, branch, and commit info</p> <p>Configuration: - Triggers:   - Push to <code>main</code> \u2192 Production deployment   - Push to <code>staging</code> \u2192 Staging deployment   - Push to <code>develop</code> \u2192 Build only (no deployment)   - Push to <code>dev/**</code> \u2192 Build only (no deployment)   - Pull requests to <code>main</code> or <code>staging</code> \u2192 Build only - Runner: self-hosted - Java Version: 21 (Temurin distribution) - Environments: production (main branch), staging (staging branch) - Blocking: Yes - deployment fails if any step fails</p> <p>Critical Safety Features: - Automatic database backup before deployment (production only, keeps last 5) - Automatic container cleanup before deployment - Real-time health monitoring with timeout - Comprehensive smoke tests (4 tests) - Automatic logs display on failure - Image versioning with multiple tags</p>"},{"location":"deployment/ci-cd/#23-backend-tests-workflow","title":"2.3 Backend Tests Workflow","text":"<p>Test Job: - Checkout source code - Set up JDK 21 with Gradle caching - Run JUnit tests with <code>./gradlew test</code> - Generate test reports and coverage - Publish test results to GitHub</p> <p>Build Job: - Build application with <code>./gradlew build -x test</code> - Verify compilation without executing tests</p> <p>Configuration: - Trigger: Push/PR to <code>main</code>, <code>develop</code>, <code>dev</code> with backend changes - Java Version: 21 (Temurin distribution) - Test Framework: JUnit 5 + Spring Boot Test - Blocking: Yes - tests must pass to merge</p>"},{"location":"deployment/ci-cd/#24-frontend-tests-workflow","title":"2.4 Frontend Tests Workflow","text":"<p>Test Job: - Checkout source code - Set up Node.js 20 with npm caching - Install dependencies with <code>npm ci</code> - Run Karma tests with ChromeHeadless - Generate code coverage reports - Upload coverage artifacts</p> <p>Lint Job: - Run ESLint (if configured in package.json) - Report code quality issues</p> <p>Build Job: - Build production bundle with <code>npm run build --configuration production</code> - Verify build output in <code>dist/</code> folder</p> <p>Configuration: - Trigger: Push/PR to <code>main</code>, <code>develop</code>, <code>dev</code> with frontend changes - Node Version: 20 - Test Framework: Karma + Jasmine - Browser: ChromeHeadless - Blocking: Yes - tests must pass to merge</p>"},{"location":"deployment/ci-cd/#25-documentation-quality-workflow","title":"2.5 Documentation Quality Workflow","text":"<p>Vale Linting Job: - Download Google Developer Documentation Style Guide - Run Vale on all <code>.md</code> files - Annotate PRs with style suggestions - Upload validation results</p> <p>Configuration: - Trigger: Push/PR with documentation changes - Style Guide: Google Developer Documentation - Blocking: No - warnings don't block merge</p>"},{"location":"deployment/ci-cd/#26-health-check-workflow","title":"2.6 Health Check Workflow","text":"<p>Health Check Job: - Build Docker containers using <code>docker-compose.local.yml</code> (development environment) - Start full stack (frontend with <code>ng serve</code>, backend, database, nginx) - Wait for all containers to be healthy - Test individual endpoints - Test full health chain - Show logs on failure</p> <p>Configuration: - Trigger: Push/PR to <code>develop</code> only - Timeout: 15 minutes - Blocking: Yes - all services must be healthy - Environment: Local development setup (not production/staging)</p> <p>Note: This workflow tests the development environment only and is NOT triggered on <code>staging</code> or <code>main</code> branches. Production and staging deployments have their own health checks integrated in the main CI/CD Pipeline workflow. The frontend health check is disabled in local dev mode because the Angular dev server (<code>ng serve</code>) takes too long to start reliably in CI environments.</p>"},{"location":"deployment/ci-cd/#3-github-secrets-configuration","title":"3. GitHub Secrets Configuration","text":""},{"location":"deployment/ci-cd/#32-required-github-secrets","title":"3.2 Required GitHub Secrets","text":"Secret Description Used For <code>DEPLOY_BASE_PATH</code> Base deployment path on server CI/CD only (not in .env) <code>DB_PASSWORD</code> PostgreSQL password Passed to .env as <code>DB_USER_PASSWORD</code> <code>MAIL_USERNAME</code> SMTP email address Passed to .env <code>MAIL_APP_PASSWORD</code> SMTP application password Passed to .env"},{"location":"deployment/ci-cd/#4-deployment-procedures","title":"4. Deployment Procedures","text":""},{"location":"deployment/ci-cd/#41-production-deployment","title":"4.1 Production Deployment","text":"<p>Standard Process: <pre><code>git checkout -b feature/new-feature\ngit add .\ngit commit -m \"feat: add new feature\"\ngit push origin feature/new-feature\n# Create Pull Request to main branch \u2192 Review and merge\n</code></pre></p>"},{"location":"deployment/ci-cd/#42-staging-deployment","title":"4.2 Staging Deployment","text":"<pre><code># Option 1: Direct push\ngit checkout staging\ngit merge feature/new-feature\ngit push origin staging\n\n# Option 2: Pull Request to staging\n</code></pre>"},{"location":"deployment/ci-cd/#43-development-branch","title":"4.3 Development Branch","text":"<pre><code>git checkout -b dev/experimental-feature\ngit push origin dev/experimental-feature\n# Build job executes, deploy job skipped\n</code></pre>"},{"location":"deployment/ci-cd/#5-useful-commands","title":"5. Useful Commands","text":""},{"location":"deployment/ci-cd/#51-running-tests-locally","title":"5.1 Running Tests Locally","text":"<p>Backend Tests: <pre><code>cd portfolio-backend\n./gradlew test                    # Run all tests\n./gradlew test --tests HealthControllerTest  # Run specific test\n./gradlew test jacocoTestReport   # Generate coverage report\n</code></pre></p> <p>Frontend Tests: <pre><code>cd portfolio-frontend\nnpm test                          # Run tests in watch mode\nnpm test -- --watch=false         # Run once and exit\nnpm test -- --code-coverage       # Generate coverage\nnpm test -- --browsers=ChromeHeadlessCI  # Headless mode (like CI)\n</code></pre></p> <p>Documentation Validation: <pre><code>./scripts/validate-docs.sh        # Validate all documentation\n./scripts/validate-docs.sh docs/  # Validate specific directory\n</code></pre></p>"},{"location":"deployment/ci-cd/#52-container-management","title":"5.2 Container Management","text":"<pre><code>docker ps -a\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml down\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d\ndocker logs -f portfolio-backend-prod\ndocker exec -it portfolio-backend-prod bash\n</code></pre>"},{"location":"deployment/ci-cd/#53-viewing-cicd-results","title":"5.3 Viewing CI/CD Results","text":"<p>GitHub Actions: - Navigate to repository \u2192 \"Actions\" tab - Select workflow run to view details - Download test artifacts for detailed reports</p> <p>Test Reports Location: - Backend: <code>portfolio-backend/build/reports/tests/test/index.html</code> - Frontend: <code>portfolio-frontend/coverage/index.html</code></p> <p>Logs: <pre><code># View GitHub Actions runner logs\nsudo journalctl -u actions.runner.* -f\n</code></pre></p>"},{"location":"deployment/ci-cd/#54-image-management","title":"5.4 Image Management","text":"<pre><code>docker images | grep portfolio\ndocker rmi portfolio-backend:v1.0.0\ndocker image prune -a\ndocker system df\n</code></pre>"},{"location":"deployment/ci-cd/#55-volume-management","title":"5.5 Volume Management","text":"<pre><code>docker volume ls | grep portfolio\ndocker volume inspect portfolio_postgres_data_prod\n</code></pre>"},{"location":"deployment/ci-cd/#56-monitoring","title":"5.6 Monitoring","text":"<pre><code>docker stats\ndocker ps --format \"table {{.Names}}\\t{{.Status}}\"\ncurl http://localhost/health\ncurl http://localhost:3000/health\n</code></pre>"},{"location":"deployment/ci-cd/#57-database-backup-recovery","title":"5.7 Database Backup &amp; Recovery","text":"<p>Automatic Backups (Production Only): - Created automatically before each production deployment - Location: <code>$DEPLOY_BASE_PATH/backups/</code> - Naming: <code>portfolio_prod_YYYYMMDD_HHMMSS.sql</code> - Retention: Last 5 backups kept</p> <p>Manual Backup: <pre><code>docker exec portfolio-db-prod pg_dump -U postgres_app portfolio_prod &gt; backup.sql\n</code></pre></p> <p>Restore from Backup: <pre><code># Stop backend to prevent connections\ndocker stop portfolio-backend-prod\n\n# Restore database\ndocker exec -i portfolio-db-prod psql -U postgres_app portfolio_prod &lt; /path/to/backup.sql\n\n# Restart backend\ndocker start portfolio-backend-prod\n</code></pre></p> <p>List Available Backups: <pre><code>ls -lt $DEPLOY_BASE_PATH/backups/portfolio_prod_*.sql\n</code></pre></p>"},{"location":"deployment/local-testing/","title":"Local Testing Guide","text":""},{"location":"deployment/local-testing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Prerequisites</li> <li>Quick Start</li> <li>Testing Procedures</li> <li>Access URLs</li> <li>Development Workflow</li> <li>Performance Testing</li> <li>Next Steps</li> </ol>"},{"location":"deployment/local-testing/#1-overview","title":"1. Overview","text":"<p>Guide for testing the portfolio application locally before deployment. This ensures that all components work correctly in isolation and integration.</p>"},{"location":"deployment/local-testing/#11-test-environments","title":"1.1 Test Environments","text":"Environment Purpose Port Database Local Development testing 8081 portfolio_local (5435) Staging Pre-production testing 3000 portfolio_staging (5434) Production Production testing 80 portfolio_prod (5432)"},{"location":"deployment/local-testing/#2-prerequisites","title":"2. Prerequisites","text":""},{"location":"deployment/local-testing/#21-required-software","title":"2.1 Required Software","text":"<ul> <li>Docker 24.0+ and Docker Compose 2.20+</li> <li>Git 2.40+</li> <li>Make (optional but recommended)</li> </ul>"},{"location":"deployment/local-testing/#22-environment-variables","title":"2.2 Environment Variables","text":"<p>Create a <code>.env</code> file in the project root:</p> <pre><code>DB_USER_PASSWORD=your_secure_password\n</code></pre>"},{"location":"deployment/local-testing/#3-quick-start","title":"3. Quick Start","text":""},{"location":"deployment/local-testing/#31-using-make-recommended","title":"3.1 Using Make (Recommended)","text":"<pre><code># Validate and test local environment\nmake validate-local\n\n# Start local environment\nmake test-local\n\n# View logs\nmake logs-local\n\n# Clean up\nmake clean-local\n</code></pre>"},{"location":"deployment/local-testing/#32-using-docker-compose-directly","title":"3.2 Using Docker Compose Directly","text":"<pre><code># Start local environment\nDB_USER_PASSWORD=test docker-compose -p portfolio-local \\\n  -f docker-compose.yml -f docker-compose.local.yml up --build -d\n\n# View logs\ndocker-compose -p portfolio-local \\\n  -f docker-compose.yml -f docker-compose.local.yml logs -f\n\n# Stop and clean up\ndocker-compose -p portfolio-local \\\n  -f docker-compose.yml -f docker-compose.local.yml down -v\n</code></pre>"},{"location":"deployment/local-testing/#4-testing-procedures","title":"4. Testing Procedures","text":""},{"location":"deployment/local-testing/#41-manual-health-checks","title":"4.1 Manual Health Checks","text":"<pre><code># Run health check script\nchmod +x scripts/testing/test-health.sh\n./scripts/testing/test-health.sh local\n</code></pre>"},{"location":"deployment/local-testing/#42-individual-service-tests","title":"4.2 Individual Service Tests","text":"<p>Test Frontend: <pre><code>curl http://localhost:4200/health.json\n</code></pre></p> <p>Test Backend: <pre><code>curl http://localhost:8080/actuator/health\ncurl http://localhost:8080/api/health/ping\ncurl http://localhost:8080/api/health/db\n</code></pre></p> <p>Test Nginx: <pre><code>curl http://localhost:8081/health\ncurl http://localhost:8081/health/full\n</code></pre></p> <p>Test Database: <pre><code>docker exec portfolio-db-local psql -U postgres_app -d portfolio_local -c \"SELECT 1;\"\n</code></pre></p>"},{"location":"deployment/local-testing/#43-full-stack-validation","title":"4.3 Full Stack Validation","text":"<p>Run the complete validation script:</p> <pre><code>chmod +x scripts/deployment/validate-deployment.sh\n./scripts/deployment/validate-deployment.sh local\n</code></pre> <p>This script performs: 1. Docker Compose configuration validation 2. Container health monitoring 3. Comprehensive smoke tests 4. Database connectivity verification</p>"},{"location":"deployment/local-testing/#5-access-urls","title":"5. Access URLs","text":""},{"location":"deployment/local-testing/#51-local-environment","title":"5.1 Local Environment","text":"Service URL Frontend (Angular) http://localhost:4200 Backend API http://localhost:8080 Backend Swagger UI http://localhost:8080/swagger-ui.html Backend Actuator http://localhost:8080/actuator Nginx (Full Stack) http://localhost:8081 PostgreSQL localhost:5435"},{"location":"deployment/local-testing/#52-database-access","title":"5.2 Database Access","text":"<pre><code># Using psql\ndocker exec -it portfolio-db-local psql -U postgres_app -d portfolio_local\n\n# Using pgAdmin or DBeaver\nHost: localhost\nPort: 5435\nDatabase: portfolio_local\nUsername: postgres_app\nPassword: (from .env file)\n</code></pre>"},{"location":"deployment/local-testing/#6-development-workflow","title":"6. Development Workflow","text":""},{"location":"deployment/local-testing/#61-recommended-testing-flow","title":"6.1 Recommended Testing Flow","text":"<ol> <li>Make code changes</li> <li>Run validation: <code>make validate-local</code></li> <li>If validation passes, commit changes</li> <li>Test staging: <code>make validate-staging</code></li> <li>If staging passes, merge to staging branch</li> <li>After staging deployment, test production locally: <code>make validate-prod</code></li> </ol>"},{"location":"deployment/local-testing/#62-continuous-integration","title":"6.2 Continuous Integration","text":"<p>The <code>health-check.yml</code> workflow runs these same tests on every push to develop:</p> <pre><code>- Builds all containers\n- Waits for health checks\n- Runs test-health.sh\n- Validates all endpoints\n</code></pre>"},{"location":"deployment/local-testing/#7-performance-testing","title":"7. Performance Testing","text":""},{"location":"deployment/local-testing/#71-load-testing-optional","title":"7.1 Load Testing (Optional)","text":"<p>Using Apache Bench:</p> <pre><code># Test backend endpoint\nab -n 1000 -c 10 http://localhost:8080/api/health/ping\n\n# Test frontend\nab -n 1000 -c 10 http://localhost:8081/\n</code></pre>"},{"location":"deployment/local-testing/#72-resource-monitoring","title":"7.2 Resource Monitoring","text":"<pre><code># Monitor resource usage\ndocker stats portfolio-frontend-local portfolio-backend-local portfolio-db-local\n</code></pre>"},{"location":"deployment/local-testing/#8-next-steps","title":"8. Next Steps","text":"<p>After successful local testing:</p> <ol> <li>Commit changes to feature branch</li> <li>Open PR to develop</li> <li>CI/CD will run automated tests</li> <li>Merge to staging for staging deployment</li> <li>Test staging environment</li> <li>Merge to main for production deployment</li> </ol>"},{"location":"development/","title":"Development Guide","text":"<p>Documentation for setting up the development environment and following project conventions.</p>"},{"location":"development/#contents","title":"Contents","text":"Document Description Setup Guide Development environment setup, prerequisites, IDE configuration Testing Guide Testing strategy, conventions, execution commands, coverage Code Quality Checkstyle, SpotBugs, JaCoCo configuration Logging Conventions Log format, categories, levels, best practices Articles Pagination Articles feature pagination implementation"},{"location":"development/#quick-start","title":"Quick Start","text":""},{"location":"development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Java 21 LTS</li> <li>Node.js 20 LTS</li> <li>Docker Desktop</li> <li>PostgreSQL 15+ (or use Docker)</li> </ul>"},{"location":"development/#setup-commands","title":"Setup Commands","text":"<pre><code># Backend\ncd portfolio-backend\n./gradlew build\n\n# Frontend\ncd portfolio-frontend\nnpm install\nnpm start\n</code></pre>"},{"location":"development/#run-tests","title":"Run Tests","text":"<pre><code># Backend tests\n./gradlew test\n\n# Frontend tests\nnpm test -- --watch=false --browsers=ChromeHeadlessCI\n</code></pre>"},{"location":"development/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture - System architecture</li> <li>API Reference - API documentation</li> </ul>"},{"location":"development/articles-pagination-cleanup/","title":"Articles - Pagination &amp; Image Cleanup","text":""},{"location":"development/articles-pagination-cleanup/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Pagination Implementation</li> <li>Automatic Image Cleanup</li> <li>Configuration</li> </ol>"},{"location":"development/articles-pagination-cleanup/#overview","title":"Overview","text":"<p>The Article feature provides a complete blog system with: - Markdown content with GFM extensions (tables, strikethrough, task lists, autolinks) - Draft/Publish workflow - Tag categorization - Image uploads with automatic WebP optimization - Pagination support - Automatic cleanup of orphaned images on article deletion</p> <p>Technology Stack: - Backend: Spring Boot 3.x, Spring Data JPA - Markdown: Commonmark-java with GFM extensions - Image Processing: Thumbnailator library - Database: PostgreSQL</p>"},{"location":"development/articles-pagination-cleanup/#pagination-implementation","title":"Pagination Implementation","text":""},{"location":"development/articles-pagination-cleanup/#repository-layer","title":"Repository Layer","text":"<p>ArticleRepository.java: <pre><code>@Query(\"SELECT a FROM Article a WHERE a.draft = false AND a.publishedAt &lt;= :now ORDER BY a.publishedAt DESC\")\nPage&lt;Article&gt; findPublished(@Param(\"now\") LocalDateTime now, Pageable pageable);\n\nPage&lt;Article&gt; findAllByOrderByPublishedAtDesc(Pageable pageable);\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#service-layer","title":"Service Layer","text":"<p>ArticleService.java: <pre><code>Page&lt;ArticleResponse&gt; getAllPublishedPaginated(Pageable pageable);\nPage&lt;ArticleResponse&gt; getAllArticlesPaginated(Pageable pageable);\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#controller-endpoints","title":"Controller Endpoints","text":"<p>ArticleController.java:</p> <ol> <li>GET <code>/api/articles/paginated</code> - Public endpoint</li> <li>Query params: <code>page</code> (default: 0), <code>size</code> (default: 10), <code>sort</code> (default: publishedAt,desc)</li> <li> <p>Returns: <code>Page&lt;ArticleResponse&gt;</code> with published articles only</p> </li> <li> <p>GET <code>/api/articles/admin/paginated</code> - Admin endpoint</p> </li> <li>Same pagination parameters</li> <li>Returns: All articles (drafts + published)</li> </ol>"},{"location":"development/articles-pagination-cleanup/#response-format","title":"Response Format","text":"<pre><code>{\n  \"content\": [/* array of ArticleResponse */],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 10,\n    \"offset\": 0\n  },\n  \"totalPages\": 5,\n  \"totalElements\": 42,\n  \"first\": true,\n  \"last\": false,\n  \"numberOfElements\": 10\n}\n</code></pre>"},{"location":"development/articles-pagination-cleanup/#usage-examples","title":"Usage Examples","text":"<pre><code># Public: Get first page of published articles\nGET /api/articles/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n\n# Admin: Get all articles with pagination\nGET /api/articles/admin/paginated?page=0&amp;size=20&amp;sort=updatedAt,desc\n</code></pre>"},{"location":"development/articles-pagination-cleanup/#automatic-image-cleanup","title":"Automatic Image Cleanup","text":""},{"location":"development/articles-pagination-cleanup/#entity-listener","title":"Entity Listener","text":"<p>ArticleEntityListener.java: <pre><code>@Component\n@Slf4j\npublic class ArticleEntityListener {\n\n    @Autowired\n    public void setImageService(@Lazy ImageService imageService) {\n        this.imageService = imageService;\n    }\n\n    @PreRemove\n    public void preRemove(Article article) {\n        for (ArticleImage image : article.getImages()) {\n            imageService.deleteArticleImage(image.getImageUrl());\n        }\n    }\n}\n</code></pre></p> <p>Article.java: <pre><code>@Entity\n@EntityListeners(ArticleEntityListener.class)\npublic class Article {\n    // Entity fields\n}\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#how-it-works","title":"How It Works","text":"<p>When an article is deleted: 1. JPA triggers <code>@PreRemove</code> callback before database deletion 2. Listener iterates through all associated <code>ArticleImage</code> entities 3. Calls <code>ImageService.deleteArticleImage()</code> to remove files from filesystem 4. Both optimized image and thumbnail files are deleted 5. Database cascade delete removes <code>ArticleImage</code> records 6. Article entity is finally deleted from database</p> <p>Note: Uses <code>@Lazy</code> injection to avoid circular dependency during JPA entity initialization.</p>"},{"location":"development/articles-pagination-cleanup/#files-deleted","title":"Files Deleted","text":"<ul> <li>Optimized image: <code>article_{articleId}_image_{imageId}.webp</code></li> <li>Thumbnail: <code>article_{articleId}_image_{imageId}_thumb.webp</code></li> </ul>"},{"location":"development/articles-pagination-cleanup/#configuration","title":"Configuration","text":""},{"location":"development/articles-pagination-cleanup/#pagination-defaults","title":"Pagination Defaults","text":"<p>ArticleController.java: <pre><code>@PageableDefault(size = 10, sort = \"publishedAt\", direction = Sort.Direction.DESC)\n</code></pre></p> <p>Default Values: - Page size: 10 articles - Page number: 0 (first page) - Sort: <code>publishedAt,desc</code></p>"},{"location":"development/articles-pagination-cleanup/#application-properties","title":"Application Properties","text":"<p>application.yml: <pre><code># Image storage (existing configuration)\nstorage:\n  base-path: /uploads\n  upload-dir: ${UPLOAD_DIR:./uploads}\n  max-file-size: 10MB\n  image-max-width: 1200\n  thumbnail-size: 300\n\n# Markdown processing\nmarkdown:\n  extensions:\n    - tables\n    - strikethrough\n    - task-lists\n    - autolinks\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#logging-configuration","title":"Logging Configuration","text":"<p>Categories used: - <code>[CREATE_ARTICLE]</code> - Article creation - <code>[UPDATE_ARTICLE]</code> - Article updates - <code>[DELETE_ARTICLE]</code> - Article deletion - <code>[LIST_ARTICLES]</code> - Article listing - <code>[ARTICLE_LIFECYCLE]</code> - Entity lifecycle events (@PreRemove) - <code>[UPLOAD_ARTICLE_IMAGE]</code> - Image uploads - <code>[DELETE_ARTICLE_IMAGE]</code> - Image deletions</p>"},{"location":"development/articles-pagination-cleanup/#security-configuration","title":"Security Configuration","text":"<p>SecurityConfig.java: <pre><code>// Public endpoints\nhttp.authorizeHttpRequests(auth -&gt; auth\n    .requestMatchers(GET, \"/api/articles\").permitAll()\n    .requestMatchers(GET, \"/api/articles/paginated\").permitAll()\n    .requestMatchers(GET, \"/api/articles/{slug}\").permitAll()\n\n    // Admin endpoints\n    .requestMatchers(\"/api/articles/admin/**\").hasRole(\"ADMIN\")\n    .requestMatchers(\"/api/admin/articles/**\").hasRole(\"ADMIN\")\n);\n</code></pre></p>"},{"location":"development/articles-pagination-cleanup/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Articles - Complete API reference with all endpoints</li> <li>Development: Logging Conventions - Logging format</li> </ul>"},{"location":"development/code-quality/","title":"Code Quality Tools","text":""},{"location":"development/code-quality/#backend-tools","title":"Backend Tools","text":""},{"location":"development/code-quality/#checkstyle","title":"Checkstyle","text":"<p>Code style verification enforcing project conventions.</p> <pre><code>./gradlew checkstyleMain checkstyleTest\n</code></pre> <p>Configuration: <code>config/checkstyle/checkstyle.xml</code> Report: <code>build/reports/checkstyle/main.html</code> Version: See <code>build.gradle</code> line 73</p>"},{"location":"development/code-quality/#spotbugs","title":"SpotBugs","text":"<p>Static analysis for bug detection and code smells.</p> <pre><code>./gradlew spotbugsMain\n</code></pre> <p>Configuration: <code>config/spotbugs/spotbugs-exclude.xml</code> Report: <code>build/reports/spotbugs/main.html</code> Settings: Maximum effort, medium report level Version: See <code>build.gradle</code> line 89</p>"},{"location":"development/code-quality/#jacoco","title":"JaCoCo","text":"<p>Test coverage measurement and enforcement.</p> <pre><code>./gradlew test jacocoTestReport\n./gradlew jacocoTestCoverageVerification\n</code></pre> <p>Report: <code>build/reports/jacoco/test/html/index.html</code> Configuration: See <code>build.gradle</code> lines 108-167 for: - Coverage thresholds - Exclusions (config, entity, dto, mapper, etc.) - Report formats</p>"},{"location":"development/code-quality/#run-all-checks","title":"Run All Checks","text":"<p><pre><code>./gradlew check\n</code></pre> Executes tests, Checkstyle, SpotBugs, and coverage verification.</p>"},{"location":"development/code-quality/#cicd-integration","title":"CI/CD Integration","text":"<p>Workflow <code>.github/workflows/backend-tests.yml</code> runs on push/PR to main, develop, dev branches: 1. Checkstyle verification 2. SpotBugs analysis 3. Unit tests 4. JaCoCo coverage report 5. Coverage threshold verification</p> <p>Build fails if any check fails.</p>"},{"location":"development/code-quality/#exclusions","title":"Exclusions","text":"<p>All tools exclude: - Generated code (<code>build/generated/</code>, <code>*MapperImpl.java</code>) - Configuration classes - Main application class</p> <p>Checkstyle/SpotBugs also exclude: - Entity classes (JPA-specific patterns) - DTO classes (data carriers) - Exception classes</p>"},{"location":"development/code-quality/#configuration-files","title":"Configuration Files","text":"Tool Configuration Suppressions Checkstyle <code>config/checkstyle/checkstyle.xml</code> <code>config/checkstyle/suppressions.xml</code> SpotBugs - <code>config/spotbugs/spotbugs-exclude.xml</code> JaCoCo <code>build.gradle</code> (lines 108-149) <code>build.gradle</code> exclusions <p>See <code>config/README.md</code> for modification instructions.</p>"},{"location":"development/code-quality/#related-files","title":"Related Files","text":"<ul> <li>Build configuration: <code>portfolio-backend/build.gradle</code></li> <li>CI workflow: <code>.github/workflows/backend-tests.yml</code></li> <li>Checkstyle rules: <code>config/checkstyle/checkstyle.xml</code></li> <li>SpotBugs exclusions: <code>config/spotbugs/spotbugs-exclude.xml</code></li> </ul>"},{"location":"development/frontend-tests/","title":"Frontend Testing Guide","text":"<p>Document Type: Technical Guide Version: 1.0.0 Last Updated: 2025-11-09 Status: Active</p>"},{"location":"development/frontend-tests/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Test Structure</li> <li>Test Implementation</li> <li>Configuration</li> </ol>"},{"location":"development/frontend-tests/#1-overview","title":"1. Overview","text":"<p>Frontend tests use Jasmine and Karma to verify Angular component initialization, rendering, and behavior.</p> <p>Test Coverage: - AppComponent: 11 tests</p>"},{"location":"development/frontend-tests/#2-test-structure","title":"2. Test Structure","text":"<pre><code>portfolio-frontend/src/app/\n\u2514\u2500\u2500 app.component.spec.ts\n</code></pre>"},{"location":"development/frontend-tests/#3-test-implementation","title":"3. Test Implementation","text":""},{"location":"development/frontend-tests/#31-appcomponenttest","title":"3.1 AppComponentTest","text":"<p>Location: <code>portfolio-frontend/src/app/app.component.spec.ts</code></p> <p>Purpose: Validates main application component initialization and rendering</p> <p>Test Pattern Example: <pre><code>describe('AppComponent', () =&gt; {\n  let component: AppComponent;\n  let fixture: ComponentFixture&lt;AppComponent&gt;;\n  let compiled: HTMLElement;\n\n  beforeEach(async () =&gt; {\n    await TestBed.configureTestingModule({\n      imports: [AppComponent]\n    }).compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    compiled = fixture.nativeElement as HTMLElement;\n  });\n\n  it('should create the app component', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n\n  it('should initialize and log version on ngOnInit', () =&gt; {\n    const consoleSpy = spyOn(console, 'log');\n    component.ngOnInit();\n    expect(consoleSpy).toHaveBeenCalledWith(`Portfolio Application ${component.version}`);\n  });\n\n  it('should render title in h1 tag', () =&gt; {\n    fixture.detectChanges();\n    const h1 = compiled.querySelector('h1');\n    expect(h1?.textContent).toContain('Portfolio Application');\n  });\n});\n</code></pre></p> <p>Key Test Cases: - Component creation - Version initialization - Lifecycle hooks (ngOnInit) - Template rendering (title, version) - CSS classes - DOM structure - Initial state</p>"},{"location":"development/frontend-tests/#4-configuration","title":"4. Configuration","text":""},{"location":"development/frontend-tests/#41-test-configuration-files","title":"4.1 Test Configuration Files","text":"<p>karma.conf.js: <pre><code>module.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage'),\n      require('@angular-devkit/build-angular/plugins/karma')\n    ],\n    browsers: ['Chrome'],\n    customLaunchers: {\n      ChromeHeadlessCI: {\n        base: 'ChromeHeadless',\n        flags: ['--no-sandbox']\n      }\n    }\n  });\n};\n</code></pre></p> <p>tsconfig.spec.json: <pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/spec\",\n    \"types\": [\"jasmine\"]\n  },\n  \"include\": [\"src/**/*.spec.ts\"]\n}\n</code></pre></p>"},{"location":"development/frontend-tests/#42-angular-test-configuration","title":"4.2 Angular Test Configuration","text":"<p>Ensure <code>angular.json</code> includes:</p> <pre><code>{\n  \"projects\": {\n    \"portfolio-frontend\": {\n      \"architect\": {\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"karmaConfig\": \"karma.conf.js\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"development/frontend-tests/#43-spying-on-dependencies","title":"4.3 Spying on Dependencies","text":"<p>Use Jasmine spies to verify external calls:</p> <pre><code>const consoleSpy = spyOn(console, 'log');\ncomponent.ngOnInit();\nexpect(consoleSpy).toHaveBeenCalled();\n</code></pre>"},{"location":"development/git-workflow/","title":"Git Workflow","text":"<p>Branch strategy, commit conventions, and version management for the Portfolio project.</p>"},{"location":"development/git-workflow/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Branch Strategy</li> <li>Commit Conventions</li> <li>Merge Strategy</li> <li>Version Management</li> </ol>"},{"location":"development/git-workflow/#branch-strategy","title":"Branch Strategy","text":""},{"location":"development/git-workflow/#main-branches","title":"Main Branches","text":"Branch Purpose Protected <code>main</code> Production-ready code Yes <code>staging</code> Pre-production testing Yes <code>dev</code> Development integration No"},{"location":"development/git-workflow/#branch-flow","title":"Branch Flow","text":"<pre><code>feature/* \u2500\u2500&gt; dev \u2500\u2500&gt; staging \u2500\u2500&gt; main\nhotfix/*  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; main\n</code></pre>"},{"location":"development/git-workflow/#feature-branches","title":"Feature Branches","text":"<p>Naming Convention: <code>feature/&lt;ticket-id&gt;-&lt;short-description&gt;</code></p> <p>Examples: - <code>feature/123-add-dark-mode</code> - <code>feature/456-user-authentication</code> - <code>feature/789-image-optimization</code></p>"},{"location":"development/git-workflow/#hotfix-branches","title":"Hotfix Branches","text":"<p>Naming Convention: <code>hotfix/&lt;ticket-id&gt;-&lt;short-description&gt;</code></p> <p>Examples: - <code>hotfix/321-fix-login-error</code> - <code>hotfix/654-security-patch</code></p>"},{"location":"development/git-workflow/#commit-conventions","title":"Commit Conventions","text":""},{"location":"development/git-workflow/#conventional-commits","title":"Conventional Commits","text":"<p>Format: <code>&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;</code></p>"},{"location":"development/git-workflow/#types","title":"Types","text":"Type Description <code>feat</code> New feature <code>fix</code> Bug fix <code>docs</code> Documentation changes <code>style</code> Code style (formatting, no logic change) <code>refactor</code> Code refactoring <code>perf</code> Performance improvement <code>test</code> Adding or updating tests <code>chore</code> Maintenance tasks <code>ci</code> CI/CD changes <code>build</code> Build system changes"},{"location":"development/git-workflow/#scopes","title":"Scopes","text":"Scope Description <code>backend</code> Backend changes <code>frontend</code> Frontend changes <code>api</code> API changes <code>auth</code> Authentication <code>db</code> Database <code>docker</code> Docker configuration <code>docs</code> Documentation"},{"location":"development/git-workflow/#examples","title":"Examples","text":"<pre><code># Feature\nfeat(frontend): add dark mode toggle\n\n# Bug fix\nfix(backend): resolve JWT token expiration issue\n\n# Documentation\ndocs(api): update authentication endpoints\n\n# Refactoring\nrefactor(backend): extract image processing logic\n\n# Tests\ntest(frontend): add unit tests for login component\n\n# CI/CD\nci: add staging deployment workflow\n</code></pre>"},{"location":"development/git-workflow/#commit-message-body","title":"Commit Message Body","text":"<p>For complex changes, add a body:</p> <pre><code>feat(backend): add rate limiting for authentication\n\n- Add AuthRateLimitFilter for login endpoint\n- Configure Redis-backed rate limit storage\n- Set default limit to 5 attempts per minute\n- Add exponential backoff for repeated failures\n</code></pre>"},{"location":"development/git-workflow/#merge-strategy","title":"Merge Strategy","text":""},{"location":"development/git-workflow/#pull-request-flow","title":"Pull Request Flow","text":"<ol> <li>Create feature branch from <code>dev</code></li> <li>Implement changes</li> <li>Run tests locally</li> <li>Create Pull Request to <code>dev</code></li> <li>Code review</li> <li>Merge to <code>dev</code></li> </ol>"},{"location":"development/git-workflow/#merge-methods","title":"Merge Methods","text":"Target Branch Method Notes <code>dev</code> Squash merge Clean history <code>staging</code> Merge commit Track releases <code>main</code> Merge commit Track releases"},{"location":"development/git-workflow/#pull-request-checklist","title":"Pull Request Checklist","text":"<ul> <li> Tests pass locally</li> <li> Code follows conventions</li> <li> Documentation updated if needed</li> <li> No sensitive data in commits</li> <li> Commit messages follow conventions</li> </ul>"},{"location":"development/git-workflow/#version-management","title":"Version Management","text":""},{"location":"development/git-workflow/#semantic-versioning","title":"Semantic Versioning","text":"<p>Format: <code>MAJOR.MINOR.PATCH</code></p> Component Increment When MAJOR Breaking API changes MINOR New features (backward compatible) PATCH Bug fixes"},{"location":"development/git-workflow/#examples_1","title":"Examples","text":"<ul> <li><code>1.0.0</code> - Initial release</li> <li><code>1.1.0</code> - New feature added</li> <li><code>1.1.1</code> - Bug fix</li> <li><code>2.0.0</code> - Breaking change</li> </ul>"},{"location":"development/git-workflow/#version-locations","title":"Version Locations","text":"File Location Backend <code>build.gradle</code> - <code>version</code> property Frontend <code>package.json</code> - <code>version</code> property Changelog <code>CHANGELOG.md</code>"},{"location":"development/git-workflow/#tagging-releases","title":"Tagging Releases","text":"<pre><code># Create annotated tag\ngit tag -a v1.2.0 -m \"Release version 1.2.0\"\n\n# Push tags\ngit push origin v1.2.0\n</code></pre>"},{"location":"development/git-workflow/#related-documentation","title":"Related Documentation","text":"<ul> <li>CI/CD Guide - Deployment pipelines</li> <li>Code Quality - Quality checks</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"development/logging-conventions/","title":"Logging Conventions","text":""},{"location":"development/logging-conventions/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Log Format</li> <li>Log Levels</li> <li>Backend Logging</li> <li>Frontend Logging</li> <li>Script Logging</li> <li>Context Categories</li> <li>Best Practices</li> <li>Examples</li> </ol>"},{"location":"development/logging-conventions/#1-overview","title":"1. Overview","text":"<p>This guide defines the logging conventions for all components of the Portfolio application. Consistent logging helps with debugging, monitoring, and maintaining the application in production.</p>"},{"location":"development/logging-conventions/#11-general-principles","title":"1.1 General Principles","text":"<ol> <li>Professional Format: No emojis, only text-based indicators</li> <li>Structured Messages: Parseable by log aggregation tools</li> <li>Consistent Naming: Same patterns across all components</li> <li>Contextual Information: Include relevant parameters</li> <li>English Only: All log messages in English</li> <li>Security: Never log sensitive information (passwords, tokens, PII)</li> </ol>"},{"location":"development/logging-conventions/#2-log-format","title":"2. Log Format","text":""},{"location":"development/logging-conventions/#21-standard-format","title":"2.1 Standard Format","text":"<pre><code>[TIMESTAMP] [LEVEL] [CONTEXT] Message - key1=value1, key2=value2\n</code></pre>"},{"location":"development/logging-conventions/#22-components","title":"2.2 Components","text":"Component Description Example TIMESTAMP ISO 8601 format <code>2025-01-12 14:30:45</code> LEVEL Severity code <code>INF</code>, <code>ERR</code>, <code>WRN</code> CONTEXT Operation category <code>CREATE_PROJECT</code>, <code>HTTP_REQUEST</code> Message Human-readable description <code>Project created successfully</code> Parameters Key-value pairs <code>id=123, title=MyProject</code>"},{"location":"development/logging-conventions/#23-example","title":"2.3 Example","text":"<pre><code>[2025-01-12 14:30:45] [INF] [CREATE_PROJECT] Success - id=123, title=MyProject, tags=3\n</code></pre>"},{"location":"development/logging-conventions/#3-log-levels","title":"3. Log Levels","text":"Level Code When to Use Example TRACE TRC Very detailed debugging, variable dumps Variable values, internal state DEBUG DBG Development debugging Method parameters, flow control INFO INF General information, normal operations Service started, operation completed WARN WRN Abnormal but handled situations Retry attempts, fallback used, deprecated API ERROR ERR Errors requiring attention Failed operations, exceptions FATAL FTL Critical errors, application shutdown Database connection lost, disk full"},{"location":"development/logging-conventions/#31-level-selection-guidelines","title":"3.1 Level Selection Guidelines","text":"<ul> <li>Production default: <code>INFO</code> and above</li> <li>Staging default: <code>DEBUG</code> and above</li> <li>Development default: <code>TRACE</code> and above</li> </ul>"},{"location":"development/logging-conventions/#4-backend-logging","title":"4. Backend Logging","text":""},{"location":"development/logging-conventions/#41-setup-with-lombok","title":"4.1 Setup with Lombok","text":"<p>Add to <code>build.gradle</code>:</p> <pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n}\n</code></pre>"},{"location":"development/logging-conventions/#42-basic-usage","title":"4.2 Basic Usage","text":"<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@RestController\n@RequestMapping(\"/api/projects\")\npublic class ProjectController {\n\n    @PostMapping\n    public ResponseEntity&lt;ProjectResponse&gt; createProject(@Valid @RequestBody CreateProjectRequest request) {\n        log.info(\"[CREATE_PROJECT] Request received - title={}\", request.getTitle());\n\n        try {\n            ProjectResponse response = projectService.createProject(request);\n            log.info(\"[CREATE_PROJECT] Success - id={}, title={}\", response.getId(), response.getTitle());\n            return ResponseEntity.status(HttpStatus.CREATED).body(response);\n        } catch (ResourceNotFoundException ex) {\n            log.warn(\"[CREATE_PROJECT] Resource not found - resource={}, id={}\",\n                ex.getResourceName(), ex.getId());\n            throw ex;\n        } catch (Exception ex) {\n            log.error(\"[CREATE_PROJECT] Unexpected error - title={}, error={}\",\n                request.getTitle(), ex.getMessage(), ex);\n            throw ex;\n        }\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#43-service-layer-logging","title":"4.3 Service Layer Logging","text":"<pre><code>@Slf4j\n@Service\n@Transactional\npublic class ProjectService {\n\n    @Transactional(readOnly = true)\n    public List&lt;ProjectResponse&gt; getAllProjects() {\n        log.debug(\"[LIST_PROJECTS] Fetching all projects\");\n        List&lt;Project&gt; projects = projectRepository.findAll();\n        log.debug(\"[LIST_PROJECTS] Found {} projects\", projects.size());\n        return projects.stream()\n            .map(ProjectResponse::fromEntity)\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#44-performance-logging","title":"4.4 Performance Logging","text":"<pre><code>public List&lt;ProjectResponse&gt; searchProjects(String query) {\n    long startTime = System.currentTimeMillis();\n    log.debug(\"[SEARCH_PROJECTS] Query started - query={}\", query);\n\n    List&lt;ProjectResponse&gt; results = performSearch(query);\n\n    long duration = System.currentTimeMillis() - startTime;\n    log.info(\"[SEARCH_PROJECTS] Completed - query={}, results={}, duration={}ms\",\n        query, results.size(), duration);\n\n    if (duration &gt; 1000) {\n        log.warn(\"[SEARCH_PROJECTS] Slow query detected - query={}, duration={}ms\", query, duration);\n    }\n\n    return results;\n}\n</code></pre>"},{"location":"development/logging-conventions/#5-frontend-logging","title":"5. Frontend Logging","text":""},{"location":"development/logging-conventions/#51-loggerservice","title":"5.1 LoggerService","text":"<p>Create a centralized logging service at <code>src/app/services/logger.service.ts</code>:</p> <pre><code>import { Injectable } from '@angular/core';\nimport { environment } from '../../environments/environment';\n\nexport enum LogLevel {\n  TRACE = 0,\n  DEBUG = 1,\n  INFO = 2,\n  WARN = 3,\n  ERROR = 4,\n  FATAL = 5\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoggerService {\n  private readonly levelMap: Record&lt;string, LogLevel&gt; = {\n    TRACE: LogLevel.TRACE,\n    DEBUG: LogLevel.DEBUG,\n    INFO: LogLevel.INFO,\n    WARN: LogLevel.WARN,\n    ERROR: LogLevel.ERROR,\n    FATAL: LogLevel.FATAL\n  };\n\n  private get minLevel(): LogLevel {\n    return this.levelMap[environment.logLevel] || LogLevel.INFO;\n  }\n\n  info(message: string, context?: unknown): void {\n    this.log(LogLevel.INFO, message, context);\n  }\n\n  error(message: string, context?: unknown): void {\n    this.log(LogLevel.ERROR, message, context);\n  }\n\n  private log(level: LogLevel, message: string, context?: unknown): void {\n    if (level &lt; this.minLevel) {\n      return;\n    }\n\n    const timestamp = new Date().toISOString();\n    const levelName = LogLevel[level];\n    const contextStr = context ? ` ${JSON.stringify(context)}` : '';\n    const formattedMessage = `[${timestamp}] [${levelName}] ${message}${contextStr}`;\n\n    this.logToConsole(level, formattedMessage);\n\n    if (environment.production &amp;&amp; level &gt;= LogLevel.ERROR) {\n      this.logToServer(level, message, context);\n    }\n  }\n\n  private logToConsole(level: LogLevel, message: string): void {\n    switch (level) {\n      case LogLevel.TRACE:\n      case LogLevel.DEBUG:\n        console.debug(message);\n        break;\n      case LogLevel.INFO:\n        console.info(message);\n        break;\n      case LogLevel.WARN:\n        console.warn(message);\n        break;\n      case LogLevel.ERROR:\n      case LogLevel.FATAL:\n        console.error(message);\n        break;\n    }\n  }\n\n  private logToServer(_level: LogLevel, _message: string, _context?: unknown): void {\n    // Server-side logging not implemented - use external service (Sentry, etc.) if needed\n  }\n}\n</code></pre>"},{"location":"development/logging-conventions/#52-service-usage","title":"5.2 Service Usage","text":"<pre><code>import { Injectable, inject } from '@angular/core';\nimport { LoggerService } from './logger.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectService {\n  private readonly logger = inject(LoggerService);\n\n  create(request: CreateProjectRequest): Observable&lt;ProjectResponse&gt; {\n    this.logger.info('[HTTP_REQUEST] Creating project', { title: request.title });\n\n    return this.http.post&lt;ProjectResponse&gt;(this.apiUrl, request).pipe(\n      tap(response =&gt; {\n        this.logger.info('[HTTP_SUCCESS] Project created', {\n          id: response.id,\n          title: response.title\n        });\n      }),\n      catchError(error =&gt; {\n        this.logger.error('[HTTP_ERROR] Failed to create project', {\n          title: request.title,\n          status: error.status,\n          message: error.message\n        });\n        return throwError(() =&gt; error);\n      })\n    );\n  }\n}\n</code></pre>"},{"location":"development/logging-conventions/#6-script-logging","title":"6. Script Logging","text":""},{"location":"development/logging-conventions/#61-helper-library","title":"6.1 Helper Library","text":"<p>Source the logging library at <code>scripts/lib/logging.sh</code>:</p> <pre><code>source \"$(dirname \"$0\")/../lib/logging.sh\"\n</code></pre>"},{"location":"development/logging-conventions/#62-usage","title":"6.2 Usage","text":"<pre><code>#!/bin/bash\nsource \"$(dirname \"$0\")/../lib/logging.sh\"\n\nENV=${1:-staging}\n\nlog_section \"Deployment to $ENV\"\nlog_info \"[DEPLOYMENT] Starting - env=$ENV, commit=$(git rev-parse --short HEAD)\"\n\nlog_step \"[VALIDATION] Checking prerequisites\"\nif ! command -v docker &amp;&gt; /dev/null; then\n    log_fatal \"[VALIDATION] Docker not found\"\nfi\nlog_success \"[VALIDATION] Prerequisites satisfied\"\n\nlog_step \"[BUILD] Building images\"\nif docker-compose build; then\n    log_success \"[BUILD] Images built\"\nelse\n    log_fatal \"[BUILD] Failed to build images\"\nfi\n\nlog_success \"[DEPLOYMENT] Deployment complete - env=$ENV\"\n</code></pre>"},{"location":"development/logging-conventions/#63-simple-format","title":"6.3 Simple Format","text":"<p>For simple scripts without helper library:</p> <pre><code>echo \"[INFO] Starting process\"\necho \"[ERROR] Failed\" &gt;&amp;2\n</code></pre>"},{"location":"development/logging-conventions/#7-context-categories","title":"7. Context Categories","text":""},{"location":"development/logging-conventions/#71-backend-categories","title":"7.1 Backend Categories","text":"<pre><code>[STARTUP]         Application startup\n[SHUTDOWN]        Application shutdown\n[HTTP_REQUEST]    Incoming HTTP request\n[DB_QUERY]        Database query\n[DB_ERROR]        Database error\n[CREATE_PROJECT]  Project creation\n[UPDATE_PROJECT]  Project update\n[DELETE_PROJECT]  Project deletion\n[CREATE_SKILL]    Skill creation\n[UPDATE_SKILL]    Skill update\n[DELETE_SKILL]    Skill deletion\n[VALIDATION]      Data validation\n[AUTH]            Authentication/Authorization\n[PERFORMANCE]     Performance metrics\n</code></pre>"},{"location":"development/logging-conventions/#72-frontend-categories","title":"7.2 Frontend Categories","text":"<pre><code>[INIT]            Component initialization\n[HTTP_REQUEST]    HTTP request\n[HTTP_SUCCESS]    HTTP success\n[HTTP_ERROR]      HTTP error\n[STATE_CHANGE]    Application state change\n[NAVIGATION]      Router navigation\n[USER_ACTION]     User interaction\n[FORM_SUBMIT]     Form submission\n[FORM_ERROR]      Form error\n</code></pre>"},{"location":"development/logging-conventions/#73-script-categories","title":"7.3 Script Categories","text":"<pre><code>[DEPLOYMENT]      Deployment operations\n[HEALTH_CHECK]    Health verification\n[CLEANUP]         Resource cleanup\n[VALIDATION]      Configuration validation\n[CONTAINER]       Docker container operations\n[DATABASE]        Database operations\n[STEP]            Process step\n</code></pre>"},{"location":"development/logging-conventions/#8-best-practices","title":"8. Best Practices","text":""},{"location":"development/logging-conventions/#81-do","title":"8.1 Do","text":"<ol> <li> <p>Log at appropriate levels <pre><code>log.info(\"[CREATE_PROJECT] Success - id={}\", id);  // Important business event\nlog.debug(\"[GET_PROJECT] Fetching - id={}\", id);   // Development info\n</code></pre></p> </li> <li> <p>Include context in error logs <pre><code>log.error(\"[DB_ERROR] Failed to save - entity={}, error={}\", entity, ex.getMessage(), ex);\n</code></pre></p> </li> <li> <p>Use structured parameters <pre><code>log.info(\"[UPDATE_PROJECT] Success - id={}, changedFields={}\", id, changedFields);\n</code></pre></p> </li> <li> <p>Log performance metrics <pre><code>log.info(\"[PERFORMANCE] Query completed - query={}, duration={}ms\", query, duration);\n</code></pre></p> </li> </ol>"},{"location":"development/logging-conventions/#82-do-not","title":"8.2 Do Not","text":"<ol> <li> <p>Never log sensitive data <pre><code>// BAD\nlog.info(\"User login - password={}\", password);\n\n// GOOD\nlog.info(\"[AUTH] User login attempt - username={}\", username);\n</code></pre></p> </li> <li> <p>Do not log large payloads in production <pre><code>// BAD\nlog.info(\"Request: {}\", fullRequestBody);\n\n// GOOD\nlog.debug(\"[HTTP_REQUEST] Request received - endpoint={}, method={}\", endpoint, method);\n</code></pre></p> </li> <li> <p>Do not use string concatenation <pre><code>// BAD\nlog.info(\"[CREATE_PROJECT] Created project with id \" + id);\n\n// GOOD\nlog.info(\"[CREATE_PROJECT] Success - id={}\", id);\n</code></pre></p> </li> <li> <p>Do not use emojis or special characters <pre><code># BAD\necho \"Success!\"\n\n# GOOD\nlog_success \"[DEPLOYMENT] Deployment complete\"\n</code></pre></p> </li> </ol>"},{"location":"development/logging-conventions/#9-examples","title":"9. Examples","text":""},{"location":"development/logging-conventions/#91-complete-crud-operation","title":"9.1 Complete CRUD Operation","text":"<pre><code>@Slf4j\n@RestController\n@RequestMapping(\"/api/projects\")\npublic class ProjectController {\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ProjectResponse&gt;&gt; getAllProjects() {\n        log.debug(\"[LIST_PROJECTS] Request received\");\n        List&lt;ProjectResponse&gt; projects = projectService.getAllProjects();\n        log.info(\"[LIST_PROJECTS] Success - count={}\", projects.size());\n        return ResponseEntity.ok(projects);\n    }\n\n    @GetMapping(\"/{id}\")\n    public ResponseEntity&lt;ProjectResponse&gt; getProject(@PathVariable Long id) {\n        log.debug(\"[GET_PROJECT] Request received - id={}\", id);\n        ProjectResponse project = projectService.getProjectById(id);\n        return ResponseEntity.ok(project);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;ProjectResponse&gt; createProject(@Valid @RequestBody CreateProjectRequest request) {\n        log.info(\"[CREATE_PROJECT] Request received - title={}\", request.getTitle());\n        ProjectResponse response = projectService.createProject(request);\n        log.info(\"[CREATE_PROJECT] Success - id={}, title={}\", response.getId(), response.getTitle());\n        return ResponseEntity.status(HttpStatus.CREATED).body(response);\n    }\n\n    @PutMapping(\"/{id}\")\n    public ResponseEntity&lt;ProjectResponse&gt; updateProject(\n            @PathVariable Long id,\n            @Valid @RequestBody UpdateProjectRequest request) {\n        log.info(\"[UPDATE_PROJECT] Request received - id={}\", id);\n        ProjectResponse response = projectService.updateProject(id, request);\n        log.info(\"[UPDATE_PROJECT] Success - id={}, title={}\", response.getId(), response.getTitle());\n        return ResponseEntity.ok(response);\n    }\n\n    @DeleteMapping(\"/{id}\")\n    public ResponseEntity&lt;Void&gt; deleteProject(@PathVariable Long id) {\n        log.info(\"[DELETE_PROJECT] Request received - id={}\", id);\n        projectService.deleteProject(id);\n        log.info(\"[DELETE_PROJECT] Success - id={}\", id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#92-error-handling","title":"9.2 Error Handling","text":"<pre><code>@Slf4j\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleResourceNotFound(ResourceNotFoundException ex) {\n        log.warn(\"[EXCEPTION] Resource not found - resource={}, field={}, value={}\",\n            ex.getResourceName(), ex.getFieldName(), ex.getFieldValue());\n\n        ErrorResponse error = new ErrorResponse(\n            HttpStatus.NOT_FOUND.value(),\n            ex.getMessage()\n        );\n\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleGenericError(Exception ex) {\n        log.error(\"[EXCEPTION] Unexpected error - message={}\", ex.getMessage(), ex);\n\n        ErrorResponse error = new ErrorResponse(\n            HttpStatus.INTERNAL_SERVER_ERROR.value(),\n            \"An unexpected error occurred\"\n        );\n\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(error);\n    }\n}\n</code></pre>"},{"location":"development/logging-conventions/#93-deployment-script","title":"9.3 Deployment Script","text":"<pre><code>#!/bin/bash\nsource \"$(dirname \"$0\")/../lib/logging.sh\"\n\nset -e\n\nENV=${1:-staging}\nCOMMIT=$(git rev-parse --short HEAD)\n\nlog_section \"Deployment to $ENV\"\nlog_info \"[DEPLOYMENT] Starting - env=$ENV, commit=$COMMIT\"\n\nlog_step \"[VALIDATION] Checking prerequisites\"\nif ! command -v docker &amp;&gt; /dev/null; then\n    log_fatal \"[VALIDATION] Docker not found\"\nfi\nlog_success \"[VALIDATION] Prerequisites satisfied\"\n\nlog_step \"[BUILD] Building images\"\nSTART_TIME=$(date +%s)\nif docker-compose build; then\n    BUILD_TIME=$(($(date +%s) - START_TIME))\n    log_success \"[BUILD] Images built - duration=${BUILD_TIME}s\"\nelse\n    log_fatal \"[BUILD] Failed to build images\"\nfi\n\nlog_step \"[DEPLOYMENT] Starting containers\"\ndocker-compose up -d\n\nlog_step \"[HEALTH_CHECK] Waiting for healthy status\"\nMAX_ATTEMPTS=60\nATTEMPT=0\n\nwhile [ $ATTEMPT -lt $MAX_ATTEMPTS ]; do\n    ATTEMPT=$((ATTEMPT + 1))\n    BACKEND_HEALTH=$(docker inspect --format='{{.State.Health.Status}}' portfolio-backend-$ENV 2&gt;/dev/null || echo \"not_running\")\n\n    log_debug \"[HEALTH_CHECK] Attempt $ATTEMPT/$MAX_ATTEMPTS - backend=$BACKEND_HEALTH\"\n\n    if [ \"$BACKEND_HEALTH\" = \"healthy\" ]; then\n        log_success \"[HEALTH_CHECK] All systems healthy\"\n        break\n    fi\n\n    if [ \"$BACKEND_HEALTH\" = \"unhealthy\" ]; then\n        log_error \"[HEALTH_CHECK] Container unhealthy - backend=$BACKEND_HEALTH\"\n        docker logs --tail=50 portfolio-backend-$ENV\n        exit 1\n    fi\n\n    sleep 5\ndone\n\nif [ $ATTEMPT -eq $MAX_ATTEMPTS ]; then\n    log_fatal \"[HEALTH_CHECK] Timeout after ${MAX_ATTEMPTS} attempts\"\nfi\n\nlog_success \"[DEPLOYMENT] Deployment complete - env=$ENV\"\n</code></pre>"},{"location":"development/setup/","title":"Development Setup Guide","text":""},{"location":"development/setup/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Prerequisites</li> <li>Initial Setup</li> <li>Running the Application</li> <li>Development Workflow</li> <li>Initial Data Setup</li> </ol>"},{"location":"development/setup/#1-prerequisites","title":"1. Prerequisites","text":""},{"location":"development/setup/#11-required-software","title":"1.1 Required Software","text":"Software Minimum Version Purpose Docker 20.10+ Container runtime Docker Compose 2.0+ Multi-container orchestration Git 2.30+ Version control"},{"location":"development/setup/#12-optional-tools-for-local-development-without-docker","title":"1.2 Optional Tools (for local development without Docker)","text":"Software Version Purpose Java (JDK) 21 Backend runtime Node.js 20+ Frontend development PostgreSQL 17+ Database Gradle 8.14+ Backend build tool"},{"location":"development/setup/#13-system-requirements","title":"1.3 System Requirements","text":"<ul> <li>RAM: 8GB minimum, 16GB recommended</li> <li>Disk Space: 10GB free space</li> <li>OS: Windows 10+, macOS 11+, or Linux</li> </ul>"},{"location":"development/setup/#2-initial-setup","title":"2. Initial Setup","text":""},{"location":"development/setup/#21-clone-repository","title":"2.1 Clone Repository","text":"<pre><code>git clone &lt;repository-url&gt;\ncd portfolio\n</code></pre>"},{"location":"development/setup/#22-environment-configuration","title":"2.2 Environment Configuration","text":"<p>Create <code>.env</code> file at project root:</p> <pre><code># On Linux/macOS\ncat &gt; .env &lt;&lt; EOF\nDB_USER_PASSWORD=your_secure_password\nEOF\n\n# On Windows (PowerShell)\necho \"DB_USER_PASSWORD=your_secure_password\" &gt; .env\n</code></pre> <p>Important: Replace <code>your_secure_password</code> with a secure password.</p>"},{"location":"development/setup/#23-verify-docker-installation","title":"2.3 Verify Docker Installation","text":"<pre><code># Check Docker version\ndocker --version\n# Expected: Docker version 20.10.0 or higher\n\n# Check Docker Compose version\ndocker-compose --version\n# Expected: Docker Compose version 2.0.0 or higher\n\n# Verify Docker is running\ndocker ps\n# Should return empty list or running containers (no error)\n</code></pre>"},{"location":"development/setup/#3-running-the-application","title":"3. Running the Application","text":""},{"location":"development/setup/#31-start-all-services-recommended","title":"3.1 Start All Services (Recommended)","text":"<p>Local Environment: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n</code></pre></p> <p>Staging Environment: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.staging.yml up --build -d\n</code></pre></p> <p>Production Environment: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d\n</code></pre></p>"},{"location":"development/setup/#32-access-points","title":"3.2 Access Points","text":"<p>Once services are running:</p> Service URL Description Frontend http://localhost:8081 Angular application Backend API http://localhost:8081/api REST API endpoints Swagger UI http://localhost:8081/api/swagger-ui.html API documentation Health Check http://localhost:8081/health Simple health status Full Health http://localhost:8081/health/full Detailed health status Database localhost:5432 PostgreSQL (local env)"},{"location":"development/setup/#33-verify-installation","title":"3.3 Verify Installation","text":"<pre><code># Check all containers are running\ndocker ps\n\n# Expected output: 4 containers\n# - portfolio-nginx-local\n# - portfolio-frontend-local\n# - portfolio-backend-local\n# - portfolio-db-local\n\n# Check health status\ncurl http://localhost:8081/health\n\n# Expected: {\"status\":\"ok\"}\n</code></pre>"},{"location":"development/setup/#4-development-workflow","title":"4. Development Workflow","text":""},{"location":"development/setup/#41-view-logs","title":"4.1 View Logs","text":"<pre><code># All services\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml logs -f\n\n# Specific service\ndocker-compose logs -f portfolio-backend-local\ndocker-compose logs -f portfolio-frontend-local\ndocker-compose logs -f portfolio-db-local\n</code></pre>"},{"location":"development/setup/#42-rebuild-after-code-changes","title":"4.2 Rebuild After Code Changes","text":"<p>Backend changes: <pre><code># Rebuild and restart backend only\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-backend-local\n</code></pre></p> <p>Frontend changes: <pre><code># Rebuild and restart frontend only\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-frontend-local\n</code></pre></p> <p>All services: <pre><code># Rebuild everything\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n</code></pre></p>"},{"location":"development/setup/#43-run-tests","title":"4.3 Run Tests","text":"<p>Quick start: <pre><code># Backend\ndocker exec portfolio-backend-local gradle test --no-daemon\n\n# Frontend\ndocker exec portfolio-frontend-local npm test -- --watch=false\n</code></pre></p> <p>For more testing commands and options, see: - Testing Guide - <code>scripts/testing/</code> directory (if available)</p>"},{"location":"development/setup/#44-access-database","title":"4.4 Access Database","text":"<pre><code># Connect to PostgreSQL\ndocker exec -it portfolio-db-local psql -U portfolio_user -d portfolio_local\n\n# Common commands:\n# \\dt          - List tables\n# \\d projects  - Describe projects table\n# SELECT * FROM projects;\n# \\q           - Exit\n</code></pre>"},{"location":"development/setup/#45-clean-up","title":"4.5 Clean Up","text":"<p>Stop services: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml down\n</code></pre></p> <p>Stop and remove volumes (CAUTION: deletes database data): <pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml down -v\n</code></pre></p> <p>Remove all Docker resources: <pre><code># Remove stopped containers\ndocker container prune -f\n\n# Remove unused images\ndocker image prune -a -f\n\n# Remove unused volumes\ndocker volume prune -f\n</code></pre></p>"},{"location":"development/setup/#5-initial-data-setup","title":"5. Initial Data Setup","text":""},{"location":"development/setup/#data-seeders","title":"Data Seeders","text":"<p>The application includes automatic data seeders that run on first startup.</p>"},{"location":"development/setup/#adminseeder","title":"AdminSeeder","text":"<p>Creates the initial admin user if no users exist in the database.</p> <p>Location: <code>config/AdminSeeder.java</code></p> <p>Behavior: - Checks if any users exist in the database - If no users exist, creates admin user with credentials from environment variables - Only runs once (subsequent startups skip if users exist)</p> <p>Configuration: <pre><code>app:\n  admin:\n    username: ${ADMIN_USERNAME:admin}\n    password: ${ADMIN_PASSWORD}  # Required, no default\n</code></pre></p> <p>Environment Variables: <pre><code>ADMIN_USERNAME=admin\nADMIN_PASSWORD=your_secure_admin_password\n</code></pre></p>"},{"location":"development/setup/#dataseeder","title":"DataSeeder","text":"<p>Seeds default data for development environments.</p> <p>Location: <code>config/DataSeeder.java</code></p> <p>Seeded Data: - Default site configuration - Sample skill categories - Initial tags</p> <p>Profile: Only active in <code>dev</code> profile</p> <pre><code>spring:\n  profiles:\n    active: dev  # Enables DataSeeder\n</code></pre>"},{"location":"development/setup/#first-time-setup","title":"First-Time Setup","text":"<ol> <li> <p>Set required environment variables: <pre><code># .env file\nADMIN_USERNAME=admin\nADMIN_PASSWORD=your_secure_password\nJWT_SECRET=your_jwt_secret_key_min_32_chars\n</code></pre></p> </li> <li> <p>Start the application</p> </li> <li>Admin user is created automatically</li> <li>Login with configured credentials</li> </ol>"},{"location":"development/setup/#additional-resources","title":"Additional Resources","text":"<ul> <li>Architecture Guide - System design</li> <li>Testing Guide - Running tests</li> <li>CI/CD Guide - Deployment process</li> <li>Initial Setup - Security configuration</li> </ul>"},{"location":"development/testing-guide/","title":"Testing Guide","text":"<p>Complete guide for testing strategies, conventions, and execution in the Portfolio project.</p>"},{"location":"development/testing-guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Test Maintenance Rule</li> <li>Backend Testing</li> <li>Frontend Testing</li> <li>Test Naming Conventions</li> <li>Test Execution</li> <li>Coverage Requirements</li> </ol>"},{"location":"development/testing-guide/#test-maintenance-rule","title":"Test Maintenance Rule","text":""},{"location":"development/testing-guide/#critical-mandatory-test-updates","title":"CRITICAL: Mandatory Test Updates","text":"<p>For EVERY code change, you MUST verify and update tests BEFORE committing.</p> <p>[REQUIRED] Before completing ANY task: 1. Identify affected tests - Which test files cover the modified code? 2. Update test expectations - Do assertions match new behavior? 3. Remove obsolete tests - Are any tests now invalid? 4. Add missing tests - Does new code need new tests? 5. Run tests locally - Verify all tests pass before pushing</p>"},{"location":"development/testing-guide/#backend-testing","title":"Backend Testing","text":""},{"location":"development/testing-guide/#testing-strategy","title":"Testing Strategy","text":""},{"location":"development/testing-guide/#mockbean-usage-policy-spring-boot-34","title":"@MockBean Usage Policy (Spring Boot 3.4+)","text":"<p>CURRENT POLICY: - USE <code>@MockBean</code> from <code>org.springframework.boot.test.mock.mockito</code> for ALL tests - This is the REQUIRED annotation for this project - [WARN] Expect deprecation warnings during compilation (this is normal and acceptable)</p> <p>RATIONALE: - <code>@MockBean</code> is deprecated since Spring Boot 3.4 but remains fully functional until Spring Boot 4.0 - The replacement <code>@MockitoBean</code> does NOT work with <code>@TestConfiguration</code> in Spring Boot 3.4+ - Migration to <code>@MockitoBean</code> would require:   - Removing shared <code>TestSecurityConfig.java</code>   - Duplicating 7+ mock beans across every test file   - Massive refactoring effort (~15-20 hours) - Current approach is stable, maintainable, and will work until Spring Boot 4.0 (estimated 2026-2027)</p>"},{"location":"development/testing-guide/#unit-tests-junit-5-mockito","title":"Unit Tests (JUnit 5 + Mockito)","text":"<p>Characteristics: - Test business logic in isolation - Mock all external dependencies - Fast execution (no Docker required) - Target: &gt;80% code coverage</p> <p>Pattern: <pre><code>@ExtendWith(MockitoExtension.class)\nclass ServiceTest {\n    @Mock\n    private Repository repository;\n\n    @Mock\n    private Mapper mapper;\n\n    @InjectMocks\n    private Service service;\n\n    @Test\n    void should_&lt;behavior&gt;_when_&lt;condition&gt;() {\n        // Given: Setup test data and mocks\n        // When: Execute method under test\n        // Then: Verify results and interactions\n    }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#integration-tests-testcontainers","title":"Integration Tests (Testcontainers)","text":"<p>Characteristics: - Test with real database - Verify JPA mappings and queries - Test transactions and constraints - Docker required</p> <p>Pattern: <pre><code>@SpringBootTest\n@Testcontainers\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass RepositoryIntegrationTest {\n\n    @Container\n    static PostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(\"postgres:15-alpine\")\n            .withDatabaseName(\"testdb\")\n            .withUsername(\"test\")\n            .withPassword(\"test\");\n\n    @Autowired\n    private Repository repository;\n\n    @Test\n    void should_&lt;behavior&gt;_when_&lt;condition&gt;() {\n        // Test with real database operations\n    }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#api-tests-rest-assured","title":"API Tests (REST Assured)","text":"<p>Characteristics: - Test complete HTTP flows - Verify request/response formats - Test authentication and authorization</p> <p>Pattern: <pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass ControllerApiTest {\n\n    @LocalServerPort\n    private int port;\n\n    @BeforeEach\n    void setup() {\n        RestAssured.port = port;\n    }\n\n    @Test\n    void should_&lt;behavior&gt;_when_&lt;condition&gt;() {\n        given()\n            .contentType(ContentType.JSON)\n            .body(request)\n        .when()\n            .post(\"/api/endpoint\")\n        .then()\n            .statusCode(201)\n            .body(\"field\", equalTo(\"value\"));\n    }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#frontend-testing","title":"Frontend Testing","text":""},{"location":"development/testing-guide/#unit-tests-jasmine-karma","title":"Unit Tests (Jasmine + Karma)","text":"<p>Characteristics: - Test component logic in isolation - Mock services and dependencies - Fast execution</p>"},{"location":"development/testing-guide/#configuration-files","title":"Configuration Files","text":"<p>karma.conf.js: <pre><code>module.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage'),\n      require('@angular-devkit/build-angular/plugins/karma')\n    ],\n    browsers: ['Chrome'],\n    customLaunchers: {\n      ChromeHeadlessCI: {\n        base: 'ChromeHeadless',\n        flags: ['--no-sandbox']\n      }\n    }\n  });\n};\n</code></pre></p> <p>tsconfig.spec.json: <pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/spec\",\n    \"types\": [\"jasmine\"]\n  },\n  \"include\": [\"src/**/*.spec.ts\"]\n}\n</code></pre></p> <p>angular.json (test section): <pre><code>{\n  \"projects\": {\n    \"portfolio-frontend\": {\n      \"architect\": {\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"karmaConfig\": \"karma.conf.js\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"development/testing-guide/#critical-typescript-type-rules-in-tests","title":"CRITICAL: TypeScript Type Rules in Tests","text":"<p>[REQUIRED] Use <code>undefined</code> for Optional Properties, NOT <code>null</code></p> <pre><code>// [BAD] - Using null for optional properties\nconst formValue = {\n  title: 'Test',\n  endDate: null  // TypeScript error if endDate?: string\n};\n\n// [GOOD] - Use undefined for optional properties\nconst formValue = {\n  title: 'Test',\n  endDate: undefined  // Correct for endDate?: string\n};\n\n// [ALSO GOOD] - Omit optional properties entirely\nconst formValue = {\n  title: 'Test'\n  // endDate is omitted, which is fine for optional properties\n};\n</code></pre> <p>Rationale: - TypeScript optional properties (<code>property?: type</code>) can be <code>type | undefined</code> - <code>null</code> is NOT the same as <code>undefined</code> in TypeScript - Jasmine's <code>toHaveBeenCalledWith()</code> enforces strict type checking - Using <code>null</code> for optional properties will cause compilation errors</p>"},{"location":"development/testing-guide/#frontend-test-pattern","title":"Frontend Test Pattern","text":"<pre><code>describe('Service', () =&gt; {\n  let service: Service;\n  let httpMock: HttpTestingController;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule],\n      providers: [Service, LoggerService]\n    });\n    service = TestBed.inject(Service);\n    httpMock = TestBed.inject(HttpTestingController);\n  });\n\n  it('should &lt;behavior&gt; when &lt;condition&gt;', () =&gt; {\n    // Test implementation\n  });\n\n  afterEach(() =&gt; {\n    httpMock.verify();\n  });\n});\n</code></pre>"},{"location":"development/testing-guide/#test-naming-conventions","title":"Test Naming Conventions","text":""},{"location":"development/testing-guide/#backend-given-when-then","title":"Backend (Given-When-Then)","text":"<p>Pattern: <code>should_&lt;expectedBehavior&gt;_when_&lt;condition&gt;</code></p> <p>Examples: <pre><code>@Test\nvoid should_returnProject_when_validId() { }\n\n@Test\nvoid should_throwNotFoundException_when_projectNotFound() { }\n\n@Test\nvoid should_updateProject_when_validData() { }\n</code></pre></p>"},{"location":"development/testing-guide/#frontend-behavior-description","title":"Frontend (Behavior Description)","text":"<p>Pattern: <code>should &lt;behavior&gt; when &lt;condition&gt;</code></p> <p>Examples: <pre><code>it('should display project list when loaded', () =&gt; {});\n\nit('should show error message when API fails', () =&gt; {});\n\nit('should navigate to detail page when clicking project', () =&gt; {});\n</code></pre></p>"},{"location":"development/testing-guide/#test-execution","title":"Test Execution","text":""},{"location":"development/testing-guide/#backend-commands","title":"Backend Commands","text":"<pre><code># Unit tests only (fast, no Docker)\n./gradlew test\n\n# Integration tests (Testcontainers, Docker required)\n./gradlew integrationTest\n\n# All tests\n./gradlew test integrationTest\n\n# Coverage report\n./gradlew test jacocoTestReport\n# Report: build/reports/jacoco/test/html/index.html\n\n# Coverage verification (fails if &lt; 80%)\n./gradlew jacocoTestCoverageVerification\n</code></pre>"},{"location":"development/testing-guide/#frontend-commands","title":"Frontend Commands","text":"<pre><code># Unit tests (watch mode)\nnpm test\n\n# Single run (CI mode)\nnpm run test:ci\n\n# Coverage report\nnpm run test:coverage\n# Report: coverage/index.html\n</code></pre>"},{"location":"development/testing-guide/#coverage-requirements","title":"Coverage Requirements","text":""},{"location":"development/testing-guide/#backend-jacoco","title":"Backend (JaCoCo)","text":"<p>Thresholds: - Global: 80% minimum - Per package: 70% minimum</p> <p>Exclusions: - Entities (JPA models) - DTOs (Data Transfer Objects) - Configurations (Spring configs) - Exceptions (Custom exception classes) - Mappers (MapStruct interfaces)</p> <p>Configuration: See <code>build.gradle</code> lines 122-167</p>"},{"location":"development/testing-guide/#frontend-karmaistanbul","title":"Frontend (Karma/Istanbul)","text":"<p>Thresholds: - Statements: 80% - Branches: 75% - Functions: 80% - Lines: 80%</p> <p>Configuration: See <code>karma.conf.js</code></p>"},{"location":"development/testing-guide/#docker-for-integration-tests","title":"Docker for Integration Tests","text":""},{"location":"development/testing-guide/#requirements","title":"Requirements","text":"<p>[REQUIRED] Integration tests: - Must use Docker (Testcontainers) - Full system tests require <code>docker-compose</code> environment - Database, message brokers, external services \u2192 Docker</p> <p>[ALLOWED] Unit tests: - JUnit + Mockito can run without Docker - Fast feedback loop for TDD - No external dependencies needed</p>"},{"location":"development/testing-guide/#commands","title":"Commands","text":"<pre><code># Unit tests only (no Docker)\n./gradlew test\n\n# Integration tests with Testcontainers (Docker required)\n./gradlew integrationTest\n\n# Full system test with docker-compose\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n./gradlew test integrationTest\n</code></pre>"},{"location":"development/testing-guide/#best-practices","title":"Best Practices","text":""},{"location":"development/testing-guide/#test-independence","title":"Test Independence","text":"<p>[REQUIRED] Tests must: - Run independently of other tests - Have no reliance on execution order - Clean up resources after execution - Have no shared state between tests</p>"},{"location":"development/testing-guide/#mock-usage","title":"Mock Usage","text":"<p>[DO]: - Use lenient stubs for optional dependencies - Spy on external dependencies when needed - Verify interactions when behavior matters</p> <p>[DON'T]: - Over-mock internal logic - Mock value objects or DTOs - Create fragile tests tied to implementation details</p>"},{"location":"development/testing-guide/#test-data","title":"Test Data","text":"<p>[DO]: - Use test builders or factories for complex objects - Keep test data minimal and focused - Use descriptive variable names</p> <p>[DON'T]: - Share test data across multiple tests - Use production data in tests - Create overly complex test setups</p>"},{"location":"development/testing-guide/#related-documentation","title":"Related Documentation","text":"<ul> <li>Code Quality - Checkstyle, SpotBugs, JaCoCo configuration</li> <li>Setup Guide - Development environment setup</li> </ul>"},{"location":"development/testing/","title":"Testing Guide","text":""},{"location":"development/testing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Quick Start</li> <li>Test Coverage</li> <li>Testing Strategy</li> <li>Continuous Integration</li> </ol>"},{"location":"development/testing/#1-overview","title":"1. Overview","text":"<p>Unit testing framework for the Portfolio Application ensures code quality and prevents regressions.</p>"},{"location":"development/testing/#11-testing-frameworks","title":"1.1 Testing Frameworks","text":"Component Framework Test Runner Backend JUnit 5 + Mockito Gradle Frontend Jasmine Karma"},{"location":"development/testing/#2-quick-start","title":"2. Quick Start","text":""},{"location":"development/testing/#21-run-all-backend-tests","title":"2.1 Run All Backend Tests","text":"<pre><code>cd portfolio-backend\n./gradlew test\n</code></pre> <p>Report: <code>portfolio-backend/build/reports/tests/test/index.html</code></p>"},{"location":"development/testing/#22-run-all-frontend-tests","title":"2.2 Run All Frontend Tests","text":"<pre><code>cd portfolio-frontend\nnpm test -- --watch=false --browsers=ChromeHeadlessCI\n</code></pre> <p>Coverage: <code>portfolio-frontend/coverage/portfolio-frontend/index.html</code></p>"},{"location":"development/testing/#23-common-commands","title":"2.3 Common Commands","text":"Task Command Backend: Specific test class <code>./gradlew test --tests HealthServiceTest</code> Frontend: With coverage <code>npm test -- --code-coverage --watch=false --browsers=ChromeHeadlessCI</code> Backend: Single test method <code>./gradlew test --tests HealthServiceTest.testPing_ShouldReturnOkStatus</code> Frontend: Interactive mode <code>npm test</code>"},{"location":"development/testing/#3-test-coverage","title":"3. Test Coverage","text":""},{"location":"development/testing/#31-view-current-coverage","title":"3.1 View Current Coverage","text":"<p>Backend: <pre><code>cd portfolio-backend\n./gradlew test jacocoTestReport\n# Open: build/reports/jacoco/test/html/index.html\n</code></pre></p> <p>Frontend: <pre><code>cd portfolio-frontend\nnpm test -- --code-coverage --watch=false\n# Open: coverage/portfolio-frontend/index.html\n</code></pre></p>"},{"location":"development/testing/#32-coverage-requirements","title":"3.2 Coverage Requirements","text":"<p>Coverage thresholds are enforced by CI/CD.</p> <p>Backend configuration: See <code>portfolio-backend/build.gradle</code> lines 136-167 Frontend configuration: See <code>karma.conf.js</code> (if configured)</p>"},{"location":"development/testing/#4-testing-strategy","title":"4. Testing Strategy","text":""},{"location":"development/testing/#41-test-pattern-aaa","title":"4.1 Test Pattern (AAA)","text":"<p>All tests follow the Arrange-Act-Assert pattern:</p> <pre><code>@Test\nvoid testPing_ShouldReturnOkStatus() {\n    // Arrange: Setup mocks and test data\n    // Act: Execute the method under test\n    HealthResponse response = healthService.ping();\n    // Assert: Verify the results\n    assertNotNull(response);\n    assertEquals(\"ok\", response.getStatus());\n}\n</code></pre>"},{"location":"development/testing/#42-naming-convention","title":"4.2 Naming Convention","text":"<p>Pattern: <code>test&lt;Method&gt;_When&lt;Condition&gt;_Should&lt;ExpectedBehavior&gt;</code></p> <p>Examples: - <code>testPing_ShouldReturnOkStatus()</code> - <code>testCheckDatabase_WhenHealthy_ShouldReturn200()</code> - <code>should create the component</code> - <code>should render title when component initializes</code></p>"},{"location":"development/testing/#43-best-practices","title":"4.3 Best Practices","text":"<p>Test Independence: - Run independently of other tests - No reliance on execution order - Clean up resources after execution - No shared state between tests</p> <p>Mock Usage: - Use lenient stubs for optional dependencies - Spy on external dependencies when needed - Verify interactions when behavior matters</p>"},{"location":"development/testing/#5-continuous-integration","title":"5. Continuous Integration","text":""},{"location":"development/testing/#51-cicd-integration","title":"5.1 CI/CD Integration","text":"<p>Tests are integrated into GitHub Actions workflow (<code>.github/workflows/ci-cd.yml</code>).</p> <p>Automated execution: - On every pull request - Before deployment to staging/production - On scheduled intervals (nightly builds)</p>"},{"location":"development/testing/#52-enabling-tests-in-pipeline","title":"5.2 Enabling Tests in Pipeline","text":"<p>Backend: <pre><code>- name: Run Backend Unit Tests\n  run: ./gradlew test\n  working-directory: portfolio-backend\n</code></pre></p> <p>Frontend: <pre><code>- name: Run Frontend Unit Tests\n  run: npm test -- --watch=false --browsers=ChromeHeadlessCI\n  working-directory: portfolio-frontend\n</code></pre></p> <p>Note: Tests are currently disabled in pipeline but can be enabled by uncommenting these steps.</p>"},{"location":"features/","title":"Features Overview","text":""},{"location":"features/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Content Management Features</li> <li>User Interaction Features</li> <li>Media Processing Features</li> <li>Infrastructure Features</li> </ol>"},{"location":"features/#1-introduction","title":"1. Introduction","text":"<p>This document provides an overview of the Portfolio application features. Each feature is documented in detail in its respective documentation file.</p> <p>Feature Categories: - Content Management: Blog articles, experiences, CV management, site configuration - User Interaction: Contact form with rate limiting - Media Processing: Image optimization, file storage - Infrastructure: Security, validation, error handling</p>"},{"location":"features/#2-content-management-features","title":"2. Content Management Features","text":""},{"location":"features/#21-blog-articles","title":"2.1 Blog Articles","text":"<p>File: blog-articles.md</p> <p>Description: Full-featured blog system with Markdown rendering, GitHub Flavored Markdown support, and draft/publish workflow.</p> <p>Key Capabilities: - Markdown content with Flexmark renderer - GitHub Flavored Markdown extensions (tables, strikethrough, task lists) - Automatic slug generation from title - Reading time calculation (200 words/minute) - Draft/publish status management - Tag-based categorization - Inline image support with Azure Blob Storage</p> <p>API Endpoints: - Public: <code>GET /api/articles</code>, <code>GET /api/articles/{slug}</code> - Admin: <code>POST /api/articles/admin</code>, <code>PUT /api/articles/admin/{id}/publish</code></p> <p>Technologies: Flexmark (Markdown rendering), MapStruct (DTO mapping)</p>"},{"location":"features/#22-experience-management","title":"2.2 Experience Management","text":"<p>File: experience-management.md</p> <p>Description: Timeline-based experience management for work history, education, certifications, and volunteering.</p> <p>Key Capabilities: - Four experience types: WORK, EDUCATION, CERTIFICATION, VOLUNTEERING - Date range validation (end_date &gt;= start_date) - Ongoing experiences support (null endDate) - Type-based filtering - Recent experiences endpoint (configurable limit) - Chronological ordering (most recent first)</p> <p>API Endpoints: - Public: <code>GET /api/experiences</code>, <code>GET /api/experiences/type/{type}</code>, <code>GET /api/experiences/ongoing</code> - Admin: <code>POST /api/experiences/admin</code>, <code>PUT /api/experiences/admin/{id}</code></p> <p>Use Cases: Professional timeline, education history, certifications showcase</p>"},{"location":"features/#23-cv-management","title":"2.3 CV Management","text":"<p>File: cv-management.md</p> <p>Description: Complete CV/resume management system with versioning and public download capability.</p> <p>Key Capabilities: - Multiple CV versions support - Single \"current\" CV designation (enforced by database constraint) - PDF validation (magic bytes) - User tracking (who uploaded each CV) - Public access to current CV - Admin-only upload and management - Historical version preservation</p> <p>API Endpoints: - Public: <code>GET /api/cv/current</code>, <code>GET /api/cv/download/{id}</code> - Admin: <code>POST /api/admin/cv/upload</code>, <code>PUT /api/admin/cv/{id}/set-current</code></p> <p>Database: Unique partial index ensures only one <code>is_current = true</code> at a time</p>"},{"location":"features/#24-site-configuration","title":"2.4 Site Configuration","text":"<p>File: site-configuration.md</p> <p>Description: Centralized configuration for all site-wide settings including personal identity, hero section content, SEO metadata, and social links.</p> <p>Key Capabilities: - Personal identity management (full name, email) - Hero section content (title, description) - SEO metadata (site title, meta description) - Social links (GitHub, LinkedIn URLs) - Profile image upload with WebP optimization - Singleton pattern (single configuration row)</p> <p>API Endpoints: - Public: <code>GET /api/configuration</code> - Admin: <code>PUT /api/admin/configuration</code>, <code>POST /api/admin/configuration/profile-image</code></p> <p>Database: Single row constraint ensures only one configuration exists</p>"},{"location":"features/#3-user-interaction-features","title":"3. User Interaction Features","text":""},{"location":"features/#31-contact-form","title":"3.1 Contact Form","text":"<p>File: contact-form.md</p> <p>Description: Rate-limited contact form with email notification and spam prevention.</p> <p>Key Capabilities: - IP-based rate limiting (Redis-backed) - Configurable rate limits per environment - Email notification to admin - Request validation (name, email, message) - X-Forwarded-For header support (proxy-aware) - Atomic Redis operations for thread safety</p> <p>API Endpoint: <code>POST /api/contact</code> (public, rate-limited)</p> <p>Rate Limits: - Development: 10 requests/hour per IP - Staging: 5 requests/hour per IP - Production: 3 requests/hour per IP</p> <p>Technologies: Redis (rate limiting), Spring Mail (email sending)</p>"},{"location":"features/#4-media-processing-features","title":"4. Media Processing Features","text":""},{"location":"features/#41-image-processing","title":"4.1 Image Processing","text":"<p>File: image-processing.md</p> <p>Description: Automatic image optimization with WebP conversion and thumbnail generation.</p> <p>Key Capabilities: - Automatic WebP conversion (from JPEG, PNG, WebP) - Thumbnail generation (400\u00d7300px, quality 0.8) - Full image optimization (quality 0.85) - MIME type validation (magic bytes) - Old image cleanup (prevents orphaned files) - 25-35% file size reduction vs JPEG</p> <p>Technologies: Thumbnailator (Java image processing library)</p> <p>Performance: - Processing time: ~350ms per image (full + thumbnail) - File size savings: 72% vs PNG, 30% vs JPEG - Bandwidth savings: 93% reduction with thumbnails</p> <p>Use Cases: Project images, portfolio gallery, optimized page load times</p>"},{"location":"features/#42-file-storage","title":"4.2 File Storage","text":"<p>File: file-storage.md</p> <p>Description: Secure, organized file storage architecture with validation and cleanup.</p> <p>Key Capabilities: - Organized directory structure (<code>uploads/projects/</code>, <code>uploads/cvs/</code>) - Timestamped filenames (prevents collisions) - MIME type validation (magic bytes, not extensions) - File size limits (10 MB default) - Path traversal prevention - Old file cleanup on updates</p> <p>Storage Structure: <pre><code>uploads/\n\u251c\u2500\u2500 projects/           # Project images (WebP)\n\u2502   \u251c\u2500\u2500 project_1_1700000000.webp\n\u2502   \u2514\u2500\u2500 project_1_1700000000_thumb.webp\n\u251c\u2500\u2500 cvs/                # CV documents (PDF)\n\u2502   \u2514\u2500\u2500 cv_1_1700000000.pdf\n\u2514\u2500\u2500 articles/           # Article images (JPEG, PNG, WebP)\n    \u2514\u2500\u2500 article_1_1700000000.webp\n</code></pre></p> <p>Security: - Magic bytes validation (content-based, not extension-based) - Path sanitization (prevents directory traversal) - File size limits (Spring Boot enforced) - Content-Type validation</p>"},{"location":"features/#5-infrastructure-features","title":"5. Infrastructure Features","text":""},{"location":"features/#51-file-validation","title":"5.1 File Validation","text":"<p>Cross-Feature: All file upload features (projects, CVs, articles)</p> <p>Validation Layers:</p> <ol> <li>MIME Type Validation (magic bytes):</li> <li>JPEG: <code>FF D8 FF</code></li> <li>PNG: <code>89 50 4E 47 0D 0A 1A 0A</code></li> <li>WebP: <code>52 49 46 46 ... 57 45 42 50</code></li> <li> <p>PDF: <code>25 50 44 46</code></p> </li> <li> <p>File Size Validation:</p> </li> <li>Max size: 10 MB (configurable)</li> <li> <p>Enforced by Spring Boot and service layer</p> </li> <li> <p>Path Validation:</p> </li> <li>Filename sanitization</li> <li>Directory traversal prevention</li> <li>Absolute path verification</li> </ol> <p>Implementation: <code>FileStorageService</code>, <code>ImageService</code></p>"},{"location":"features/#52-markdown-rendering","title":"5.2 Markdown Rendering","text":"<p>Feature: Blog Articles</p> <p>GitHub Flavored Markdown Extensions: - Tables - Strikethrough (<code>~~text~~</code>) - Task lists (<code>- [ ]</code>, <code>- [x]</code>) - Autolinks (URLs automatically converted) - Fenced code blocks with syntax highlighting support</p> <p>Implementation: <pre><code>Parser parser = Parser.builder()\n    .extensions(Arrays.asList(\n        TablesExtension.create(),\n        StrikethroughExtension.create(),\n        TaskListExtension.create(),\n        AutolinkExtension.create()\n    ))\n    .build();\n\nNode document = parser.parse(markdownContent);\nString html = renderer.render(document);\n</code></pre></p> <p>Service: <code>MarkdownService</code> (converts Markdown \u2192 HTML)</p>"},{"location":"features/#53-slug-generation","title":"5.3 Slug Generation","text":"<p>Feature: Blog Articles</p> <p>Algorithm: 1. Convert title to lowercase 2. Trim whitespace 3. Remove special characters (keep only a-z, 0-9, spaces, hyphens) 4. Replace spaces with hyphens 5. Collapse multiple hyphens 6. Remove leading/trailing hyphens</p> <p>Example: <pre><code>\"My First Blog Post!\" \u2192 \"my-first-blog-post\"\n\"Angular 18: What's New?\" \u2192 \"angular-18-whats-new\"\n\"C++ Tutorial (Part 1)\" \u2192 \"c-tutorial-part-1\"\n</code></pre></p> <p>Implementation: Entity lifecycle listener (<code>@PrePersist</code>, <code>@PreUpdate</code>)</p>"},{"location":"features/#54-reading-time-calculation","title":"5.4 Reading Time Calculation","text":"<p>Feature: Blog Articles</p> <p>Algorithm: Words per minute (WPM) calculation</p> <p>Formula: <code>readingTime = Math.ceil(wordCount / 200)</code></p> <p>Examples: - 500 words \u2192 3 minutes - 1000 words \u2192 5 minutes - 1500 words \u2192 8 minutes</p> <p>Implementation: Automatic calculation in <code>Article</code> entity on save</p>"},{"location":"features/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Documentation - API endpoints for all features</li> <li>Architecture: Database Schema - Database design</li> <li>Architecture: Frontend - Angular architecture</li> <li>Architecture: Error Handling - Error handling strategy</li> <li>Security: JWT Implementation - Authentication</li> <li>Security: Rate Limiting - Rate limiting details</li> <li>Reference: Configuration Properties - Configuration</li> <li>Reference: Error Codes - Error codes reference</li> </ul>"},{"location":"features/blog-articles/","title":"Blog Articles Feature","text":""},{"location":"features/blog-articles/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Article Structure</li> <li>Markdown Rendering</li> <li>Draft and Publish Workflow</li> <li>Automatic Content Processing</li> <li>Tag Categorization</li> <li>Image Management</li> <li>Pagination Support</li> <li>Configuration</li> </ol>"},{"location":"features/blog-articles/#1-overview","title":"1. Overview","text":"<p>The Blog Articles feature provides a comprehensive content management system for publishing technical articles and blog posts. Built with Markdown support and GitHub Flavored Markdown extensions.</p> <p>Key Capabilities: - Markdown-based content authoring with GitHub Flavored Markdown extensions - Draft/Publish workflow for content management - Automatic slug generation from titles - Reading time calculation (200 words/minute) - Excerpt generation from Markdown content - Tag-based categorization - Embedded image management - Pagination for large article collections - Author attribution</p> <p>Public Access: - View published articles - Filter articles by tags - Paginated article listing</p> <p>Admin Access: - Create, update, and delete articles - Publish and unpublish articles - Manage article drafts - Upload and manage images within articles</p>"},{"location":"features/blog-articles/#2-article-structure","title":"2. Article Structure","text":""},{"location":"features/blog-articles/#entity-model","title":"Entity Model","text":"<p>Article Entity (<code>com.emmanuelgabe.portfolio.entity.Article</code>):</p> <pre><code>@Entity\n@Table(name = \"articles\")\npublic class Article {\n    private Long id;\n    private String title;              // 3-200 characters\n    private String slug;                // 3-200 characters, unique, URL-friendly\n    private String content;             // Markdown format\n    private String excerpt;             // Max 500 characters\n    private User author;                // ManyToOne relationship\n    private boolean draft;              // True for drafts, false for published\n    private LocalDateTime publishedAt;  // Publication timestamp\n    private Integer readingTimeMinutes; // Auto-calculated\n    private Set&lt;Tag&gt; tags;              // ManyToMany relationship\n    private Set&lt;ArticleImage&gt; images;   // OneToMany relationship\n}\n</code></pre>"},{"location":"features/blog-articles/#field-details","title":"Field Details","text":"Field Type Description Constraints <code>id</code> Long Primary key Auto-generated <code>title</code> String Article title Required, 3-200 chars <code>slug</code> String URL-friendly identifier Required, 3-200 chars, unique <code>content</code> String Markdown content Required <code>excerpt</code> String Short summary Optional, max 500 chars <code>author</code> User Article author Required, ManyToOne <code>draft</code> Boolean Draft status Default: true <code>publishedAt</code> LocalDateTime Publication timestamp Set on first publish <code>readingTimeMinutes</code> Integer Estimated reading time Auto-calculated <code>tags</code> Set Associated tags ManyToMany <code>images</code> Set Embedded images OneToMany, cascade"},{"location":"features/blog-articles/#3-markdown-rendering","title":"3. Markdown Rendering","text":""},{"location":"features/blog-articles/#flexmark-integration","title":"Flexmark Integration","text":"<p>The system uses Flexmark library for Markdown-to-HTML conversion with full GitHub Flavored Markdown (GFM) support.</p> <p>MarkdownService (<code>com.emmanuelgabe.portfolio.service.MarkdownService</code>):</p> <pre><code>@Service\npublic class MarkdownService {\n    public String renderToHtml(String markdown);\n    public String extractExcerpt(String markdown, int maxLength);\n}\n</code></pre>"},{"location":"features/blog-articles/#supported-github-flavored-markdown-extensions","title":"Supported GitHub Flavored Markdown Extensions","text":"<ol> <li> <p>Tables (<code>TablesExtension</code>): <pre><code>| Header 1 | Header 2 |\n|----------|----------|\n| Cell 1   | Cell 2   |\n</code></pre></p> </li> <li> <p>Strikethrough (<code>StrikethroughExtension</code>): <pre><code>~~strikethrough text~~\n</code></pre></p> </li> <li> <p>Task Lists (<code>TaskListExtension</code>): <pre><code>- [x] Completed task\n- [ ] Pending task\n</code></pre></p> </li> <li> <p>Autolinks (<code>AutolinkExtension</code>): <pre><code>https://example.com automatically becomes a link\n</code></pre></p> </li> </ol>"},{"location":"features/blog-articles/#rendering-configuration","title":"Rendering Configuration","text":"<pre><code>MutableDataSet options = new MutableDataSet()\n    .set(Parser.EXTENSIONS, Arrays.asList(\n        TablesExtension.create(),\n        StrikethroughExtension.create(),\n        TaskListExtension.create(),\n        AutolinkExtension.create()\n    ))\n    .set(HtmlRenderer.SOFT_BREAK, \"&lt;br /&gt;\\n\");\n</code></pre>"},{"location":"features/blog-articles/#excerpt-generation","title":"Excerpt Generation","text":"<pre><code>public String extractExcerpt(String markdown, int maxLength) {\n    String html = renderToHtml(markdown);\n    String text = html.replaceAll(\"&lt;[^&gt;]*&gt;\", \"\");  // Strip HTML tags\n    text = text.trim().replaceAll(\"\\\\s+\", \" \");    // Normalize whitespace\n    if (text.length() &lt;= maxLength) return text;\n    return text.substring(0, maxLength).trim() + \"...\";\n}\n</code></pre>"},{"location":"features/blog-articles/#4-draft-and-publish-workflow","title":"4. Draft and Publish Workflow","text":""},{"location":"features/blog-articles/#draft-state","title":"Draft State","text":"<p>Default State: All new articles start as drafts (<code>draft = true</code>)</p> <p>Characteristics: - Not visible to public users - Accessible only to admins - Can be edited without affecting published content - No publication timestamp</p>"},{"location":"features/blog-articles/#publishing","title":"Publishing","text":"<p>Endpoint: <code>PUT /api/articles/admin/{id}/publish</code></p> <p>Process: <pre><code>public void publish() {\n    this.draft = false;\n    if (this.publishedAt == null) {\n        this.publishedAt = LocalDateTime.now();\n    }\n}\n</code></pre></p> <p>Effects: - Sets <code>draft = false</code> - Records <code>publishedAt</code> timestamp (only on first publish) - Makes article visible to public users - Article appears in public listings</p>"},{"location":"features/blog-articles/#unpublishing","title":"Unpublishing","text":"<p>Endpoint: <code>PUT /api/articles/admin/{id}/unpublish</code></p> <p>Process: <pre><code>public void unpublish() {\n    this.draft = true;\n}\n</code></pre></p> <p>Effects: - Sets <code>draft = true</code> - Retains original <code>publishedAt</code> timestamp - Hides article from public users - Article remains accessible to admins</p>"},{"location":"features/blog-articles/#publication-check","title":"Publication Check","text":"<pre><code>public boolean isPublished() {\n    return !this.draft\n        &amp;&amp; this.publishedAt != null\n        &amp;&amp; !this.publishedAt.isAfter(LocalDateTime.now());\n}\n</code></pre> <p>Validation: - Must not be a draft - Must have a publication timestamp - Publication time must not be in the future (supports scheduled publishing)</p>"},{"location":"features/blog-articles/#5-automatic-content-processing","title":"5. Automatic Content Processing","text":""},{"location":"features/blog-articles/#slug-generation","title":"Slug Generation","text":"<p>Trigger: Automatically called when slug is null or blank</p> <p>Algorithm: <pre><code>public void generateSlug() {\n    if (this.slug == null || this.slug.isBlank()) {\n        this.slug = this.title\n            .toLowerCase()\n            .trim()\n            .replaceAll(\"[^a-z0-9\\\\s-]\", \"\")  // Remove special chars\n            .replaceAll(\"\\\\s+\", \"-\")           // Replace spaces with hyphens\n            .replaceAll(\"-+\", \"-\")              // Collapse multiple hyphens\n            .replaceAll(\"^-|-$\", \"\");           // Remove leading/trailing hyphens\n    }\n}\n</code></pre></p> <p>Examples: - <code>\"Introduction to Spring Boot\"</code> \u2192 <code>\"introduction-to-spring-boot\"</code> - <code>\"Java 21: New Features!\"</code> \u2192 <code>\"java-21-new-features\"</code> - <code>\"How to Build APIs  with REST\"</code> \u2192 <code>\"how-to-build-apis-with-rest\"</code></p>"},{"location":"features/blog-articles/#reading-time-calculation","title":"Reading Time Calculation","text":"<p>Trigger: Automatically called on article creation and updates</p> <p>Algorithm: <pre><code>public void calculateReadingTime() {\n    if (this.content != null &amp;&amp; !this.content.isBlank()) {\n        int wordCount = this.content.split(\"\\\\s+\").length;\n        this.readingTimeMinutes = Math.max(1, (int) Math.ceil(wordCount / 200.0));\n    }\n}\n</code></pre></p> <p>Assumptions: - Average reading speed: 200 words per minute - Minimum reading time: 1 minute - Word count calculated from Markdown content (includes code blocks)</p> <p>Examples: - 150 words \u2192 1 minute - 400 words \u2192 2 minutes - 1000 words \u2192 5 minutes</p>"},{"location":"features/blog-articles/#6-tag-categorization","title":"6. Tag Categorization","text":""},{"location":"features/blog-articles/#many-to-many-relationship","title":"Many-to-Many Relationship","text":"<p>Join Table: <code>article_tags</code></p> <p>Columns: - <code>article_id</code> (FK \u2192 articles.id) - <code>tag_id</code> (FK \u2192 tags.id)</p>"},{"location":"features/blog-articles/#tag-operations","title":"Tag Operations","text":"<p>Adding Tags: <pre><code>public void addTag(Tag tag) {\n    this.tags.add(tag);\n}\n</code></pre></p> <p>Removing Tags: <pre><code>public void removeTag(Tag tag) {\n    this.tags.remove(tag);\n}\n</code></pre></p>"},{"location":"features/blog-articles/#cascade-behavior","title":"Cascade Behavior","text":"<p>Article Creation/Update: - <code>CascadeType.PERSIST</code>: Tags are persisted when article is created - <code>CascadeType.MERGE</code>: Tags are merged when article is updated</p> <p>Article Deletion: - Tags are NOT deleted (only relationship removed) - Tags can be reused across multiple articles</p> <p>Tag Deletion: - Article-tag relationships are removed - Articles remain intact</p>"},{"location":"features/blog-articles/#7-image-management","title":"7. Image Management","text":""},{"location":"features/blog-articles/#articleimage-entity","title":"ArticleImage Entity","text":"<p>Relationship: OneToMany with cascade and orphan removal</p> <p>Entity Listener: <code>ArticleEntityListener</code></p> <p>Lifecycle Hook (<code>@PreRemove</code>): <pre><code>@PreRemove\npublic void preRemove(Article article) {\n    if (article.getImages() != null &amp;&amp; !article.getImages().isEmpty()) {\n        for (ArticleImage image : article.getImages()) {\n            imageService.deleteArticleImage(image.getImageUrl());\n        }\n    }\n}\n</code></pre></p>"},{"location":"features/blog-articles/#automatic-cleanup","title":"Automatic Cleanup","text":"<p>When Article is Deleted: 1. <code>@PreRemove</code> hook triggered 2. All associated <code>ArticleImage</code> records fetched 3. Each image file deleted from filesystem via <code>ImageService</code> 4. Database records removed via orphan removal</p> <p>Benefits: - Prevents orphaned image files - Automatic storage management - No manual cleanup required</p>"},{"location":"features/blog-articles/#image-operations","title":"Image Operations","text":"<p>Adding Images: <pre><code>public void addImage(ArticleImage image) {\n    this.images.add(image);\n    image.setArticle(this);  // Maintain bidirectional relationship\n}\n</code></pre></p> <p>Removing Images: <pre><code>public void removeImage(ArticleImage image) {\n    this.images.remove(image);\n    image.setArticle(null);  // Break bidirectional relationship\n}\n</code></pre></p>"},{"location":"features/blog-articles/#8-pagination-support","title":"8. Pagination Support","text":""},{"location":"features/blog-articles/#paginated-endpoints","title":"Paginated Endpoints","text":"<p>Public Endpoint: <pre><code>GET /api/articles/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n</code></pre></p> <p>Admin Endpoint: <pre><code>GET /api/articles/admin/paginated?page=0&amp;size=10&amp;sort=publishedAt,desc\n</code></pre></p>"},{"location":"features/blog-articles/#default-configuration","title":"Default Configuration","text":"<pre><code>@PageableDefault(size = 10, sort = \"publishedAt\")\nPageable pageable\n</code></pre> <p>Defaults: - Page number: 0 (first page) - Page size: 10 articles - Sort field: <code>publishedAt</code> - Sort direction: Descending (newest first)</p>"},{"location":"features/blog-articles/#response-structure","title":"Response Structure","text":"<pre><code>{\n  \"content\": [\n    {\n      \"id\": 1,\n      \"title\": \"Article Title\",\n      \"slug\": \"article-title\",\n      \"excerpt\": \"Article summary...\",\n      \"publishedAt\": \"2025-11-19T10:00:00\",\n      \"readingTimeMinutes\": 5,\n      \"tags\": [...]\n    }\n  ],\n  \"pageable\": {\n    \"pageNumber\": 0,\n    \"pageSize\": 10,\n    \"sort\": {...}\n  },\n  \"totalElements\": 45,\n  \"totalPages\": 5,\n  \"last\": false,\n  \"first\": true,\n  \"numberOfElements\": 10\n}\n</code></pre>"},{"location":"features/blog-articles/#query-parameters","title":"Query Parameters","text":"Parameter Type Description Example <code>page</code> integer Page number (zero-indexed) <code>page=0</code> <code>size</code> integer Number of articles per page <code>size=20</code> <code>sort</code> string Sort field and direction <code>sort=title,asc</code>"},{"location":"features/blog-articles/#9-configuration","title":"9. Configuration","text":""},{"location":"features/blog-articles/#flexmark-configuration","title":"Flexmark Configuration","text":"<p>Library: <code>com.vladsch.flexmark:flexmark-all</code></p> <p>Extensions: <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladsch.flexmark&lt;/groupId&gt;\n    &lt;artifactId&gt;flexmark-all&lt;/artifactId&gt;\n    &lt;version&gt;0.64.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></p>"},{"location":"features/blog-articles/#entity-listeners","title":"Entity Listeners","text":"<p>Registration: <pre><code>@EntityListeners(ArticleEntityListener.class)\npublic class Article { ... }\n</code></pre></p> <p>Component Injection: <pre><code>@Component\npublic class ArticleEntityListener {\n    @Autowired\n    public void setImageService(@Lazy ImageService imageService) {\n        this.imageService = imageService;\n    }\n}\n</code></pre></p> <p>Note: <code>@Lazy</code> injection prevents circular dependency issues during entity initialization.</p>"},{"location":"features/blog-articles/#related-documentation","title":"Related Documentation","text":"<ul> <li>Articles API - Complete API reference</li> <li>Tags API - Tag management</li> <li>Features: Image Processing - Image upload and optimization</li> <li>Architecture: Database Schema - Database structure</li> </ul>"},{"location":"features/contact-form/","title":"Contact Form Feature","text":""},{"location":"features/contact-form/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Form Structure</li> <li>Rate Limiting</li> <li>Email Sending</li> <li>IP Address Extraction</li> <li>Redis Integration</li> <li>Configuration</li> </ol>"},{"location":"features/contact-form/#1-overview","title":"1. Overview","text":"<p>The Contact Form feature provides a public endpoint for users to send messages without requiring authentication. Built with spam prevention through IP-based rate limiting and Redis-backed quota tracking.</p> <p>Key Capabilities: - Public contact form submission - Email sending to portfolio owner - IP-based rate limiting (default: 5 messages per hour) - Redis-backed distributed rate limit tracking - Automatic quota reset after 1-hour window - Comprehensive input validation - Support for proxied requests (X-Forwarded-For header)</p> <p>Security Features: - Rate limiting prevents spam and abuse - IP tracking for quota management - Validation of all input fields - No authentication required (public access)</p>"},{"location":"features/contact-form/#2-form-structure","title":"2. Form Structure","text":""},{"location":"features/contact-form/#contactrequest-dto","title":"ContactRequest DTO","text":"<p>Request Model (<code>com.emmanuelgabe.portfolio.dto.ContactRequest</code>):</p> <pre><code>@Data\npublic class ContactRequest {\n    private String name;      // 2-100 characters\n    private String email;     // Valid email, max 100 characters\n    private String subject;   // 3-200 characters\n    private String message;   // 10-5000 characters\n}\n</code></pre>"},{"location":"features/contact-form/#field-details","title":"Field Details","text":"Field Type Required Constraints Description <code>name</code> String Yes 2-100 chars Sender's full name <code>email</code> String Yes Valid email, max 100 chars Sender's email address <code>subject</code> String Yes 3-200 chars Message subject line <code>message</code> String Yes 10-5000 chars Message body"},{"location":"features/contact-form/#validation-rules","title":"Validation Rules","text":"<p>Name Validation: <pre><code>@NotBlank(message = \"Name is required\")\n@Size(min = 2, max = 100, message = \"Name must be between 2 and 100 characters\")\n</code></pre> - Minimum 2 characters prevents single-letter entries - Maximum 100 characters prevents abuse</p> <p>Email Validation: <pre><code>@NotBlank(message = \"Email is required\")\n@Email(message = \"Email must be valid\")\n@Size(max = 100, message = \"Email must not exceed 100 characters\")\n</code></pre> - Must be RFC 5322 compliant email format - Examples: <code>john.doe@example.com</code>, <code>user+tag@domain.co.uk</code></p> <p>Subject Validation: <pre><code>@NotBlank(message = \"Subject is required\")\n@Size(min = 3, max = 200, message = \"Subject must be between 3 and 200 characters\")\n</code></pre> - Minimum 3 characters ensures meaningful subject - Maximum 200 characters for reasonable length</p> <p>Message Validation: <pre><code>@NotBlank(message = \"Message is required\")\n@Size(min = 10, max = 5000, message = \"Message must be between 10 and 5000 characters\")\n</code></pre> - Minimum 10 characters prevents spam - Maximum 5000 characters prevents abuse</p>"},{"location":"features/contact-form/#contactresponse-dto","title":"ContactResponse DTO","text":"<p>Response Model (<code>com.emmanuelgabe.portfolio.dto.ContactResponse</code>):</p> <pre><code>@Data\npublic class ContactResponse {\n    private String message;     // Response message\n    private boolean success;    // Success indicator\n    private LocalDateTime timestamp;  // Response timestamp\n}\n</code></pre> <p>Factory Methods: <pre><code>ContactResponse.success(\"Your message has been sent successfully.\")\nContactResponse.error(\"Rate limit exceeded. Please try again later.\")\n</code></pre></p>"},{"location":"features/contact-form/#3-rate-limiting","title":"3. Rate Limiting","text":""},{"location":"features/contact-form/#rate-limit-strategy","title":"Rate Limit Strategy","text":"<p>Implementation: IP-based rate limiting using Redis</p> <p>Default Configuration: - Max Requests: 5 messages per hour per IP - Window Size: 1 hour (fixed window) - Reset: Automatic after 1 hour</p>"},{"location":"features/contact-form/#rate-limit-flow","title":"Rate Limit Flow","text":"<pre><code>1. Client submits contact form\n2. Extract client IP address\n3. Check Redis counter for IP\n4. If count &gt; limit:\n   \u2192 Return 429 Too Many Requests\n5. If count &lt;= limit:\n   \u2192 Send email\n   \u2192 Return 200 OK\n</code></pre>"},{"location":"features/contact-form/#ratelimitservice-interface","title":"RateLimitService Interface","text":"<p>Service Contract (<code>com.emmanuelgabe.portfolio.service.RateLimitService</code>):</p> <pre><code>public interface RateLimitService {\n    boolean isAllowed(String ip);\n    long getRemainingAttempts(String ip);\n}\n</code></pre> <p>Method Descriptions: - <code>isAllowed(ip)</code>: Checks if IP is allowed to make a request, increments counter - <code>getRemainingAttempts(ip)</code>: Returns remaining quota without incrementing</p>"},{"location":"features/contact-form/#rate-limit-implementation","title":"Rate Limit Implementation","text":"<p>Service Implementation (<code>com.emmanuelgabe.portfolio.service.impl.RateLimitServiceImpl</code>):</p> <pre><code>@Service\npublic class RateLimitServiceImpl implements RateLimitService {\n    private static final String RATE_LIMIT_KEY_PREFIX = \"rate_limit:contact:\";\n    private static final long WINDOW_SIZE_HOURS = 1;\n\n    @Value(\"${app.rate-limit.contact.max-requests-per-hour:5}\")\n    private int maxRequestsPerHour;\n\n    @Override\n    public boolean isAllowed(String ip) {\n        String key = RATE_LIMIT_KEY_PREFIX + ip;\n        Long count = redisTemplate.opsForValue().increment(key);\n\n        if (count == 1) {\n            redisTemplate.expire(key, WINDOW_SIZE_HOURS, TimeUnit.HOURS);\n        }\n\n        return count &lt;= maxRequestsPerHour;\n    }\n}\n</code></pre>"},{"location":"features/contact-form/#rate-limit-enforcement","title":"Rate Limit Enforcement","text":"<p>Controller Logic: <pre><code>@PostMapping\npublic ResponseEntity&lt;ContactResponse&gt; sendContactMessage(\n        @Valid @RequestBody ContactRequest request,\n        HttpServletRequest httpRequest) {\n\n    String ip = IpAddressExtractor.extractIpAddress(httpRequest);\n\n    // Check rate limiting\n    if (!rateLimitService.isAllowed(ip)) {\n        String errorMessage = String.format(\n            \"Rate limit exceeded. You can send maximum %d messages per hour.\",\n            maxRequestsPerHour\n        );\n        ContactResponse response = ContactResponse.error(errorMessage);\n        return ResponseEntity.status(HttpStatus.TOO_MANY_REQUESTS).body(response);\n    }\n\n    // Send email\n    ContactResponse response = contactService.sendContactEmail(request);\n    return ResponseEntity.ok(response);\n}\n</code></pre></p>"},{"location":"features/contact-form/#4-email-sending","title":"4. Email Sending","text":""},{"location":"features/contact-form/#contactservice-interface","title":"ContactService Interface","text":"<p>Service Contract (<code>com.emmanuelgabe.portfolio.service.ContactService</code>):</p> <pre><code>public interface ContactService {\n    ContactResponse sendContactEmail(ContactRequest request);\n}\n</code></pre>"},{"location":"features/contact-form/#email-sending-process","title":"Email Sending Process","text":"<ol> <li>Validate Request: Validated by <code>@Valid</code> annotation before reaching service</li> <li>Compose Email: Create email with sender details and message</li> <li>Send Email: Use configured email service (SMTP)</li> <li>Return Response: Success or error response</li> </ol>"},{"location":"features/contact-form/#email-configuration","title":"Email Configuration","text":"<p>Required Properties: <pre><code>spring:\n  mail:\n    host: smtp.example.com\n    port: 587\n    username: your-email@example.com\n    password: your-password\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n</code></pre></p>"},{"location":"features/contact-form/#error-handling","title":"Error Handling","text":"<p>Email Send Failure: <pre><code>try {\n    // Send email logic\n    return ContactResponse.success(\"Your message has been sent successfully.\");\n} catch (Exception e) {\n    log.error(\"[CONTACT] Failed to send email - error={}\", e.getMessage(), e);\n    return ContactResponse.error(\"Failed to send email. Please try again later.\");\n}\n</code></pre></p> <p>HTTP Status: - Success: 200 OK - Email Failure: 500 Internal Server Error</p>"},{"location":"features/contact-form/#5-ip-address-extraction","title":"5. IP Address Extraction","text":""},{"location":"features/contact-form/#ipaddressextractor-utility","title":"IpAddressExtractor Utility","text":"<p>Purpose: Extract client IP address from HTTP request, supporting proxied requests</p> <p>Implementation (<code>com.emmanuelgabe.portfolio.util.IpAddressExtractor</code>):</p> <pre><code>public class IpAddressExtractor {\n    public static String extractIpAddress(HttpServletRequest request) {\n        String ip = request.getHeader(\"X-Forwarded-For\");\n\n        if (ip == null || ip.isEmpty() || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"Proxy-Client-IP\");\n        }\n        if (ip == null || ip.isEmpty() || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getHeader(\"WL-Proxy-Client-IP\");\n        }\n        if (ip == null || ip.isEmpty() || \"unknown\".equalsIgnoreCase(ip)) {\n            ip = request.getRemoteAddr();\n        }\n\n        // X-Forwarded-For can contain multiple IPs (comma-separated)\n        // The first IP is the original client IP\n        if (ip != null &amp;&amp; ip.contains(\",\")) {\n            ip = ip.split(\",\")[0].trim();\n        }\n\n        return ip;\n    }\n}\n</code></pre>"},{"location":"features/contact-form/#header-priority","title":"Header Priority","text":"<ol> <li>X-Forwarded-For: Standard header for proxied requests</li> <li>Proxy-Client-IP: Alternative proxy header</li> <li>WL-Proxy-Client-IP: WebLogic proxy header</li> <li>RemoteAddr: Direct connection IP (fallback)</li> </ol>"},{"location":"features/contact-form/#use-cases","title":"Use Cases","text":"<p>Direct Connection: <pre><code>Client (192.168.1.100) \u2192 Server\n\u2192 IP = 192.168.1.100 (from RemoteAddr)\n</code></pre></p> <p>Proxied Connection: <pre><code>Client (203.0.113.5) \u2192 Proxy (10.0.0.1) \u2192 Server\n\u2192 X-Forwarded-For: 203.0.113.5\n\u2192 IP = 203.0.113.5 (from X-Forwarded-For)\n</code></pre></p> <p>Multiple Proxies: <pre><code>Client (203.0.113.5) \u2192 Proxy1 (10.0.0.1) \u2192 Proxy2 (10.0.0.2) \u2192 Server\n\u2192 X-Forwarded-For: 203.0.113.5, 10.0.0.1\n\u2192 IP = 203.0.113.5 (first IP in chain)\n</code></pre></p>"},{"location":"features/contact-form/#6-redis-integration","title":"6. Redis Integration","text":""},{"location":"features/contact-form/#redis-configuration","title":"Redis Configuration","text":"<p>Configuration Class (<code>com.emmanuelgabe.portfolio.config.RateLimitConfig</code>):</p> <pre><code>@Configuration\npublic class RateLimitConfig {\n    @Bean\n    public RedisTemplate&lt;String, Long&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\n        RedisTemplate&lt;String, Long&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(connectionFactory);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericToStringSerializer&lt;&gt;(Long.class));\n        return template;\n    }\n}\n</code></pre>"},{"location":"features/contact-form/#redis-key-structure","title":"Redis Key Structure","text":"<p>Key Format: <code>rate_limit:contact:{ip}</code></p> <p>Examples: <pre><code>rate_limit:contact:192.168.1.100 = 3   (TTL: 2400 seconds)\nrate_limit:contact:10.0.0.50 = 5       (TTL: 1800 seconds)\nrate_limit:contact:172.16.0.1 = 1      (TTL: 3599 seconds)\n</code></pre></p>"},{"location":"features/contact-form/#redis-operations","title":"Redis Operations","text":"<p>Increment Counter: <pre><code>Long count = redisTemplate.opsForValue().increment(key);\n</code></pre> - Atomically increments counter - Creates key if doesn't exist - Thread-safe in distributed environment</p> <p>Set Expiration: <pre><code>redisTemplate.expire(key, WINDOW_SIZE_HOURS, TimeUnit.HOURS);\n</code></pre> - Sets TTL of 1 hour on first request - Automatic cleanup after expiration</p> <p>Get Counter: <pre><code>String value = redisTemplate.opsForValue().get(key);\nlong count = Long.parseLong(value);\n</code></pre> - Retrieves current count without incrementing</p>"},{"location":"features/contact-form/#redis-connection","title":"Redis Connection","text":"<p>Required Properties: <pre><code>spring:\n  data:\n    redis:\n      host: localhost\n      port: 6379\n      password: ${REDIS_PASSWORD:}\n      timeout: 3000ms\n</code></pre></p>"},{"location":"features/contact-form/#7-configuration","title":"7. Configuration","text":""},{"location":"features/contact-form/#application-properties","title":"Application Properties","text":"<p>Rate Limit Configuration: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Configurable quota per IP\n</code></pre></p> <p>Email Configuration: <pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${MAIL_USERNAME}\n    password: ${MAIL_APP_PASSWORD}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n</code></pre></p> <p>Redis Configuration: <pre><code>spring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n</code></pre></p>"},{"location":"features/contact-form/#environment-specific-settings","title":"Environment-Specific Settings","text":"<p>Development: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 10  # More lenient for testing\n</code></pre></p> <p>Production: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3   # Stricter for production\n</code></pre></p>"},{"location":"features/contact-form/#configuration-injection","title":"Configuration Injection","text":"<p>Controller Level: <pre><code>@Value(\"${app.rate-limit.contact.max-requests-per-hour:5}\")\nprivate int maxRequestsPerHour;\n</code></pre></p> <p>Service Level: <pre><code>@Value(\"${app.rate-limit.contact.max-requests-per-hour:5}\")\nprivate int maxRequestsPerHour;\n</code></pre></p> <p>Default Value: 5 (used if property not configured)</p>"},{"location":"features/contact-form/#related-documentation","title":"Related Documentation","text":"<ul> <li>Contact API - Complete API reference</li> <li>Security: Rate Limiting - Rate limiting implementation details</li> <li>Reference: Configuration Properties - All configuration options</li> </ul>"},{"location":"features/cv-management/","title":"CV Management System","text":""},{"location":"features/cv-management/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Architecture</li> <li>Versioning System</li> <li>Database Schema</li> <li>Configuration</li> </ol>"},{"location":"features/cv-management/#1-overview","title":"1. Overview","text":"<p>The CV Management System provides a complete solution for uploading, versioning, and managing CV/resume files with a single \"current\" CV designation.</p> <p>Key Features: - Multiple CV versions support - Single \"current\" CV at any time - User tracking (who uploaded each CV) - Public access to current CV - Admin-only upload and management - PDF validation and security</p> <p>Use Case: Portfolio website owner can upload multiple CV versions, set one as current for public download, and maintain historical versions.</p>"},{"location":"features/cv-management/#2-architecture","title":"2. Architecture","text":""},{"location":"features/cv-management/#component-diagram","title":"Component Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Frontend (Angular)                    \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Public Pages  \u2502  \u2502  Admin Pages   \u2502  \u2502  CV Service    \u2502 \u2502\n\u2502  \u2502                \u2502  \u2502                \u2502  \u2502                \u2502 \u2502\n\u2502  \u2502 - Download CV  \u2502  \u2502 - Upload CV    \u2502  \u2502 - HTTP Client  \u2502 \u2502\n\u2502  \u2502 - View current \u2502  \u2502 - List all CVs \u2502  \u2502 - File upload  \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 - Set current  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502           \u2502          \u2502 - Delete CV    \u2502           \u2502         \u2502\n\u2502           \u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502         \u2502\n\u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502 HTTP/REST\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Backend (Spring Boot)                \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  CvController  \u2502  \u2502   CvService    \u2502  \u2502 FileStorage    \u2502 \u2502\n\u2502  \u2502                \u2502  \u2502                \u2502  \u2502    Service     \u2502 \u2502\n\u2502  \u2502 - Public API   \u2502\u2500&gt;\u2502 - Business     \u2502\u2500&gt;\u2502                \u2502 \u2502\n\u2502  \u2502 - Admin API    \u2502  \u2502   logic        \u2502  \u2502 - Upload       \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 - Validation   \u2502  \u2502 - Delete       \u2502 \u2502\n\u2502                      \u2502 - Versioning   \u2502  \u2502 - Validation   \u2502 \u2502\n\u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                               \u2502                              \u2502\n\u2502                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502                      \u2502 CvRepository   \u2502                      \u2502\n\u2502                      \u2502                \u2502                      \u2502\n\u2502                      \u2502 - JPA CRUD     \u2502                      \u2502\n\u2502                      \u2502 - Custom query \u2502                      \u2502\n\u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502 JDBC\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PostgreSQL Database                    \u2502\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502  \u2502   cvs table    \u2502  \u2502  users table   \u2502                      \u2502\n\u2502  \u2502                \u2502  \u2502                \u2502                      \u2502\n\u2502  \u2502 - id           \u2502  \u2502 - id           \u2502                      \u2502\n\u2502  \u2502 - filename     \u2502  \u2502 - username     \u2502                      \u2502\n\u2502  \u2502 - file_path    \u2502  \u2502 - password     \u2502                      \u2502\n\u2502  \u2502 - is_current   \u2502  \u2502 - roles        \u2502                      \u2502\n\u2502  \u2502 - user_id (FK) \u2502&lt;\u2500\u2502                \u2502                      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        File System                            \u2502\n\u2502                                                               \u2502\n\u2502  uploads/cvs/                                                 \u2502\n\u2502  \u251c\u2500\u2500 cv_1_1700000000.pdf                                      \u2502\n\u2502  \u251c\u2500\u2500 cv_2_1700100000.pdf                                      \u2502\n\u2502  \u2514\u2500\u2500 cv_3_1700200000.pdf (current)                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/cv-management/#request-flow","title":"Request Flow","text":"<p>Upload CV Flow: <pre><code>User \u2192 AdminCvComponent \u2192 CvService (Angular)\n\u2192 POST /api/admin/cv/upload\n\u2192 CvController \u2192 CvService (Spring)\n\u2192 FileStorageService \u2192 File System\n\u2192 CvRepository \u2192 Database\n\u2192 Response with CV metadata\n</code></pre></p> <p>Get Current CV Flow: <pre><code>User \u2192 HomePage \u2192 CvService (Angular)\n\u2192 GET /api/cv/current\n\u2192 CvController \u2192 CvService (Spring)\n\u2192 CvRepository \u2192 Database (WHERE is_current = true)\n\u2192 Response with CV metadata\n</code></pre></p> <p>Download CV Flow: <pre><code>User \u2192 Click download \u2192 CvService (Angular)\n\u2192 GET /api/cv/download/{id}\n\u2192 CvController \u2192 CvService (Spring)\n\u2192 File System \u2192 Read PDF\n\u2192 Stream PDF to client\n</code></pre></p>"},{"location":"features/cv-management/#3-versioning-system","title":"3. Versioning System","text":""},{"location":"features/cv-management/#how-versioning-works","title":"How Versioning Works","text":"<p>The system supports multiple CV versions with a \"current\" flag to designate which CV is publicly visible.</p> <p>Key Rules: 1. Multiple Versions: Unlimited CV uploads allowed 2. Single Current: Only ONE CV can be marked as <code>is_current = true</code> at any time 3. Manual Activation: New uploads are NOT automatically current 4. Database Constraint: Unique index enforces single current CV</p>"},{"location":"features/cv-management/#version-states","title":"Version States","text":"State Description Public Access Admin Actions Current Active CV shown on public pages Yes Download, Delete Historical Previous CV versions No Set as current, Download, Delete"},{"location":"features/cv-management/#setting-current-cv","title":"Setting Current CV","text":"<p>Process: <pre><code>-- Step 1: Unset all current CVs\nUPDATE cvs SET is_current = false WHERE is_current = true;\n\n-- Step 2: Set new current CV\nUPDATE cvs SET is_current = true WHERE id = ?;\n</code></pre></p> <p>Backend Implementation: <pre><code>@Transactional\npublic CvResponse setCurrentCv(Long cvId) {\n    // Unset all current CVs\n    cvRepository.unsetAllCurrent();\n\n    // Set new current\n    Cv cv = cvRepository.findById(cvId)\n        .orElseThrow(() -&gt; new ResourceNotFoundException(\"CV not found\"));\n\n    cv.setIsCurrent(true);\n    Cv updated = cvRepository.save(cv);\n\n    return cvMapper.toResponse(updated);\n}\n</code></pre></p>"},{"location":"features/cv-management/#database-constraint","title":"Database Constraint","text":"<p>Unique Index ensures only one current CV: <pre><code>CREATE UNIQUE INDEX unique_current_cv ON cvs (is_current) WHERE is_current = true;\n</code></pre></p> <p>Why This Works: - Partial unique index (only rows where <code>is_current = true</code>) - Multiple <code>false</code> values allowed (no constraint) - Exactly one <code>true</code> value allowed (enforced by database) - Prevents race conditions</p>"},{"location":"features/cv-management/#4-database-schema","title":"4. Database Schema","text":""},{"location":"features/cv-management/#cvs-table","title":"CVs Table","text":"<p>Migration: <code>V5__create_cvs_table.sql</code></p> <pre><code>CREATE TABLE cvs (\n    id BIGSERIAL PRIMARY KEY,\n    filename VARCHAR(255) NOT NULL,\n    file_path VARCHAR(500) NOT NULL,\n    uploaded_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    is_current BOOLEAN NOT NULL DEFAULT false,\n    user_id BIGINT NOT NULL,\n    CONSTRAINT fk_cvs_user FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n\n-- Ensure only one CV can be current at a time\nCREATE UNIQUE INDEX unique_current_cv ON cvs (is_current) WHERE is_current = true;\n\n-- Index for fast lookup of current CV\nCREATE INDEX idx_cvs_is_current ON cvs (is_current);\n</code></pre> <p>Columns: | Column | Type | Nullable | Description | |--------|------|----------|-------------| | <code>id</code> | BIGSERIAL | No | Primary key | | <code>filename</code> | VARCHAR(255) | No | Original filename | | <code>file_path</code> | VARCHAR(500) | No | Server file path | | <code>uploaded_at</code> | TIMESTAMP | No | Upload timestamp | | <code>is_current</code> | BOOLEAN | No | Current CV flag (default: false) | | <code>user_id</code> | BIGINT | No | Foreign key to users table |</p> <p>Indexes: - Primary key on <code>id</code> - Unique partial index on <code>is_current</code> (WHERE <code>is_current = true</code>) - Regular index on <code>is_current</code> for fast lookups</p> <p>Constraints: - Foreign key to <code>users(id)</code> with CASCADE delete - Unique current CV (enforced by partial index)</p>"},{"location":"features/cv-management/#5-configuration","title":"5. Configuration","text":""},{"location":"features/cv-management/#application-properties","title":"Application Properties","text":"<p>File: <code>application.yml</code></p> <pre><code>file:\n  upload:\n    base-path: uploads\n    cv-path: cvs\n    max-size: 10MB\n\nspring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre>"},{"location":"features/cv-management/#environment-variables","title":"Environment Variables","text":"<pre><code># Optional: Override upload paths\nFILE_UPLOAD_BASE_PATH=/var/www/uploads\nFILE_UPLOAD_CV_PATH=cvs\n\n# Optional: Override max file size\nSPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=20MB\n</code></pre>"},{"location":"features/cv-management/#docker-volume","title":"Docker Volume","text":"<p>docker-compose.yml: <pre><code>services:\n  portfolio-backend:\n    volumes:\n      - cv-uploads:/app/uploads/cvs\n    environment:\n      - FILE_UPLOAD_BASE_PATH=/app/uploads\n\nvolumes:\n  cv-uploads:\n</code></pre></p> <p>Benefits: - Persistent storage across container restarts - Shared storage in multi-container setups - Easy backup and restore</p>"},{"location":"features/cv-management/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: CV Management - CV API endpoints</li> <li>Features: File Storage - File storage architecture</li> <li>Security: RBAC - Role-based access control</li> <li>Development: Testing - Testing guidelines</li> </ul>"},{"location":"features/experience-management/","title":"Experience Management Feature","text":""},{"location":"features/experience-management/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Experience Types</li> <li>Experience Structure</li> <li>Date Range Management</li> <li>Ongoing Experiences</li> <li>Filtering and Retrieval</li> <li>Chronological Sorting</li> <li>Configuration</li> </ol>"},{"location":"features/experience-management/#1-overview","title":"1. Overview","text":"<p>The Experience Management feature provides a comprehensive system for managing professional, educational, certification, and volunteering experiences. Used to build an interactive timeline showcasing career and educational milestones.</p> <p>Key Capabilities: - Four distinct experience types for categorization - Date range tracking with ongoing experience support - Type-based filtering for targeted retrieval - Chronological sorting by start date - Recent experiences summary for homepage - Full CRUD operations with admin access control - Date validation and business logic</p> <p>Public Access: - View all experiences in chronological order - Filter experiences by type - View ongoing experiences - Retrieve recent experiences with configurable limit</p> <p>Admin Access: - Create, update, and delete experiences - Manage all experience types - Edit date ranges and descriptions</p>"},{"location":"features/experience-management/#2-experience-types","title":"2. Experience Types","text":""},{"location":"features/experience-management/#experiencetype-enum","title":"ExperienceType Enum","text":"<p>Definition (<code>com.emmanuelgabe.portfolio.entity.ExperienceType</code>):</p> <pre><code>public enum ExperienceType {\n    WORK,           // Professional work experience\n    EDUCATION,      // Educational experience\n    CERTIFICATION,  // Professional certifications\n    VOLUNTEERING    // Volunteer work and community service\n}\n</code></pre>"},{"location":"features/experience-management/#type-descriptions","title":"Type Descriptions","text":"Type Description Use Cases <code>WORK</code> Professional work experience Full-time jobs, internships, freelance projects, consulting <code>EDUCATION</code> Educational experience Bachelor's, Master's, PhD degrees, diplomas, online courses <code>CERTIFICATION</code> Professional certifications Technical certifications (AWS, Azure, Oracle), qualifications, licenses <code>VOLUNTEERING</code> Volunteer work Community service, open source contributions, mentorship, non-profit work"},{"location":"features/experience-management/#type-specific-fields","title":"Type-Specific Fields","text":"<p>All Types Share: - Company/Organization name - Role/Position/Degree title - Start and end dates - Detailed description - Created/Updated timestamps</p> <p>Field Naming Conventions: - <code>WORK</code>: company = \"Acme Corporation\", role = \"Senior Software Engineer\" - <code>EDUCATION</code>: company = \"Tech University\", role = \"Master's Degree in Computer Science\" - <code>CERTIFICATION</code>: company = \"Oracle\", role = \"Oracle Certified Professional Java SE 17\" - <code>VOLUNTEERING</code>: company = \"Local Tech Community\", role = \"Volunteer Mentor\"</p>"},{"location":"features/experience-management/#3-experience-structure","title":"3. Experience Structure","text":""},{"location":"features/experience-management/#entity-model","title":"Entity Model","text":"<p>Experience Entity (<code>com.emmanuelgabe.portfolio.entity.Experience</code>):</p> <pre><code>@Entity\n@Table(name = \"experiences\")\npublic class Experience {\n    private Long id;\n    private String company;           // 2-200 characters\n    private String role;              // 2-200 characters\n    private LocalDate startDate;      // Required, past or present\n    private LocalDate endDate;        // Optional, null for ongoing\n    private String description;       // 10-2000 characters\n    private ExperienceType type;      // Required enum value\n    private LocalDateTime createdAt;  // Auto-generated\n    private LocalDateTime updatedAt;  // Auto-updated\n}\n</code></pre>"},{"location":"features/experience-management/#field-details","title":"Field Details","text":"Field Type Required Constraints Description <code>id</code> Long No Auto-generated Primary key <code>company</code> String Yes 2-200 chars Company or organization name <code>role</code> String Yes 2-200 chars Job title, degree, or certification name <code>startDate</code> LocalDate Yes Past/present Experience start date <code>endDate</code> LocalDate No Past/present, nullable Experience end date (null = ongoing) <code>description</code> String Yes 10-2000 chars Detailed description of responsibilities, achievements <code>type</code> ExperienceType Yes Enum value Type of experience <code>createdAt</code> LocalDateTime No Auto-generated Creation timestamp <code>updatedAt</code> LocalDateTime No Auto-updated Last modification timestamp"},{"location":"features/experience-management/#business-methods","title":"Business Methods","text":"<p>Check if Experience is Ongoing: <pre><code>public boolean isOngoing() {\n    return this.endDate == null;\n}\n</code></pre></p> <p>Date Validation: <pre><code>public void validateDates() {\n    if (this.endDate != null &amp;&amp; this.endDate.isBefore(this.startDate)) {\n        throw new IllegalStateException(\"End date cannot be before start date\");\n    }\n}\n</code></pre></p>"},{"location":"features/experience-management/#4-date-range-management","title":"4. Date Range Management","text":""},{"location":"features/experience-management/#date-validation-rules","title":"Date Validation Rules","text":"<ol> <li>Start Date:</li> <li>Must not be null</li> <li>Must be in the past or present (not future)</li> <li> <p>Validated via <code>@PastOrPresent</code> annotation</p> </li> <li> <p>End Date:</p> </li> <li>Optional (nullable for ongoing experiences)</li> <li>Must be in the past or present if provided</li> <li>Must be equal to or after start date</li> <li>Validated via <code>@PastOrPresent</code> annotation</li> </ol>"},{"location":"features/experience-management/#date-validation-examples","title":"Date Validation Examples","text":"<p>Valid Date Ranges: <pre><code>startDate: 2020-01-15, endDate: 2023-06-30  [OK] Completed experience\nstartDate: 2023-01-15, endDate: null         [OK] Ongoing experience\nstartDate: 2023-05-10, endDate: 2023-05-10  [OK] Single-day experience (certifications)\n</code></pre></p> <p>Invalid Date Ranges: <pre><code>startDate: 2030-01-01, endDate: null         [ERR] Future start date\nstartDate: 2020-01-15, endDate: 2019-12-31  [ERR] End before start\nstartDate: 2020-01-15, endDate: 2030-12-31  [ERR] Future end date\n</code></pre></p>"},{"location":"features/experience-management/#date-handling-in-ui","title":"Date Handling in UI","text":"<p>Display Formats: - Ongoing: \"January 2023 - Present\" - Completed: \"January 2023 - June 2023\" - Single Day: \"May 10, 2023\" (for certifications)</p> <p>Duration Calculation: <pre><code>startDate: 2020-01-15\nendDate: 2023-06-30\n\u2192 Duration: 3 years 5 months\n</code></pre></p>"},{"location":"features/experience-management/#5-ongoing-experiences","title":"5. Ongoing Experiences","text":""},{"location":"features/experience-management/#definition","title":"Definition","text":"<p>An experience is considered ongoing when <code>endDate</code> is <code>null</code>.</p> <p>Endpoint: <code>GET /api/experiences/ongoing</code></p>"},{"location":"features/experience-management/#use-cases","title":"Use Cases","text":"<ol> <li>Current Job: Display current employment status</li> <li>Active Studies: Show ongoing education programs</li> <li>Long-term Volunteering: Indicate active volunteer commitments</li> </ol>"},{"location":"features/experience-management/#examples","title":"Examples","text":"<p>Ongoing Work Experience: <pre><code>{\n  \"id\": 1,\n  \"company\": \"Acme Corporation\",\n  \"role\": \"Senior Software Engineer\",\n  \"startDate\": \"2023-01-15\",\n  \"endDate\": null,\n  \"type\": \"WORK\",\n  \"ongoing\": true,\n  \"description\": \"Leading development of microservices...\"\n}\n</code></pre></p> <p>Ongoing Volunteering: <pre><code>{\n  \"id\": 5,\n  \"company\": \"Local Tech Community\",\n  \"role\": \"Volunteer Mentor\",\n  \"startDate\": \"2024-06-01\",\n  \"endDate\": null,\n  \"type\": \"VOLUNTEERING\",\n  \"ongoing\": true,\n  \"description\": \"Mentoring aspiring developers...\"\n}\n</code></pre></p>"},{"location":"features/experience-management/#ongoing-experience-query","title":"Ongoing Experience Query","text":"<p>Service Method: <pre><code>public List&lt;ExperienceResponse&gt; getOngoingExperiences() {\n    return experienceRepository.findByEndDateIsNull()\n        .stream()\n        .map(experienceMapper::toResponse)\n        .collect(Collectors.toList());\n}\n</code></pre></p> <p>Repository Method: <pre><code>List&lt;Experience&gt; findByEndDateIsNull();\n</code></pre></p>"},{"location":"features/experience-management/#6-filtering-and-retrieval","title":"6. Filtering and Retrieval","text":""},{"location":"features/experience-management/#filter-by-type","title":"Filter by Type","text":"<p>Endpoint: <code>GET /api/experiences/type/{type}</code></p> <p>Supported Types: - <code>GET /api/experiences/type/WORK</code> - All work experiences - <code>GET /api/experiences/type/EDUCATION</code> - All education experiences - <code>GET /api/experiences/type/CERTIFICATION</code> - All certifications - <code>GET /api/experiences/type/VOLUNTEERING</code> - All volunteering experiences</p> <p>Use Cases: - Display work history separately from education - Show certifications in a dedicated section - Highlight volunteer work</p> <p>Example Request: <pre><code>curl -X GET http://localhost:8080/api/experiences/type/WORK\n</code></pre></p> <p>Example Response: <pre><code>[\n  {\n    \"id\": 1,\n    \"company\": \"Acme Corporation\",\n    \"role\": \"Senior Software Engineer\",\n    \"startDate\": \"2023-01-15\",\n    \"endDate\": null,\n    \"type\": \"WORK\",\n    \"ongoing\": true\n  },\n  {\n    \"id\": 4,\n    \"company\": \"Previous Company\",\n    \"role\": \"Software Developer\",\n    \"startDate\": \"2020-06-01\",\n    \"endDate\": \"2022-12-31\",\n    \"type\": \"WORK\",\n    \"ongoing\": false\n  }\n]\n</code></pre></p>"},{"location":"features/experience-management/#recent-experiences","title":"Recent Experiences","text":"<p>Endpoint: <code>GET /api/experiences/recent?limit=N</code></p> <p>Default Limit: 3 experiences</p> <p>Use Case: Homepage summary showing most recent achievements</p> <p>Query Parameters: | Parameter | Type | Default | Description | |-----------|------|---------|-------------| | <code>limit</code> | integer | 3 | Maximum number of experiences to return |</p> <p>Example Request: <pre><code># Get 5 most recent experiences\ncurl -X GET \"http://localhost:8080/api/experiences/recent?limit=5\"\n</code></pre></p> <p>Sorting: Ordered by <code>startDate</code> descending (most recent first)</p>"},{"location":"features/experience-management/#7-chronological-sorting","title":"7. Chronological Sorting","text":""},{"location":"features/experience-management/#default-sort-order","title":"Default Sort Order","text":"<p>All Listing Endpoints: Sorted by <code>startDate</code> in descending order (newest first)</p> <p>Rationale: Users typically want to see the most recent experiences first</p>"},{"location":"features/experience-management/#sort-implementation","title":"Sort Implementation","text":"<p>Service Layer: <pre><code>public List&lt;ExperienceResponse&gt; getAllExperiences() {\n    return experienceRepository.findAllByOrderByStartDateDesc()\n        .stream()\n        .map(experienceMapper::toResponse)\n        .collect(Collectors.toList());\n}\n</code></pre></p> <p>Repository Method: <pre><code>List&lt;Experience&gt; findAllByOrderByStartDateDesc();\nList&lt;Experience&gt; findByTypeOrderByStartDateDesc(ExperienceType type);\n</code></pre></p>"},{"location":"features/experience-management/#timeline-display","title":"Timeline Display","text":"<p>Chronological Order: 1. Current ongoing experiences (most recent start date first) 2. Completed experiences (most recent start date first) 3. Older experiences</p> <p>Example Timeline: <pre><code>2024-06-01 - Present    : Volunteer Mentor (VOLUNTEERING)\n2023-01-15 - Present    : Senior Software Engineer (WORK)\n2023-05-10 - 2023-05-10 : Oracle Java Certification (CERTIFICATION)\n2020-09-01 - 2022-06-30 : Master's Degree (EDUCATION)\n2018-06-01 - 2020-05-31 : Software Developer (WORK)\n</code></pre></p>"},{"location":"features/experience-management/#8-configuration","title":"8. Configuration","text":""},{"location":"features/experience-management/#entity-configuration","title":"Entity Configuration","text":"<p>Table Name: <code>experiences</code></p> <p>Annotations: <pre><code>@Entity\n@Table(name = \"experiences\")\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Experience { ... }\n</code></pre></p>"},{"location":"features/experience-management/#validation-annotations","title":"Validation Annotations","text":"<p>Field Validation: <pre><code>@NotBlank(message = \"Company/Organization is required\")\n@Size(min = 2, max = 200)\nprivate String company;\n\n@NotNull(message = \"Start date is required\")\n@PastOrPresent(message = \"Start date cannot be in the future\")\nprivate LocalDate startDate;\n\n@PastOrPresent(message = \"End date cannot be in the future\")\nprivate LocalDate endDate;  // Nullable\n\n@NotBlank(message = \"Description is required\")\n@Size(min = 10, max = 2000)\nprivate String description;\n\n@NotNull(message = \"Experience type is required\")\n@Enumerated(EnumType.STRING)\nprivate ExperienceType type;\n</code></pre></p>"},{"location":"features/experience-management/#mapstruct-configuration","title":"MapStruct Configuration","text":"<p>Mapper Interface: <pre><code>@Mapper(componentModel = \"spring\")\npublic interface ExperienceMapper {\n    ExperienceResponse toResponse(Experience experience);\n\n    @Mapping(target = \"id\", ignore = true)\n    Experience toEntity(CreateExperienceRequest request);\n\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n    void updateEntityFromRequest(UpdateExperienceRequest request, @MappingTarget Experience experience);\n}\n</code></pre></p> <p>Partial Update Support: <code>UpdateExperienceRequest</code> allows null values, only provided fields are updated</p>"},{"location":"features/experience-management/#related-documentation","title":"Related Documentation","text":"<ul> <li>Experiences API - Complete API reference</li> <li>Architecture: Database Schema - Database structure</li> <li>Security: RBAC - Role-based access control</li> </ul>"},{"location":"features/file-storage/","title":"File Storage Architecture","text":""},{"location":"features/file-storage/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Storage Structure</li> <li>File Naming Conventions</li> <li>Security Validation</li> </ol>"},{"location":"features/file-storage/#1-overview","title":"1. Overview","text":"<p>The File Storage system provides a secure, organized structure for managing uploaded files in the Portfolio application.</p> <p>Key Features: - Organized directory structure - Timestamped filenames (prevents collisions) - MIME type validation (magic bytes) - Configurable storage paths - File size limits - Old file cleanup</p> <p>Supported File Types: - Images: JPEG, PNG, WebP (for projects) - Documents: PDF (for CVs)</p>"},{"location":"features/file-storage/#2-storage-structure","title":"2. Storage Structure","text":""},{"location":"features/file-storage/#directory-organization","title":"Directory Organization","text":"<pre><code>uploads/\n\u251c\u2500\u2500 projects/                          # Project images\n\u2502   \u251c\u2500\u2500 project_1_1700000000.webp     # Full image\n\u2502   \u251c\u2500\u2500 project_1_1700000000_thumb.webp # Thumbnail\n\u2502   \u251c\u2500\u2500 project_2_1700100000.webp\n\u2502   \u251c\u2500\u2500 project_2_1700100000_thumb.webp\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 cvs/                               # CV documents\n\u2502   \u251c\u2500\u2500 cv_1_1700000000.pdf\n\u2502   \u251c\u2500\u2500 cv_2_1700100000.pdf\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u2514\u2500\u2500 (future directories)\n    \u251c\u2500\u2500 avatars/                       # User avatars (future)\n    \u251c\u2500\u2500 attachments/                   # Generic attachments (future)\n    \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"features/file-storage/#directory-purpose","title":"Directory Purpose","text":"Directory Purpose File Types Access <code>uploads/projects/</code> Project images WebP Public read <code>uploads/cvs/</code> CV documents PDF Public read (current only)"},{"location":"features/file-storage/#storage-locations-by-environment","title":"Storage Locations by Environment","text":"<p>Local Development: <pre><code>Working directory: C:\\Users\\...\\portfolio\\\nStorage: C:\\Users\\...\\portfolio\\uploads\\\n</code></pre></p> <p>Docker (Development): <pre><code>Container: /app/\nStorage: /app/uploads/\nVolume: portfolio-uploads (persisted)\n</code></pre></p> <p>Production (Recommended): <pre><code>Application: /var/www/portfolio/\nStorage: /var/www/uploads/ (separate partition)\nOR\nCloud Storage: AWS S3, Azure Blob, GCP Cloud Storage\n</code></pre></p>"},{"location":"features/file-storage/#3-file-naming-conventions","title":"3. File Naming Conventions","text":""},{"location":"features/file-storage/#naming-pattern","title":"Naming Pattern","text":"<p>Format: <code>{type}_{id}_{timestamp}.{extension}</code></p> <p>Examples: <pre><code>project_1_1700000000.webp\nproject_1_1700000000_thumb.webp\ncv_3_1700200000.pdf\n</code></pre></p>"},{"location":"features/file-storage/#components","title":"Components","text":"Component Description Example <code>{type}</code> File category <code>project</code>, <code>cv</code> <code>{id}</code> Entity ID <code>1</code>, <code>2</code>, <code>3</code> <code>{timestamp}</code> Unix timestamp (ms) <code>1700000000</code> <code>{extension}</code> File extension <code>webp</code>, <code>pdf</code> <p>Special Suffix: - <code>_thumb</code>: Indicates thumbnail version</p>"},{"location":"features/file-storage/#why-timestamps","title":"Why Timestamps?","text":"<p>Benefits: 1. Uniqueness: Prevents filename collisions 2. Sorting: Files naturally sorted by upload time 3. Tracking: Easy to identify when file was uploaded 4. Caching: Browser cache busting (URL changes on update)</p> <p>Example Collision Prevention: <pre><code>Without timestamp:\n- project_1.webp (uploaded 9:00 AM)\n- project_1.webp (uploaded 9:05 AM) \u2190 OVERWRITES!\n\nWith timestamp:\n- project_1_1700000000.webp (uploaded 9:00 AM)\n- project_1_1700000300.webp (uploaded 9:05 AM) [OK] Both preserved\n</code></pre></p>"},{"location":"features/file-storage/#4-security-validation","title":"4. Security Validation","text":""},{"location":"features/file-storage/#mime-type-validation","title":"MIME Type Validation","text":"<p>Two-Layer Validation:</p> <ol> <li>Content-Type Header (client-provided, untrusted)</li> <li>Magic Bytes (file content, trusted)</li> </ol> <p>Magic Bytes Lookup:</p> File Type Magic Bytes Hex Representation JPEG <code>\u00ff\u00d8\u00ff</code> <code>FF D8 FF</code> PNG <code>\u2030PNG\\r\\n\\x1A\\n</code> <code>89 50 4E 47 0D 0A 1A 0A</code> WebP <code>RIFF....WEBP</code> <code>52 49 46 46 ... 57 45 42 50</code> PDF <code>%PDF</code> <code>25 50 44 46</code> <p>Implementation: <pre><code>public boolean validateMagicBytes(MultipartFile file, String expectedType) throws IOException {\n    byte[] header = new byte[12];\n    file.getInputStream().read(header);\n\n    switch (expectedType) {\n        case \"image/jpeg\":\n            return header[0] == (byte) 0xFF &amp;&amp;\n                   header[1] == (byte) 0xD8 &amp;&amp;\n                   header[2] == (byte) 0xFF;\n\n        case \"image/png\":\n            return header[0] == (byte) 0x89 &amp;&amp;\n                   header[1] == 0x50 &amp;&amp;\n                   header[2] == 0x4E &amp;&amp;\n                   header[3] == 0x47;\n\n        case \"image/webp\":\n            return header[8] == 0x57 &amp;&amp;\n                   header[9] == 0x45 &amp;&amp;\n                   header[10] == 0x42 &amp;&amp;\n                   header[11] == 0x50;\n\n        case \"application/pdf\":\n            return header[0] == 0x25 &amp;&amp;\n                   header[1] == 0x50 &amp;&amp;\n                   header[2] == 0x44 &amp;&amp;\n                   header[3] == 0x46;\n\n        default:\n            return false;\n    }\n}\n</code></pre></p>"},{"location":"features/file-storage/#file-size-limits","title":"File Size Limits","text":"<p>Current Limits: | File Type | Max Size | Enforced By | |-----------|----------|-------------| | Project Images | 10 MB | Spring Boot config | | CV Documents | 10 MB | Spring Boot config |</p> <p>Configuration (application.yml): <pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n</code></pre></p> <p>Backend Validation: <pre><code>public void validateFileSize(MultipartFile file, long maxSizeBytes) {\n    if (file.getSize() &gt; maxSizeBytes) {\n        throw new FileSizeLimitExceededException(\n            \"File size exceeds maximum allowed size: \" + maxSizeBytes + \" bytes\"\n        );\n    }\n}\n</code></pre></p>"},{"location":"features/file-storage/#path-traversal-prevention","title":"Path Traversal Prevention","text":"<p>Vulnerable Code (DO NOT USE): <pre><code>// DANGEROUS: User can specify path like \"../../etc/passwd\"\nString filename = request.getParameter(\"filename\");\nPath path = Paths.get(\"uploads/\" + filename);\nFiles.write(path, data);\n</code></pre></p> <p>Secure Code (USED): <pre><code>// SAFE: Sanitize filename and use absolute paths\nString sanitizedFilename = filename.replaceAll(\"[^a-zA-Z0-9._-]\", \"_\");\nPath uploadDir = Paths.get(\"uploads\").toAbsolutePath().normalize();\nPath targetPath = uploadDir.resolve(sanitizedFilename).normalize();\n\n// Verify target path is within upload directory\nif (!targetPath.startsWith(uploadDir)) {\n    throw new SecurityException(\"Invalid file path\");\n}\n\nFiles.write(targetPath, data);\n</code></pre></p>"},{"location":"features/file-storage/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Files - File upload API</li> <li>Features: Image Processing - Image optimization</li> <li>Features: CV Management - CV storage</li> <li>Deployment: CI/CD - Deployment pipeline</li> </ul>"},{"location":"features/image-processing/","title":"Image Processing System","text":""},{"location":"features/image-processing/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>WebP Conversion</li> <li>Thumbnail Generation</li> <li>Architecture</li> <li>Performance</li> <li>Configuration</li> </ol>"},{"location":"features/image-processing/#1-overview","title":"1. Overview","text":"<p>The Image Processing System automatically converts uploaded project images to WebP format and generates optimized thumbnails.</p> <p>Key Features: - Automatic WebP conversion (from JPEG, PNG, WebP) - Thumbnail generation (400x300px) - Configurable quality settings - MIME type validation (magic bytes) - Old image cleanup - Optimized for web performance</p> <p>Technology: Thumbnailator library (Java)</p>"},{"location":"features/image-processing/#2-webp-conversion","title":"2. WebP Conversion","text":""},{"location":"features/image-processing/#why-webp","title":"Why WebP?","text":"<p>Benefits: - 25-35% smaller file size vs JPEG (same quality) - Supports transparency (like PNG) - Faster page load times - Modern browser support (95%+ globally)</p> <p>Comparison: | Format | File Size (example) | Transparency | Browser Support | |--------|---------------------|--------------|-----------------| | JPEG | 500 KB | No | 100% | | PNG | 800 KB | Yes | 100% | | WebP | 350 KB | Yes | 95%+ |</p>"},{"location":"features/image-processing/#conversion-process","title":"Conversion Process","text":"<p>Flow: <pre><code>1. User uploads image (JPEG/PNG/WebP)\n   \u2193\n2. MIME type validation (magic bytes)\n   \u2193\n3. Load image with Thumbnailator\n   \u2193\n4. Convert to WebP format\n   \u2193\n5. Apply quality compression (0.85)\n   \u2193\n6. Save as project_{id}_{timestamp}.webp\n   \u2193\n7. Delete old image (if exists)\n   \u2193\n8. Update project.imageUrl in database\n</code></pre></p>"},{"location":"features/image-processing/#quality-settings","title":"Quality Settings","text":"<p>Full-Size Image: - Quality: 0.85 (85%) - Format: WebP - Naming: <code>project_{id}_{timestamp}.webp</code></p> <p>Thumbnail: - Quality: 0.8 (80%) - Size: 400x300px (fixed dimensions) - Format: WebP - Naming: <code>project_{id}_{timestamp}_thumb.webp</code></p> <p>Quality Scale: - 1.0 = Maximum quality (large file) - 0.85 = High quality (recommended for full images) - 0.8 = Good quality (recommended for thumbnails) - 0.5 = Medium quality (noticeable compression)</p>"},{"location":"features/image-processing/#3-thumbnail-generation","title":"3. Thumbnail Generation","text":""},{"location":"features/image-processing/#thumbnail-specifications","title":"Thumbnail Specifications","text":"<p>Dimensions: 400\u00d7300px (fixed aspect ratio)</p> <p>Resize Mode: <code>FIT</code> (maintains aspect ratio, may add letterboxing)</p> <p>Quality: 0.8 (80%)</p> <p>Purpose: - Fast loading on list/grid views - Reduced bandwidth usage - Better mobile performance</p>"},{"location":"features/image-processing/#resize-modes","title":"Resize Modes","text":"<p>Available Modes:</p> <ol> <li>FIT (used in this project):</li> <li>Maintains aspect ratio</li> <li>Fits within 400\u00d7300px</li> <li>May result in smaller dimensions</li> <li> <p>No cropping</p> </li> <li> <p>CROP (alternative):</p> </li> <li>Forces exact 400\u00d7300px</li> <li>Crops excess areas</li> <li>Always fills entire space</li> </ol> <p>Example: <pre><code>Original image: 1920\u00d71080px (16:9)\n\nFIT mode:\n\u2192 400\u00d7225px (maintains 16:9, fits within 400\u00d7300)\n\nCROP mode:\n\u2192 400\u00d7300px (crops to 4:3, may lose content)\n</code></pre></p>"},{"location":"features/image-processing/#use-cases","title":"Use Cases","text":"<p>Full Image (<code>imageUrl</code>): - Project detail page - Lightbox/modal view - High-quality display</p> <p>Thumbnail (<code>thumbnailUrl</code>): - Project list/grid - Homepage featured projects - Mobile views - Fast previews</p>"},{"location":"features/image-processing/#4-architecture","title":"4. Architecture","text":""},{"location":"features/image-processing/#component-diagram","title":"Component Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  ProjectController                      \u2502\n\u2502                                                         \u2502\n\u2502  POST /api/admin/projects/{id}/upload-image            \u2502\n\u2502  \u251c\u2500 Validate multipart file                            \u2502\n\u2502  \u251c\u2500 Call ImageService.uploadProjectImage()             \u2502\n\u2502  \u2514\u2500 Return ImageUploadResponse                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   ImageService                          \u2502\n\u2502                                                         \u2502\n\u2502  uploadProjectImage(projectId, file)                   \u2502\n\u2502  \u251c\u2500 Load project from database                         \u2502\n\u2502  \u251c\u2500 Validate MIME type (magic bytes)                   \u2502\n\u2502  \u251c\u2500 Generate filenames (main + thumbnail)              \u2502\n\u2502  \u251c\u2500 Convert to WebP (quality 0.85)                     \u2502\n\u2502  \u251c\u2500 Generate thumbnail (400\u00d7300, quality 0.8)          \u2502\n\u2502  \u251c\u2500 Delete old images (if exist)                       \u2502\n\u2502  \u251c\u2500 Update project imageUrl &amp; thumbnailUrl             \u2502\n\u2502  \u2514\u2500 Return URLs                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u25bc                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 FileStorage     \u2502      \u2502 Thumbnailator  \u2502\n\u2502 Service         \u2502      \u2502 Library        \u2502\n\u2502                 \u2502      \u2502                \u2502\n\u2502 - Store files   \u2502      \u2502 - Resize       \u2502\n\u2502 - Delete files  \u2502      \u2502 - Convert      \u2502\n\u2502 - Validate      \u2502      \u2502 - Compress     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    File System                          \u2502\n\u2502                                                         \u2502\n\u2502  uploads/projects/                                      \u2502\n\u2502  \u251c\u2500\u2500 project_1_1700000000.webp                         \u2502\n\u2502  \u251c\u2500\u2500 project_1_1700000000_thumb.webp                   \u2502\n\u2502  \u251c\u2500\u2500 project_2_1700100000.webp                         \u2502\n\u2502  \u2514\u2500\u2500 project_2_1700100000_thumb.webp                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/image-processing/#processing-pipeline","title":"Processing Pipeline","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Upload JPEG/PNG \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 MIME Validation \u2502 \u2500\u2500 Magic bytes check (not extension)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Load Image      \u2502 \u2500\u2500 Thumbnailator reads original\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u25bc                                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Full Image       \u2502              \u2502 Thumbnail        \u2502\n\u2502                  \u2502              \u2502                  \u2502\n\u2502 - Keep original  \u2502              \u2502 - Resize 400\u00d7300 \u2502\n\u2502   dimensions     \u2502              \u2502 - Quality 0.8    \u2502\n\u2502 - Quality 0.85   \u2502              \u2502 - Format: WebP   \u2502\n\u2502 - Format: WebP   \u2502              \u2502                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                 \u2502\n         \u25bc                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Save to disk     \u2502              \u2502 Save to disk     \u2502\n\u2502 project_X.webp   \u2502              \u2502 project_X_thumb  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                 \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u25bc\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502 Delete old files \u2502 \u2500\u2500 Cleanup previous images\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u25bc\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502 Update database  \u2502 \u2500\u2500 Save URLs to project\n          \u2502 - imageUrl       \u2502\n          \u2502 - thumbnailUrl   \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/image-processing/#5-performance","title":"5. Performance","text":""},{"location":"features/image-processing/#file-size-comparison","title":"File Size Comparison","text":"<p>Example: Project screenshot (1920\u00d71080)</p> Format File Size Quality Savings Original PNG 2.1 MB Lossless - JPEG (quality 90) 850 KB High 59% WebP (quality 0.85) 580 KB High 72% WebP Thumbnail (400\u00d7300) 45 KB Good 98%"},{"location":"features/image-processing/#processing-time","title":"Processing Time","text":"<p>Benchmarks (average, on modern hardware):</p> Operation Time File Upload 2 MB image ~50ms - WebP conversion ~200ms Full image Thumbnail generation ~100ms 400\u00d7300px Total processing ~350ms Complete flow <p>Optimization Tips: - Use async processing for large batches - Consider CDN for static file serving - Implement lazy loading on frontend</p>"},{"location":"features/image-processing/#bandwidth-savings","title":"Bandwidth Savings","text":"<p>Example: Portfolio with 10 projects</p> <p>Before Optimization (PNG/JPEG): - Full images: 10 \u00d7 1.5 MB = 15 MB - No thumbnails (load full images) - Total: ~15 MB per page load</p> <p>After Optimization (WebP): - Thumbnails (list): 10 \u00d7 50 KB = 500 KB - Full image (detail): 1 \u00d7 600 KB = 600 KB - Total: ~1.1 MB per typical session</p> <p>Savings: 93% reduction in bandwidth</p>"},{"location":"features/image-processing/#6-configuration","title":"6. Configuration","text":""},{"location":"features/image-processing/#dependencies","title":"Dependencies","text":"<p>build.gradle: <pre><code>dependencies {\n    // Image processing\n    implementation 'net.coobird:thumbnailator:0.4.19'\n\n    // Spring Boot (already included)\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n}\n</code></pre></p>"},{"location":"features/image-processing/#application-properties","title":"Application Properties","text":"<p>application.yml: <pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n\nfile:\n  upload:\n    base-path: uploads\n    projects-path: projects\n    allowed-image-types:\n      - image/jpeg\n      - image/png\n      - image/webp\n\nimage:\n  processing:\n    full-image-quality: 0.85\n    thumbnail-quality: 0.8\n    thumbnail-width: 400\n    thumbnail-height: 300\n</code></pre></p>"},{"location":"features/image-processing/#static-resource-serving","title":"Static Resource Serving","text":"<p>WebMvcConfig.java: <pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/uploads/**\")\n                .addResourceLocations(\"file:uploads/\")\n                .setCachePeriod(3600); // 1 hour cache\n    }\n}\n</code></pre></p>"},{"location":"features/image-processing/#production-recommendations","title":"Production Recommendations","text":"<p>1. Use Cloud Storage: <pre><code>// AWS S3 example\n@Service\npublic class S3ImageService {\n\n    private final AmazonS3 s3Client;\n\n    public String uploadToS3(MultipartFile file, String bucketName, String key) {\n        // Convert to WebP\n        byte[] webpData = convertToWebP(file);\n\n        // Upload to S3\n        ObjectMetadata metadata = new ObjectMetadata();\n        metadata.setContentType(\"image/webp\");\n        metadata.setContentLength(webpData.length);\n\n        s3Client.putObject(bucketName, key, new ByteArrayInputStream(webpData), metadata);\n\n        return s3Client.getUrl(bucketName, key).toString();\n    }\n}\n</code></pre></p> <p>2. Enable CDN: - Use CloudFront (AWS) or Cloudflare - Cache images at edge locations - Reduce server load - Faster global delivery</p> <p>3. Lazy Loading (Frontend): <pre><code>&lt;img [src]=\"project.thumbnailUrl\"\n     [attr.data-full]=\"project.imageUrl\"\n     loading=\"lazy\"\n     alt=\"{{ project.title }}\"&gt;\n</code></pre></p> <p>4. Responsive Images: <pre><code>&lt;img [srcset]=\"project.thumbnailUrl + ' 400w, ' + project.imageUrl + ' 1920w'\"\n     sizes=\"(max-width: 768px) 400px, 1920px\"\n     [src]=\"project.imageUrl\"\n     alt=\"{{ project.title }}\"&gt;\n</code></pre></p>"},{"location":"features/image-processing/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Projects - Project image upload API</li> <li>Features: File Storage - File storage architecture</li> <li>Development: Setup - Development environment</li> </ul>"},{"location":"features/site-configuration/","title":"Site Configuration Feature","text":"<p>Centralized configuration management for all site-wide settings including personal identity, hero section content, SEO metadata, and social links.</p>"},{"location":"features/site-configuration/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Architecture</li> <li>Database Schema</li> <li>Configuration Fields</li> <li>Profile Image Management</li> <li>Related Documentation</li> </ul>"},{"location":"features/site-configuration/#overview","title":"Overview","text":"<p>The Site Configuration feature provides a single point of management for all configurable site content:</p> <ul> <li>Personal Identity: Full name and contact email</li> <li>Hero Section: Landing page title and description</li> <li>SEO Metadata: Browser title and meta description for search engines</li> <li>Social Links: GitHub and LinkedIn profile URLs</li> <li>Profile Image: Photo displayed in hero section with WebP optimization</li> </ul> <p>The configuration follows a singleton pattern with a single row (id=1) in the database.</p>"},{"location":"features/site-configuration/#architecture","title":"Architecture","text":""},{"location":"features/site-configuration/#backend-components","title":"Backend Components","text":"Component Location Purpose <code>SiteConfiguration</code> <code>entity/</code> JPA entity with validation <code>SiteConfigurationRepository</code> <code>repository/</code> Data access layer <code>SiteConfigurationService</code> <code>service/</code> Business logic interface <code>SiteConfigurationServiceImpl</code> <code>service/impl/</code> Service implementation <code>SiteConfigurationController</code> <code>controller/</code> Public REST endpoint <code>AdminSiteConfigurationController</code> <code>controller/</code> Admin REST endpoints <code>SiteConfigurationMapper</code> <code>mapper/</code> MapStruct entity-DTO mapping <code>SiteConfigurationResponse</code> <code>dto/</code> Response DTO <code>UpdateSiteConfigurationRequest</code> <code>dto/</code> Update request DTO"},{"location":"features/site-configuration/#frontend-components","title":"Frontend Components","text":"Component Location Purpose <code>SiteConfigurationService</code> <code>services/</code> HTTP client for API calls <code>SiteConfigurationResponse</code> <code>models/</code> TypeScript interface <code>UpdateSiteConfigurationRequest</code> <code>models/</code> TypeScript interface <code>HomeComponent</code> <code>components/home/</code> Displays hero section Admin form component <code>pages/admin/</code> Configuration edit form"},{"location":"features/site-configuration/#data-flow","title":"Data Flow","text":"<pre><code>Frontend                    Backend\n   |                           |\n   |-- GET /api/configuration -|-&gt; SiteConfigurationController\n   |                           |        |\n   |&lt;-- SiteConfigurationResponse       v\n   |                           |   SiteConfigurationService\n   |                           |        |\n   |                           |        v\n   |                           |   SiteConfigurationRepository\n   |                           |        |\n   |                           |        v\n   |                           |   PostgreSQL (site_configuration)\n</code></pre>"},{"location":"features/site-configuration/#database-schema","title":"Database Schema","text":""},{"location":"features/site-configuration/#site_configuration-table","title":"site_configuration Table","text":"<pre><code>CREATE TABLE site_configuration (\n    id BIGSERIAL PRIMARY KEY,\n    full_name VARCHAR(100) NOT NULL,\n    email VARCHAR(255) NOT NULL,\n    hero_title VARCHAR(200) NOT NULL,\n    hero_description TEXT NOT NULL,\n    site_title VARCHAR(100) NOT NULL,\n    seo_description VARCHAR(300) NOT NULL,\n    profile_image_url VARCHAR(500),\n    github_url VARCHAR(500) NOT NULL,\n    linkedin_url VARCHAR(500) NOT NULL,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    CONSTRAINT chk_site_configuration_single_row CHECK (id = 1)\n);\n</code></pre>"},{"location":"features/site-configuration/#singleton-constraint","title":"Singleton Constraint","text":"<p>The <code>CHECK (id = 1)</code> constraint ensures only one configuration row exists. This guarantees: - Consistent site-wide settings - No orphan configurations - Simple retrieval without ID parameter</p>"},{"location":"features/site-configuration/#migration","title":"Migration","text":"<p>The schema is created by Flyway migration <code>V19__transform_hero_to_site_configuration.sql</code> which: 1. Creates the <code>site_configuration</code> table 2. Migrates data from the legacy <code>hero_section</code> table 3. Drops the old <code>hero_section</code> table</p>"},{"location":"features/site-configuration/#configuration-fields","title":"Configuration Fields","text":""},{"location":"features/site-configuration/#personal-identity","title":"Personal Identity","text":"Field Column Constraints Usage Full Name <code>full_name</code> 2-100 chars, required Displayed in hero and contact Email <code>email</code> Valid email, max 255 chars Contact information"},{"location":"features/site-configuration/#hero-section","title":"Hero Section","text":"Field Column Constraints Usage Hero Title <code>hero_title</code> 3-200 chars, required Main heading on landing page Hero Description <code>hero_description</code> 10-1000 chars, required Subheading text"},{"location":"features/site-configuration/#seo-metadata","title":"SEO Metadata","text":"Field Column Constraints Usage Site Title <code>site_title</code> 3-100 chars, required Browser tab title SEO Description <code>seo_description</code> 10-300 chars, required Meta description tag"},{"location":"features/site-configuration/#social-links","title":"Social Links","text":"Field Column Constraints Usage GitHub URL <code>github_url</code> Valid URL, max 500 chars GitHub profile link LinkedIn URL <code>linkedin_url</code> Valid URL, max 500 chars LinkedIn profile link"},{"location":"features/site-configuration/#profile-image-management","title":"Profile Image Management","text":""},{"location":"features/site-configuration/#upload-process","title":"Upload Process","text":"<ol> <li>Admin uploads image via multipart form</li> <li>ImageService validates file type (JPEG, PNG, GIF, WebP)</li> <li>Image is converted to WebP format for optimization</li> <li>File is saved to <code>/uploads/profile/profile.webp</code></li> <li>Previous image is automatically replaced</li> <li><code>profile_image_url</code> field is updated</li> </ol>"},{"location":"features/site-configuration/#storage-location","title":"Storage Location","text":"<pre><code>uploads/\n  profile/\n    profile.webp    # Current profile image\n</code></pre>"},{"location":"features/site-configuration/#image-constraints","title":"Image Constraints","text":"Constraint Value Max file size 5 MB Allowed formats JPEG, PNG, GIF, WebP Output format WebP Fixed filename <code>profile.webp</code>"},{"location":"features/site-configuration/#deletion","title":"Deletion","text":"<p>When the profile image is deleted: 1. File is removed from disk 2. <code>profile_image_url</code> is set to <code>null</code> 3. Frontend displays default placeholder</p>"},{"location":"features/site-configuration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Site Configuration API - REST endpoints reference</li> <li>Image Processing - WebP conversion details</li> <li>File Storage - Upload directory structure</li> </ul>"},{"location":"operations/","title":"Operations Documentation","text":"<p>Documentation for monitoring, health checks, and operational tasks.</p>"},{"location":"operations/#contents","title":"Contents","text":"Document Description Health Checks Application health endpoints, monitoring configuration"},{"location":"operations/#health-endpoints","title":"Health Endpoints","text":"Endpoint Description Auth Required <code>GET /actuator/health</code> Basic health status No <code>GET /actuator/health/liveness</code> Kubernetes liveness probe No <code>GET /actuator/health/readiness</code> Kubernetes readiness probe No <code>GET /api/health/ping</code> Simple ping endpoint No"},{"location":"operations/#quick-health-check","title":"Quick Health Check","text":"<pre><code># Basic health check\ncurl http://localhost:8080/actuator/health\n\n# Detailed health (with credentials)\ncurl http://localhost:8080/actuator/health -u admin:password\n</code></pre>"},{"location":"operations/#related-documentation","title":"Related Documentation","text":"<ul> <li>Deployment - CI/CD and deployment</li> <li>Reference - Configuration</li> <li>Security - Authentication</li> </ul>"},{"location":"operations/health-checks/","title":"Health Check Operations Guide","text":""},{"location":"operations/health-checks/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Health Check Endpoints</li> <li>Testing Procedures</li> <li>Docker Health Checks</li> <li>CI/CD Integration</li> </ol>"},{"location":"operations/health-checks/#1-overview","title":"1. Overview","text":"<p>Health check infrastructure verifies system components are operational and can communicate with each other.</p>"},{"location":"operations/health-checks/#11-health-check-layers","title":"1.1 Health Check Layers","text":"<ol> <li>Nginx Layer: Availability checks</li> <li>Frontend Layer: Angular application status</li> <li>Backend Layer: Spring Boot API status</li> <li>Database Layer: PostgreSQL connectivity</li> <li>Integration Layer: End-to-end verification</li> </ol>"},{"location":"operations/health-checks/#12-health-check-types","title":"1.2 Health Check Types","text":"Type Purpose Frequency Liveness Service running Every 30 seconds Readiness Service can accept traffic Every 30 seconds Startup Service initialization On container start"},{"location":"operations/health-checks/#2-health-check-endpoints","title":"2. Health Check Endpoints","text":""},{"location":"operations/health-checks/#21-production-endpoints","title":"2.1 Production Endpoints","text":"<p>Base URL: <code>http://localhost:80</code></p> Endpoint Description Expected Status <code>/health</code> Nginx simple check 200 OK <code>/health/full</code> Complete system check 200 OK (JSON) <code>/health/frontend</code> Frontend check 200 OK (JSON) <code>/health/backend</code> Backend check 200 OK (JSON)"},{"location":"operations/health-checks/#22-backend-direct-access","title":"2.2 Backend Direct Access","text":"<p>Base URL: <code>http://localhost:8080</code></p> Endpoint Description <code>/actuator/health</code> Spring Boot Actuator <code>/api/health/ping</code> Simple API ping <code>/api/health/db</code> Database connectivity <code>/api/health/status</code> Complete status (API + DB)"},{"location":"operations/health-checks/#23-frontend-direct-access","title":"2.3 Frontend Direct Access","text":"<p>Base URL: <code>http://localhost:4200</code></p> Endpoint Description <code>/health.json</code> Static health file"},{"location":"operations/health-checks/#24-environment-specific-ports","title":"2.4 Environment-Specific Ports","text":"Environment Port Production 80 Staging 3000 Development 8081"},{"location":"operations/health-checks/#3-testing-procedures","title":"3. Testing Procedures","text":""},{"location":"operations/health-checks/#31-command-line-testing","title":"3.1 Command-Line Testing","text":"<pre><code># Basic health check\ncurl http://localhost:8081/health\n\n# Complete health check with formatted output\ncurl -s http://localhost:8081/health/full | jq\n\n# Component-specific checks\ncurl http://localhost:8081/health/frontend\ncurl http://localhost:8081/health/backend\ncurl http://localhost:8080/api/health/db\n</code></pre>"},{"location":"operations/health-checks/#32-automated-script-testing","title":"3.2 Automated Script Testing","text":"<pre><code># Test local environment\n./scripts/test-health.sh local\n\n# Test staging environment\n./scripts/test-health.sh staging\n\n# Test production environment\n./scripts/test-health.sh prod\n</code></pre> <p>Expected Response:</p> <pre><code>{\n  \"status\": \"healthy\",\n  \"checks\": {\n    \"api\": {\n      \"status\": \"ok\",\n      \"message\": \"API is responding\"\n    },\n    \"database\": {\n      \"status\": \"ok\",\n      \"message\": \"Database connection is healthy\",\n      \"type\": \"PostgreSQL\"\n    }\n  },\n  \"timestamp\": 1699012345678\n}\n</code></pre>"},{"location":"operations/health-checks/#4-docker-health-checks","title":"4. Docker Health Checks","text":""},{"location":"operations/health-checks/#41-container-status-verification","title":"4.1 Container Status Verification","text":"<pre><code>docker-compose -f docker-compose.yml -f docker-compose.local.yml ps\n</code></pre> <p>Expected Output:</p> <pre><code>NAME                       STATUS\nportfolio-frontend-local   Up (healthy)\nportfolio-backend-local    Up (healthy)\nportfolio-db-local         Up (healthy)\nportfolio-nginx-local      Up\n</code></pre>"},{"location":"operations/health-checks/#42-health-check-configuration","title":"4.2 Health Check Configuration","text":"<p>Frontend (Production/Staging): <pre><code>healthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:80/health.json\"]\n  interval: 30s\n  timeout: 10s\n  retries: 5\n  start_period: 90s\n</code></pre></p> <p>Note: Frontend health check is disabled in local development mode (<code>docker-compose.local.yml</code>) because the Angular dev server (<code>ng serve</code>) is too slow to start reliably in CI environments. Backend and database health checks are sufficient for local testing.</p> <p>Backend (Production/Staging): <pre><code>healthcheck:\n  test: [\"CMD\", \"wget\", \"--no-verbose\", \"--tries=1\", \"--spider\", \"http://localhost:8080/actuator/health\"]\n  interval: 30s\n  timeout: 10s\n  retries: 5\n  start_period: 90s\n</code></pre></p> <p>Backend (Development): <pre><code>healthcheck:\n  test: [\"CMD-SHELL\", \"wget --no-verbose --tries=1 --spider http://localhost:8080/actuator/health || exit 1\"]\n  interval: 30s\n  timeout: 10s\n  retries: 5\n  start_period: 90s\n</code></pre></p> <p>Database: <pre><code>healthcheck:\n  test: [\"CMD-SHELL\", \"pg_isready -U postgres_app -d portfolio_local\"]\n  interval: 10s\n  timeout: 5s\n  retries: 5\n  start_period: 40s\n</code></pre></p>"},{"location":"operations/health-checks/#43-health-check-parameters","title":"4.3 Health Check Parameters","text":"Parameter Description Production/Staging Development <code>interval</code> Time between health checks 30 seconds 30 seconds <code>timeout</code> Maximum wait time for response 10 seconds 10 seconds <code>retries</code> Consecutive failures before unhealthy 5 5 <code>start_period</code> Grace period before first check 90 seconds 90 seconds <p>Rationale for extended timings: - Extended <code>start_period</code> (90s) accommodates slower CI/CD runner environments - Increased <code>retries</code> (5) reduces false positives during startup - These values ensure reliable health checks in resource-constrained environments</p>"},{"location":"operations/health-checks/#5-cicd-integration","title":"5. CI/CD Integration","text":""},{"location":"operations/health-checks/#51-github-actions-workflows","title":"5.1 GitHub Actions Workflows","text":"<p>Two separate workflows handle health checks:</p>"},{"location":"operations/health-checks/#511-health-check-ci","title":"5.1.1 Health Check CI","text":"<p>Workflow file: <code>.github/workflows/health-check.yml</code></p> <p>Purpose: Tests local development environment</p> <p>Triggers: - Push to <code>develop</code> branch only - Pull requests to <code>develop</code> branch - Manual trigger via GitHub Actions UI</p> <p>Steps: 1. Build Docker containers with <code>docker-compose.local.yml</code> 2. Start all services 3. Wait for containers to reach healthy state 4. Execute health check script 5. Verify individual endpoints 6. Display logs on failure</p> <p>Note: This workflow is NOT triggered on <code>staging</code> or <code>main</code> branches because it tests the development environment, not production deployments.</p>"},{"location":"operations/health-checks/#512-cicd-pipeline","title":"5.1.2 CI/CD Pipeline","text":"<p>Workflow file: <code>.github/workflows/ci-cd.yml</code></p> <p>Purpose: Build, deploy, and verify staging/production environments</p> <p>Triggers: - Push to <code>staging</code> or <code>main</code> branches - Pull requests to <code>staging</code> or <code>main</code></p> <p>Health Check Steps: - Waits for containers to become healthy (max 5 minutes) - Runs smoke tests on deployed services - Verifies frontend, backend, database, and nginx</p>"},{"location":"operations/health-checks/#52-manual-workflow-trigger","title":"5.2 Manual Workflow Trigger","text":"<p>Navigate to GitHub Actions and trigger manually:</p> <pre><code>Repository \u2192 Actions \u2192 Health Check CI \u2192 Run workflow\n</code></pre> <p>Select the branch to test (typically <code>develop</code>)</p>"},{"location":"reference/","title":"Reference Documentation","text":"<p>Technical reference documentation for configuration, dependencies, and error codes.</p>"},{"location":"reference/#contents","title":"Contents","text":"Document Description Configuration Properties JWT, rate limiting, file storage, database, Redis, email Environments URLs, ports, Docker Compose commands by environment Dependencies Tech stack versions and dependency management Error Codes API error codes and messages reference Versioning Semantic versioning strategy Scripts Organization Scripts structure and usage"},{"location":"reference/#quick-reference","title":"Quick Reference","text":""},{"location":"reference/#environments","title":"Environments","text":"Environment Backend URL Frontend URL Local http://localhost:8080 http://localhost:4200 Staging https://staging.example.com https://staging-app.example.com Production https://api.example.com https://app.example.com"},{"location":"reference/#key-configuration","title":"Key Configuration","text":"Property Description Default <code>jwt.expiration</code> Access token TTL 15 minutes <code>jwt.refresh-expiration</code> Refresh token TTL 7 days <code>rate-limit.contact</code> Contact form limit 3/hour"},{"location":"reference/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development Guide - Development setup</li> <li>Deployment - CI/CD and deployment</li> <li>Security - Security configuration</li> </ul>"},{"location":"reference/configuration-properties/","title":"Configuration Properties Reference","text":""},{"location":"reference/configuration-properties/#table-of-contents","title":"Table of Contents","text":"<ol> <li>JWT Configuration</li> <li>Rate Limiting</li> <li>File Storage</li> <li>Database</li> <li>Redis</li> <li>Email</li> <li>Server</li> </ol>"},{"location":"reference/configuration-properties/#1-jwt-configuration","title":"1. JWT Configuration","text":"<pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}              # HS256 secret key (min 256 bits)\n    expiration: 900000                 # Access token expiration (ms): 15 minutes\n    refresh-expiration: 7              # Refresh token expiration (days): 7 days\n    issuer: portfolio-backend          # Token issuer claim\n    audience: portfolio-frontend       # Token audience claim\n</code></pre> <p>Environment Variables: - <code>JWT_SECRET</code> - Secret key for signing JWTs (required)</p>"},{"location":"reference/configuration-properties/#2-rate-limiting","title":"2. Rate Limiting","text":"<pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Maximum contact form submissions per IP per hour\n</code></pre> <p>Defaults: 5 requests/hour</p> <p>Environment-Specific: - Dev: 10 requests/hour - Staging: 5 requests/hour - Prod: 3 requests/hour</p>"},{"location":"reference/configuration-properties/#3-file-storage","title":"3. File Storage","text":"<pre><code>app:\n  file-storage:\n    upload-dir: uploads/              # Base directory for file uploads\n    max-file-size: 10485760           # Max file size (bytes): 10 MB\n    allowed-extensions:               # Allowed file extensions\n      - jpg\n      - jpeg\n      - png\n      - webp\n      - pdf\n</code></pre> <p>Subdirectories: - <code>uploads/projects/</code> - Project images - <code>uploads/cvs/</code> - CV files - <code>uploads/articles/</code> - Article images</p>"},{"location":"reference/configuration-properties/#4-database","title":"4. Database","text":"<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:portfolio}\n    username: ${DB_USERNAME:postgres}\n    password: ${DB_PASSWORD}\n    driver-class-name: org.postgresql.Driver\n\n  jpa:\n    hibernate:\n      ddl-auto: validate  # Use Flyway for schema management\n    show-sql: false       # Set to true in dev for SQL logging\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format_sql: true\n\n  flyway:\n    enabled: true\n    baseline-on-migrate: true\n    locations: classpath:db/migration\n</code></pre> <p>Environment Variables: - <code>DB_HOST</code> - Database host (default: localhost) - <code>DB_PORT</code> - Database port (default: 5432) - <code>DB_NAME</code> - Database name (default: portfolio) - <code>DB_USERNAME</code> - Database username (default: postgres) - <code>DB_PASSWORD</code> - Database password (required)</p>"},{"location":"reference/configuration-properties/#5-redis","title":"5. Redis","text":"<pre><code>spring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n      timeout: 3000ms\n</code></pre> <p>Environment Variables: - <code>REDIS_HOST</code> - Redis host (default: localhost) - <code>REDIS_PORT</code> - Redis port (default: 6379) - <code>REDIS_PASSWORD</code> - Redis password (optional)</p> <p>Use Cases: - Rate limiting (contact form) - Session management (future) - Caching (future)</p>"},{"location":"reference/configuration-properties/#6-email","title":"6. Email","text":"<pre><code>spring:\n  mail:\n    host: ${MAIL_HOST:smtp.gmail.com}\n    port: ${MAIL_PORT:587}\n    username: ${MAIL_USERNAME}\n    password: ${MAIL_APP_PASSWORD}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n</code></pre> <p>Environment Variables: - <code>MAIL_HOST</code> - SMTP server host (default: smtp.gmail.com) - <code>MAIL_PORT</code> - SMTP server port (default: 587) - <code>MAIL_USERNAME</code> - SMTP username (required) - <code>MAIL_APP_PASSWORD</code> - SMTP password (required)</p>"},{"location":"reference/configuration-properties/#7-server","title":"7. Server","text":"<pre><code>server:\n  port: ${PORT:8080}\n  servlet:\n    context-path: /\n  error:\n    include-message: always\n    include-binding-errors: always\n    include-stacktrace: never  # Set to on_param in dev\n</code></pre> <p>Environment Variables: - <code>PORT</code> - Server port (default: 8080)</p>"},{"location":"reference/configuration-properties/#environment-profiles","title":"Environment Profiles","text":""},{"location":"reference/configuration-properties/#development-application-devyml","title":"Development (<code>application-dev.yml</code>)","text":"<pre><code>spring:\n  jpa:\n    show-sql: true  # SQL logging enabled\n\nlogging:\n  level:\n    root: INFO\n    com.emmanuelgabe.portfolio: DEBUG\n\napp:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 10  # Lenient for testing\n</code></pre>"},{"location":"reference/configuration-properties/#staging-application-stagingyml","title":"Staging (<code>application-staging.yml</code>)","text":"<pre><code>logging:\n  level:\n    root: INFO\n    com.emmanuelgabe.portfolio: INFO\n\napp:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5\n</code></pre>"},{"location":"reference/configuration-properties/#production-application-prodyml","title":"Production (<code>application-prod.yml</code>)","text":"<pre><code>logging:\n  level:\n    root: WARN\n    com.emmanuelgabe.portfolio: WARN\n\napp:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3  # Strict for production\n</code></pre>"},{"location":"reference/configuration-properties/#related-documentation","title":"Related Documentation","text":"<ul> <li>Development: Setup - Environment setup</li> <li>Reference: Environments - Environment details</li> <li>Security: JWT Implementation - JWT configuration</li> <li>Security: Rate Limiting - Rate limit configuration</li> </ul>"},{"location":"reference/dependencies/","title":"Dependencies Reference","text":""},{"location":"reference/dependencies/#overview","title":"Overview","text":"<p>This document explains how to view and manage dependencies in the Portfolio Application.</p> <p>For exact versions, see: - Backend: <code>portfolio-backend/build.gradle</code> - Frontend: <code>portfolio-frontend/package.json</code></p> <p>View all dependencies: <pre><code># Backend\ncd portfolio-backend &amp;&amp; ./gradlew dependencies\n\n# Frontend\ncd portfolio-frontend &amp;&amp; npm list\n</code></pre></p>"},{"location":"reference/dependencies/#backend-stack","title":"Backend Stack","text":""},{"location":"reference/dependencies/#core-framework","title":"Core Framework","text":"<ul> <li>Spring Boot 3.x - Application framework with starters:</li> <li><code>spring-boot-starter-web</code> - REST API, MVC, Tomcat</li> <li><code>spring-boot-starter-data-jpa</code> - JPA/Hibernate</li> <li><code>spring-boot-starter-security</code> - Auth</li> <li><code>spring-boot-starter-actuator</code> - Health checks, metrics</li> <li><code>spring-boot-starter-validation</code> - Bean validation</li> <li>Java 21 LTS - Programming language</li> <li>Gradle 8.x - Build tool</li> </ul>"},{"location":"reference/dependencies/#database","title":"Database","text":"<ul> <li>PostgreSQL - Production database</li> <li>Flyway - Database migrations</li> </ul>"},{"location":"reference/dependencies/#api-documentation","title":"API Documentation","text":"<ul> <li>SpringDoc OpenAPI - Swagger UI auto-generation</li> </ul> <p>Access: http://localhost:8081/api/swagger-ui.html</p>"},{"location":"reference/dependencies/#code-generation","title":"Code Generation","text":"<ul> <li>MapStruct - Compile-time DTO mapping</li> <li>Lombok - Boilerplate reduction (@Getter, @Slf4j)</li> <li>Lombok-MapStruct Binding - Compatibility layer</li> </ul> <p>Why: Compile-time mapping faster than reflection-based alternatives.</p>"},{"location":"reference/dependencies/#logging","title":"Logging","text":"<ul> <li>Logstash Logback Encoder - Structured JSON logs</li> </ul>"},{"location":"reference/dependencies/#testing","title":"Testing","text":"<ul> <li>Spring Boot Test - JUnit 5, Mockito, AssertJ</li> <li>REST Assured - REST API testing</li> <li>Testcontainers - Real database in tests (no H2 mocks)</li> </ul>"},{"location":"reference/dependencies/#frontend-stack","title":"Frontend Stack","text":""},{"location":"reference/dependencies/#core-framework_1","title":"Core Framework","text":"<ul> <li>Angular 18 LTS - Framework with standalone components</li> <li>TypeScript 5.x - Programming language</li> <li>RxJS 7.x - Reactive programming</li> <li>Zone.js - Change detection</li> </ul>"},{"location":"reference/dependencies/#ui-framework","title":"UI Framework","text":"<ul> <li>Bootstrap 5.x - CSS framework, responsive grid</li> <li>Bootstrap Icons - Icon library</li> <li>ngx-toastr - Toast notifications</li> </ul>"},{"location":"reference/dependencies/#utilities","title":"Utilities","text":"<ul> <li>date-fns - Modern date library</li> </ul>"},{"location":"reference/dependencies/#development-tools","title":"Development Tools","text":"<ul> <li>ESLint + Prettier - Linting and formatting</li> <li>Husky + lint-staged - Git hooks for automated checks</li> </ul>"},{"location":"reference/dependencies/#testing_1","title":"Testing","text":"<ul> <li>Jasmine + Karma - Testing framework and runner</li> <li>Karma Coverage - Code coverage reports</li> </ul>"},{"location":"reference/dependencies/#infrastructure","title":"Infrastructure","text":""},{"location":"reference/dependencies/#containerization","title":"Containerization","text":"<ul> <li>Docker - Container runtime</li> <li>Docker Compose - Multi-container orchestration</li> </ul> <p>Base Images (Alpine for minimal size): - <code>node:20-alpine</code> - Frontend build - <code>nginx:alpine</code> - Frontend runtime, reverse proxy - <code>eclipse-temurin:21-jdk-alpine</code> - Backend build - <code>eclipse-temurin:21-jre-alpine</code> - Backend runtime - <code>postgres:17-alpine</code> - Database</p>"},{"location":"reference/environments/","title":"Environments Configuration","text":"<p>Configuration reference for Local, Staging, and Production environments.</p>"},{"location":"reference/environments/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Docker Compose</li> <li>Environments</li> <li>URLs by Environment</li> <li>Quick Commands</li> </ol>"},{"location":"reference/environments/#overview","title":"Overview","text":"<p>The Portfolio project uses Docker Compose with environment-specific override files:</p> <p>File Structure: - <code>docker-compose.yml</code> - Base configuration (shared across all environments) - <code>docker-compose.local.yml</code> - Local development overrides - <code>docker-compose.staging.yml</code> - Staging environment overrides - <code>docker-compose.prod.yml</code> - Production environment overrides</p>"},{"location":"reference/environments/#docker-compose","title":"Docker Compose","text":""},{"location":"reference/environments/#start-services","title":"Start Services","text":"<pre><code># Local Environment\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n\n# Staging Environment\ndocker-compose -f docker-compose.yml -f docker-compose.staging.yml up --build -d\n\n# Production Environment\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d\n</code></pre>"},{"location":"reference/environments/#stop-services","title":"Stop Services","text":"<pre><code># Local\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml down\n\n# Staging\ndocker-compose -f docker-compose.yml -f docker-compose.staging.yml down\n\n# Production\ndocker-compose -f docker-compose.yml -f docker-compose.prod.yml down\n</code></pre>"},{"location":"reference/environments/#view-logs","title":"View Logs","text":"<pre><code># All services\ndocker-compose logs -f\n\n# Specific service (Local)\ndocker-compose logs -f portfolio-backend-local\ndocker-compose logs -f portfolio-frontend-local\ndocker-compose logs -f portfolio-db-local\n\n# Specific service (Staging)\ndocker-compose logs -f portfolio-backend-staging\ndocker-compose logs -f portfolio-frontend-staging\n\n# Specific service (Production)\ndocker-compose logs -f portfolio-backend-prod\ndocker-compose logs -f portfolio-frontend-prod\n</code></pre>"},{"location":"reference/environments/#environments","title":"Environments","text":""},{"location":"reference/environments/#environment-comparison","title":"Environment Comparison","text":"Environment Docker Compose Spring Profile Frontend Port Backend Port Database Local <code>docker-compose.local.yml</code> <code>dev</code> 4200 8080 localhost:5432 Staging <code>docker-compose.staging.yml</code> <code>staging</code> 3000 3001 Internal Production <code>docker-compose.prod.yml</code> <code>prod</code> 80/443 Internal Internal"},{"location":"reference/environments/#local-development","title":"Local Development","text":"<p>Characteristics: - Hot reload enabled (frontend and backend) - Debug logging (DEBUG level) - Local database on port 5432 - Swagger UI enabled - No HTTPS (HTTP only)</p> <p>Use Case: - Active development - Testing new features - Debugging - Running unit and integration tests</p>"},{"location":"reference/environments/#staging-pre-production","title":"Staging (Pre-Production)","text":"<p>Characteristics: - Production-like configuration - INFO logging level - Internal database (Docker network) - Swagger UI disabled - HTTPS optional</p> <p>Use Case: - Pre-production validation - Smoke testing - User acceptance testing (UAT) - Performance testing - Final validation before production</p>"},{"location":"reference/environments/#production","title":"Production","text":"<p>Characteristics: - Optimized builds - WARN logging level (errors only) - Internal database (Docker network) - Swagger UI disabled - HTTPS required (Let's Encrypt certificates) - Health checks enabled</p> <p>Use Case: - Live production environment - Serving real users - High availability - Monitoring and alerting enabled</p>"},{"location":"reference/environments/#urls-by-environment","title":"URLs by Environment","text":""},{"location":"reference/environments/#local-development_1","title":"Local Development","text":"<p>Access Points: - Frontend: http://localhost:4200 ou http://127.0.0.1:4200 - Backend API: http://localhost:8080 - Swagger UI: http://localhost:8080/swagger-ui.html - API Docs (JSON): http://localhost:8080/api-docs - Database: localhost:5432   - User: <code>postgres</code>   - Password: <code>postgres</code>   - Database: <code>portfolio_local</code> - Health Check: http://localhost:8080/actuator/health</p> <p>Nginx: Reverse proxy actif sur port 4200 (route vers frontend et API)</p>"},{"location":"reference/environments/#staging-internal-network","title":"Staging (Internal Network)","text":"<p>Access Points: - Frontend: http://localhost:3000 - Backend API: http://localhost:3001 - Health Check: http://localhost:3001/actuator/health - Database: Internal (not exposed)</p> <p>Nginx: Routes requests between frontend and backend</p> <p>Notes: - Swagger UI disabled - API docs disabled - Database accessible only within Docker network</p>"},{"location":"reference/environments/#production_1","title":"Production","text":"<p>Access Points: - Frontend: https://yoursite.com (port 80/443) - Backend API: https://api.yoursite.com (internal routing) - Health Check: https://api.yoursite.com/actuator/health - Database: Internal (not exposed)</p> <p>Nginx: - Handles HTTPS termination - Routes requests - Serves static files - Load balancing (if scaled)</p> <p>Security: - HTTPS enforced (automatic redirect from HTTP) - Let's Encrypt SSL certificates - HSTS headers enabled - Security headers (CSP, X-Frame-Options, etc.)</p> <p>Notes: - Swagger UI disabled - API docs disabled - All logs in JSON format (Logstash) - Database accessible only within Docker network</p>"},{"location":"reference/environments/#quick-commands","title":"Quick Commands","text":""},{"location":"reference/environments/#health-checks","title":"Health Checks","text":"<pre><code># Local\ncurl http://localhost:8080/actuator/health\n\n# Staging\ncurl http://localhost:3001/actuator/health\n\n# Production\ncurl https://api.yoursite.com/actuator/health\n</code></pre> <p>Expected Response: <pre><code>{\n  \"status\": \"UP\",\n  \"components\": {\n    \"db\": {\n      \"status\": \"UP\"\n    },\n    \"diskSpace\": {\n      \"status\": \"UP\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"reference/environments/#database-access","title":"Database Access","text":"<p>Local Only: <pre><code># Connect to PostgreSQL\ndocker exec -it portfolio-db-local psql -U portfolio_user -d portfolio_local\n\n# Common commands:\n# \\dt          - List tables\n# \\d projects  - Describe projects table\n# SELECT * FROM projects;\n# \\q           - Exit\n</code></pre></p> <p>Staging/Production: Database is not exposed externally. Access only via application or Docker network.</p>"},{"location":"reference/environments/#service-status","title":"Service Status","text":"<pre><code># Check all running containers\ndocker ps\n\n# Expected output (Local):\n# - portfolio-nginx-local\n# - portfolio-frontend-local\n# - portfolio-backend-local\n# - portfolio-db-local\n</code></pre>"},{"location":"reference/environments/#rebuild-specific-service","title":"Rebuild Specific Service","text":"<pre><code># Rebuild and restart backend only (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-backend-local\n\n# Rebuild and restart frontend only (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d portfolio-frontend-local\n\n# Rebuild everything (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml up --build -d\n</code></pre>"},{"location":"reference/environments/#clean-up","title":"Clean Up","text":"<pre><code># Stop and remove containers (Local)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml down\n\n# Stop and remove volumes (CAUTION: deletes database data)\ndocker-compose -f docker-compose.yml -f docker-compose.local.yml down -v\n\n# Remove all unused Docker resources\ndocker system prune -a -f\n</code></pre>"},{"location":"reference/environments/#environment-variables","title":"Environment Variables","text":""},{"location":"reference/environments/#required-variables","title":"Required Variables","text":"<p>.env file (root directory): <pre><code># Database\nDB_USER_PASSWORD=your_secure_password\n\n# JWT (Production/Staging only)\nJWT_SECRET=your_jwt_secret_key\n\n# Optional: Custom ports\nBACKEND_PORT=8080\nFRONTEND_PORT=4200\n</code></pre></p>"},{"location":"reference/environments/#spring-profiles","title":"Spring Profiles","text":"<p>application.yml: - <code>spring.profiles.active=dev</code> (Local) - <code>spring.profiles.active=staging</code> (Staging) - <code>spring.profiles.active=prod</code> (Production)</p> <p>Each profile has its own configuration file: - <code>application-dev.yml</code> - <code>application-staging.yml</code> - <code>application-prod.yml</code></p>"},{"location":"reference/environments/#port-reference","title":"Port Reference","text":"Service Local Staging Production Frontend 4200 3000 80/443 Backend 8080 3001 Internal (8080) Database 5432 Internal Internal Nginx N/A 80/443 80/443 <p>Internal Ports: Accessible only within Docker network, not exposed to host.</p>"},{"location":"reference/environments/#related-documentation","title":"Related Documentation","text":"<ul> <li>Setup Guide - Initial development environment setup</li> <li>CI/CD Guide - Deployment automation</li> <li>Health Checks - Monitoring and health endpoints</li> </ul>"},{"location":"reference/error-codes/","title":"API Error Codes Reference","text":""},{"location":"reference/error-codes/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Error Response Format</li> <li>HTTP Status Codes</li> <li>Common Error Messages</li> </ol>"},{"location":"reference/error-codes/#1-error-response-format","title":"1. Error Response Format","text":""},{"location":"reference/error-codes/#standard-error-response","title":"Standard Error Response","text":"<pre><code>{\n  \"status\": 404,\n  \"message\": \"Resource not found with id: 123\",\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\"\n}\n</code></pre>"},{"location":"reference/error-codes/#validation-error-response","title":"Validation Error Response","text":"<pre><code>{\n  \"status\": 400,\n  \"message\": \"Validation failed\",\n  \"timestamp\": \"2025-11-19T14:23:45.123Z\",\n  \"errors\": {\n    \"field1\": \"Error message for field1\",\n    \"field2\": \"Error message for field2\"\n  }\n}\n</code></pre>"},{"location":"reference/error-codes/#2-http-status-codes","title":"2. HTTP Status Codes","text":"Code Status Description Common Causes 200 OK Success Request completed successfully 201 Created Resource created POST request succeeded 204 No Content Success, no response body DELETE request succeeded 400 Bad Request Invalid request Validation errors, invalid arguments 401 Unauthorized Authentication required Invalid/expired token, invalid credentials 403 Forbidden Insufficient permissions Missing ROLE_ADMIN 404 Not Found Resource doesn't exist Invalid ID, resource deleted 409 Conflict Duplicate resource Unique constraint violation 429 Too Many Requests Rate limit exceeded Contact form spam prevention 500 Internal Server Error Server error Unexpected exceptions, storage failures"},{"location":"reference/error-codes/#3-common-error-messages","title":"3. Common Error Messages","text":""},{"location":"reference/error-codes/#resource-not-found-404","title":"Resource Not Found (404)","text":"Resource Error Message Project <code>Project not found with id: {id}</code> Skill <code>Skill not found with id: {id}</code> Tag <code>Tag not found with id: {id}</code> Experience <code>Experience not found with id: {id}</code> Article <code>Article not found with slug: {slug}</code> Article <code>Article not found with id: {id}</code> User <code>User not found with id: {id}</code> User <code>User not found with username: {username}</code>"},{"location":"reference/error-codes/#authentication-errors-401","title":"Authentication Errors (401)","text":"Scenario Error Message Invalid credentials <code>Invalid username or password</code> Invalid token <code>Invalid JWT token</code> Expired token <code>JWT token has expired</code> Invalid signature <code>Invalid JWT signature</code> Malformed token <code>Invalid JWT token</code> Unsupported token <code>Unsupported JWT token</code> Invalid refresh token <code>Invalid refresh token</code> Expired refresh token <code>Refresh token has expired</code>"},{"location":"reference/error-codes/#authorization-errors-403","title":"Authorization Errors (403)","text":"Scenario Error Message Insufficient permissions <code>Access denied: insufficient permissions</code> Not admin Redirect to home (no error message)"},{"location":"reference/error-codes/#validation-errors-400","title":"Validation Errors (400)","text":"Field Type Validation Error Message Title Blank <code>Title is required</code> Title Too short/long <code>Title must be between {min} and {max} characters</code> Email Blank <code>Email is required</code> Email Invalid format <code>Email must be valid</code> Description Blank <code>Description is required</code> Description Too short/long <code>Description must be between {min} and {max} characters</code> URL Invalid format <code>must be a valid URL</code> Color Invalid hex <code>Color must be a valid hex color code (e.g., #FF5733)</code> Date Future date <code>{field} cannot be in the future</code>"},{"location":"reference/error-codes/#file-upload-errors-400500","title":"File Upload Errors (400/500)","text":"Scenario Status Error Message Invalid file type 400 <code>Invalid file type. Supported types: JPEG, PNG, WebP</code> File too large 400 <code>File size exceeds maximum allowed size (10 MB)</code> Empty file 400 <code>File cannot be empty</code> Storage failure 500 <code>Failed to store file</code>"},{"location":"reference/error-codes/#rate-limiting-429","title":"Rate Limiting (429)","text":"Endpoint Error Message Contact form <code>Rate limit exceeded. You can send maximum {N} messages per hour. Please try again later.</code>"},{"location":"reference/error-codes/#duplicate-resource-409","title":"Duplicate Resource (409)","text":"Resource Error Message Tag <code>Tag with name '{name}' already exists</code> User <code>Username already exists</code> User <code>Email already exists</code>"},{"location":"reference/error-codes/#email-errors-500","title":"Email Errors (500)","text":"Scenario Error Message Send failure <code>Failed to send email. Please try again later.</code>"},{"location":"reference/error-codes/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture: Error Handling - Error handling strategy</li> <li>API Overview - API endpoints</li> </ul>"},{"location":"reference/scripts-organization/","title":"Scripts Organization Reference","text":""},{"location":"reference/scripts-organization/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Directory Structure</li> <li>Script Categories</li> <li>Usage Guide</li> <li>Adding New Scripts</li> </ol>"},{"location":"reference/scripts-organization/#1-overview","title":"1. Overview","text":"<p>Reference guide for the scripts directory organization and usage patterns in the portfolio project.</p>"},{"location":"reference/scripts-organization/#11-purpose","title":"1.1 Purpose","text":"<p>Scripts are organized by function to facilitate: - Automated deployment validation - Health check monitoring - Maintenance operations - Documentation validation - Development workflow automation</p>"},{"location":"reference/scripts-organization/#2-directory-structure","title":"2. Directory Structure","text":"<pre><code>scripts/\n\u251c\u2500\u2500 deployment/          # Deployment and validation scripts\n\u2502   \u251c\u2500\u2500 validate-deployment.sh\n\u2502   \u2514\u2500\u2500 sync-prod-to-staging.sh\n\u251c\u2500\u2500 maintenance/         # Cleanup and maintenance scripts\n\u2502   \u2514\u2500\u2500 cleanup-staging.sh\n\u251c\u2500\u2500 testing/            # Health checks and testing scripts\n\u2502   \u251c\u2500\u2500 test-health.sh\n\u2502   \u2514\u2500\u2500 run-all-tests.sh\n\u251c\u2500\u2500 docs/               # Documentation validation scripts\n\u2502   \u2514\u2500\u2500 validate-docs.sh\n\u2514\u2500\u2500 setup-permissions.sh # Initial setup script\n</code></pre>"},{"location":"reference/scripts-organization/#3-script-categories","title":"3. Script Categories","text":""},{"location":"reference/scripts-organization/#31-deployment-scripts","title":"3.1 Deployment Scripts","text":"<p>Location: <code>scripts/deployment/</code></p>"},{"location":"reference/scripts-organization/#validate-deploymentsh","title":"validate-deployment.sh","text":"<p>Purpose: Pre-deployment validation for all environments</p> <p>Usage: <pre><code>./scripts/deployment/validate-deployment.sh [local|staging|prod]\n</code></pre></p> <p>What it does: 1. Validates Docker Compose YAML syntax 2. Checks environment variables 3. Cleans existing containers 4. Builds and starts containers 5. Monitors health checks (max 180s) 6. Runs functional smoke tests 7. Displays deployment summary</p> <p>Exit codes: - 0: Success - 1: Validation failed</p> <p>Example: <pre><code># Validate staging before commit\n./scripts/deployment/validate-deployment.sh staging\n\n# Validate all environments\nfor env in local staging prod; do\n  ./scripts/deployment/validate-deployment.sh $env\ndone\n</code></pre></p>"},{"location":"reference/scripts-organization/#sync-prod-to-stagingsh","title":"sync-prod-to-staging.sh","text":"<p>Purpose: Synchronize production database to staging</p> <p>Usage: <pre><code>./scripts/deployment/sync-prod-to-staging.sh\n</code></pre></p> <p>What it does: 1. Checks that prod and staging containers are running 2. Prompts for confirmation 3. Exports production database to SQL backup 4. Terminates staging database connections 5. Drops and recreates staging database 6. Restores production data to staging 7. Displays statistics and cleanup info</p> <p>Safety features: - Confirmation prompt before execution - Automatic backup with timestamp - Retention of last 5 backups - Connection termination before drop</p> <p>Example: <pre><code># Sync production data to staging\n./scripts/deployment/sync-prod-to-staging.sh\n\n# Backups saved in: /tmp/portfolio-backups/\n</code></pre></p>"},{"location":"reference/scripts-organization/#32-maintenance-scripts","title":"3.2 Maintenance Scripts","text":"<p>Location: <code>scripts/maintenance/</code></p>"},{"location":"reference/scripts-organization/#cleanup-stagingsh","title":"cleanup-staging.sh","text":"<p>Purpose: Emergency cleanup for stuck staging containers</p> <p>Usage: <pre><code>./scripts/maintenance/cleanup-staging.sh\n</code></pre></p> <p>What it does: 1. Stops all staging containers 2. Removes all staging containers 3. Cleans up containers with old naming patterns 4. Prunes dangling images 5. Displays current container status</p> <p>When to use: - Deployment failed and containers are stuck - Need to force cleanup before redeployment - Containers in unhealthy state</p> <p>Example: <pre><code># Clean up staging before manual deployment\n./scripts/maintenance/cleanup-staging.sh\n\n# Then redeploy\nmake validate-staging\n</code></pre></p>"},{"location":"reference/scripts-organization/#33-testing-scripts","title":"3.3 Testing Scripts","text":"<p>Location: <code>scripts/testing/</code></p>"},{"location":"reference/scripts-organization/#test-healthsh","title":"test-health.sh","text":"<p>Purpose: Comprehensive health check for all environments</p> <p>Usage: <pre><code>./scripts/testing/test-health.sh [local|staging|prod]\n</code></pre></p> <p>What it tests: 1. Nginx health endpoint 2. Frontend static health 3. Backend ping endpoint 4. Backend actuator health 5. Database connectivity 6. Full health chain</p> <p>Output: - Color-coded results (green=pass, red=fail) - Test summary with pass/fail count - Exit code 0 if all pass, 1 if any fail</p> <p>Example: <pre><code># Test local environment\n./scripts/testing/test-health.sh local\n\n# Test after deployment\n./scripts/testing/test-health.sh staging\n./scripts/testing/test-health.sh prod\n</code></pre></p>"},{"location":"reference/scripts-organization/#run-all-testssh","title":"run-all-tests.sh","text":"<p>Purpose: Run all test suites (backend + frontend + integration)</p> <p>Usage: <pre><code>./scripts/testing/run-all-tests.sh\n</code></pre></p> <p>What it runs: 1. Backend unit tests (Gradle) 2. Backend integration tests 3. Frontend unit tests (Karma) 4. Frontend e2e tests (Cypress - if configured) 5. Health checks</p>"},{"location":"reference/scripts-organization/#34-documentation-scripts","title":"3.4 Documentation Scripts","text":"<p>Location: <code>scripts/docs/</code></p>"},{"location":"reference/scripts-organization/#validate-docssh","title":"validate-docs.sh","text":"<p>Purpose: Validate documentation with Vale</p> <p>Usage: <pre><code>./scripts/validate-docs.sh [path]\n</code></pre></p> <p>What it does: 1. Checks if Vale is installed 2. Verifies .vale.ini exists 3. Downloads Google style guide if missing 4. Runs Vale on specified path 5. Reports suggestions and warnings</p> <p>Example: <pre><code># Validate all documentation\n./scripts/docs/validate-docs.sh docs/\n\n# Validate specific file\n./scripts/docs/validate-docs.sh README.md\n\n# Validate before commit\n./scripts/docs/validate-docs.sh .\n</code></pre></p>"},{"location":"reference/scripts-organization/#35-setup-scripts","title":"3.5 Setup Scripts","text":"<p>Location: <code>scripts/</code></p>"},{"location":"reference/scripts-organization/#setup-permissionssh","title":"setup-permissions.sh","text":"<p>Purpose: Make all scripts executable</p> <p>Usage: <pre><code>./scripts/setup-permissions.sh\n</code></pre></p> <p>What it does: 1. Finds all .sh files in scripts directory 2. Makes them executable (chmod +x) 3. Sets permissions on pre-commit hook 4. Displays script structure</p> <p>When to use: - After cloning repository - After adding new scripts - If permission denied errors occur</p>"},{"location":"reference/scripts-organization/#4-usage-guide","title":"4. Usage Guide","text":""},{"location":"reference/scripts-organization/#41-common-workflows","title":"4.1 Common Workflows","text":"<p>Before committing: <pre><code># Validate deployment\n./scripts/deployment/validate-deployment.sh local\n\n# Validate documentation\n./scripts/docs/validate-docs.sh docs/\n</code></pre></p> <p>Before merging to staging: <pre><code># Run all tests\n./scripts/testing/run-all-tests.sh\n\n# Validate staging deployment\n./scripts/deployment/validate-deployment.sh staging\n</code></pre></p> <p>After deployment: <pre><code># Check health\n./scripts/testing/test-health.sh staging\n\n# If issues, clean up\n./scripts/maintenance/cleanup-staging.sh\n</code></pre></p> <p>Sync data to staging: <pre><code># Copy prod data to staging\n./scripts/deployment/sync-prod-to-staging.sh\n</code></pre></p>"},{"location":"reference/scripts-organization/#42-integration-with-makefile","title":"4.2 Integration with Makefile","text":"<p>Scripts are integrated into Makefile for convenience:</p> <pre><code># Using Make (recommended)\nmake validate-local     # Calls validate-deployment.sh local\nmake validate-staging   # Calls validate-deployment.sh staging\nmake clean-staging      # Calls cleanup-staging.sh (simplified)\n\n# Direct script usage (more control)\n./scripts/deployment/validate-deployment.sh local\n./scripts/maintenance/cleanup-staging.sh\n</code></pre>"},{"location":"reference/scripts-organization/#43-integration-with-cicd","title":"4.3 Integration with CI/CD","text":"<p>Scripts used in GitHub Actions workflows:</p> <p>ci-cd.yml: - Uses health check logic similar to validate-deployment.sh - Runs smoke tests (frontend, backend, database, full stack)</p> <p>health-check.yml: - Calls test-health.sh for comprehensive validation</p> <p>vale-docs.yml: - Uses Vale configuration from .vale.ini</p>"},{"location":"reference/scripts-organization/#5-adding-new-scripts","title":"5. Adding New Scripts","text":""},{"location":"reference/scripts-organization/#51-guidelines","title":"5.1 Guidelines","text":"<ol> <li>Choose appropriate directory:</li> <li>Deployment \u2192 <code>scripts/deployment/</code></li> <li>Testing \u2192 <code>scripts/testing/</code></li> <li>Maintenance \u2192 <code>scripts/maintenance/</code></li> <li> <p>Documentation \u2192 <code>scripts/docs/</code></p> </li> <li> <p>Naming convention:</p> </li> <li>Use kebab-case: <code>my-script.sh</code></li> <li> <p>Be descriptive: <code>cleanup-staging.sh</code> not <code>clean.sh</code></p> </li> <li> <p>Script template:</p> </li> </ol> <pre><code>#!/bin/bash\n# Brief description of script purpose\n# Usage: ./script-name.sh [arguments]\n\nset -e  # Exit on error\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nNC='\\033[0m' # No Color\n\n# Main logic here\necho -e \"${BLUE}Script started${NC}\"\n\n# Exit with appropriate code\nexit 0\n</code></pre> <ol> <li>Make executable:</li> </ol> <pre><code>chmod +x scripts/category/my-script.sh\n</code></pre> <ol> <li>Add to documentation:</li> <li>Update this file (scripts-organization.md)</li> <li> <p>Add usage example to README.md if user-facing</p> </li> <li> <p>Add to Makefile (optional):</p> </li> </ol> <pre><code>my-command:\n    @chmod +x scripts/category/my-script.sh\n    @scripts/category/my-script.sh\n</code></pre>"},{"location":"reference/scripts-organization/#52-best-practices","title":"5.2 Best Practices","text":"<ul> <li>Use color coding: Green for success, red for errors, yellow for warnings</li> <li>Add help text: Show usage when script is called without arguments</li> <li>Validate inputs: Check for required arguments and environment variables</li> <li>Exit codes: 0 for success, non-zero for errors</li> <li>Error handling: Use <code>set -e</code> or manual error checking</li> <li>Comments: Explain non-obvious logic</li> <li>Idempotency: Scripts should be safe to run multiple times</li> <li>Logging: Echo important steps and results</li> </ul>"},{"location":"reference/scripts-organization/#53-testing-new-scripts","title":"5.3 Testing New Scripts","text":"<p>Before committing new scripts:</p> <ol> <li>Test locally</li> <li>Test in Docker container if applicable</li> <li>Test all error paths</li> <li>Add to CI/CD if needed</li> <li>Update documentation</li> </ol>"},{"location":"reference/scripts-organization/#6-script-dependencies","title":"6. Script Dependencies","text":""},{"location":"reference/scripts-organization/#61-required-tools","title":"6.1 Required Tools","text":"<p>Scripts assume these tools are available:</p> Tool Purpose Scripts Using It bash Shell execution All scripts docker Container management All deployment/testing scripts docker-compose Multi-container orchestration All deployment scripts curl HTTP requests Health check scripts psql Database operations Database scripts vale Documentation validation validate-docs.sh"},{"location":"reference/scripts-organization/#62-optional-tools","title":"6.2 Optional Tools","text":"Tool Purpose Benefit jq JSON parsing Better health check parsing make Task automation Simplified commands git Version control Version extraction"},{"location":"reference/scripts-organization/#7-troubleshooting-scripts","title":"7. Troubleshooting Scripts","text":""},{"location":"reference/scripts-organization/#71-permission-denied","title":"7.1 Permission Denied","text":"<pre><code># Fix permissions\n./scripts/setup-permissions.sh\n\n# Or manually\nchmod +x scripts/**/*.sh\n</code></pre>"},{"location":"reference/scripts-organization/#72-script-not-found","title":"7.2 Script Not Found","text":"<pre><code># Ensure running from project root\ncd /path/to/portfolio\n\n# Check script exists\nls -la scripts/deployment/validate-deployment.sh\n</code></pre>"},{"location":"reference/scripts-organization/#73-environment-variables","title":"7.3 Environment Variables","text":"<pre><code># Check required variables\necho $DB_USER_PASSWORD\n\n# Set if missing\nexport DB_USER_PASSWORD=your_password\n\n# Or use .env file\necho \"DB_USER_PASSWORD=your_password\" &gt; .env\n</code></pre>"},{"location":"reference/scripts-organization/#8-security-considerations","title":"8. Security Considerations","text":""},{"location":"reference/scripts-organization/#81-sensitive-data","title":"8.1 Sensitive Data","text":"<ul> <li>Never hardcode passwords in scripts</li> <li>Use environment variables or .env files</li> <li>Add .env to .gitignore</li> </ul>"},{"location":"reference/scripts-organization/#82-script-execution","title":"8.2 Script Execution","text":"<ul> <li>Review scripts before running with sudo</li> <li>Validate inputs to prevent injection</li> <li>Use quotes around variables: <code>\"$VAR\"</code></li> </ul>"},{"location":"reference/scripts-organization/#9-quick-reference","title":"9. Quick Reference","text":""},{"location":"reference/scripts-organization/#91-command-cheat-sheet","title":"9.1 Command Cheat Sheet","text":"<pre><code># Setup\n./scripts/setup-permissions.sh\n\n# Validation\n./scripts/deployment/validate-deployment.sh local\n./scripts/deployment/validate-deployment.sh staging\n./scripts/deployment/validate-deployment.sh prod\n\n# Testing\n./scripts/testing/test-health.sh local\n./scripts/testing/run-all-tests.sh\n\n# Maintenance\n./scripts/maintenance/cleanup-staging.sh\n\n# Documentation\n./scripts/docs/validate-docs.sh docs/\n\n# Database\n./scripts/deployment/sync-prod-to-staging.sh\n</code></pre>"},{"location":"reference/scripts-organization/#92-make-commands","title":"9.2 Make Commands","text":"<pre><code>make validate-local\nmake validate-staging\nmake validate-prod\nmake test-local\nmake clean-local\nmake status\n</code></pre>"},{"location":"reference/versioning/","title":"Version Management Reference","text":""},{"location":"reference/versioning/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Versioning Strategy</li> <li>Frontend Versioning</li> <li>Backend Versioning</li> <li>CI/CD Integration</li> <li>Release Procedures</li> <li>Best Practices</li> </ol>"},{"location":"reference/versioning/#1-overview","title":"1. Overview","text":"<p>Automated versioning system using Git tags. Version numbers are generated automatically for frontend and backend components.</p> <p>Principle: <pre><code>Git Tag \u2192 Automated Generation \u2192 Build \u2192 Deployment\n</code></pre></p> <p>Version Sources:</p> Component Source Example Frontend Git tags (automatic) <code>0.0.1-SNAPSHOT</code> Backend <code>build.gradle</code> (manual) <code>0.0.1-SNAPSHOT</code> Docker Images CI/CD pipeline <code>v1.2.3</code>"},{"location":"reference/versioning/#2-versioning-strategy","title":"2. Versioning Strategy","text":"<p>Follows Semantic Versioning (SemVer) 2.0.0: <code>MAJOR.MINOR.PATCH[-PRERELEASE]</code></p> Element When to Increment MAJOR Incompatible API changes MINOR Backward-compatible functionality PATCH Backward-compatible bug fixes <p>Git Describe Output:</p> Scenario Output Meaning Exact tag <code>v1.2.3</code> HEAD at tag v1.2.3 After tag <code>v1.2.3-5-ga1b2c3d</code> 5 commits after tag No tags <code>a1b2c3d</code> Commit hash only Uncommitted changes <code>v1.2.3-dirty</code> Working directory modified"},{"location":"reference/versioning/#3-frontend-versioning","title":"3. Frontend Versioning","text":""},{"location":"reference/versioning/#31-configuration","title":"3.1 Configuration","text":"<p>Base version: <code>portfolio-frontend/package.json</code></p> <pre><code>{\n  \"version\": \"0.0.1\"\n}\n</code></pre> <p>Generation script: <code>portfolio-frontend/scripts/generate-version.js</code></p>"},{"location":"reference/versioning/#32-automatic-generation","title":"3.2 Automatic Generation","text":"<p>Generated file: <code>portfolio-frontend/src/environments/version.ts</code></p> <pre><code>export const VERSION = 'v1.2.3-5-ga1b2c3d';\n</code></pre> <p>Triggers:</p> Event Command Development <code>npm start</code> Build <code>npm run build</code> Docker build Dockerfile execution"},{"location":"reference/versioning/#33-usage","title":"3.3 Usage","text":"<pre><code>import { VERSION } from '../environments/version';\n\n@Component({\n  selector: 'app-root',\n  template: `&lt;footer&gt;Version: {{ version }}&lt;/footer&gt;`\n})\nexport class AppComponent {\n  version = VERSION;\n}\n</code></pre> <p>Health endpoint:</p> <pre><code>curl http://localhost:4200/health.json\n</code></pre>"},{"location":"reference/versioning/#4-backend-versioning","title":"4. Backend Versioning","text":""},{"location":"reference/versioning/#41-configuration","title":"4.1 Configuration","text":"<p>File: <code>portfolio-backend/build.gradle</code></p> <pre><code>version = '0.0.1-SNAPSHOT'\n</code></pre>"},{"location":"reference/versioning/#42-access-via-actuator","title":"4.2 Access via Actuator","text":"<p>Endpoint: <code>/actuator/info</code></p> <pre><code>curl http://localhost:8080/actuator/info\n</code></pre> <p>Response:</p> <pre><code>{\n  \"build\": {\n    \"version\": \"0.0.1-SNAPSHOT\",\n    \"artifact\": \"portfolio-backend\"\n  }\n}\n</code></pre>"},{"location":"reference/versioning/#5-cicd-integration","title":"5. CI/CD Integration","text":""},{"location":"reference/versioning/#51-version-extraction","title":"5.1 Version Extraction","text":"<p>Workflow: <code>.github/workflows/ci-cd.yml</code></p> <pre><code>- name: Extract version from Git tags\n  run: |\n    VERSION=$(git describe --tags --always --dirty 2&gt;/dev/null || echo \"0.0.1-SNAPSHOT\")\n    echo \"VERSION=$VERSION\" &gt;&gt; $GITHUB_OUTPUT\n</code></pre>"},{"location":"reference/versioning/#52-docker-image-tagging","title":"5.2 Docker Image Tagging","text":"<p>Images tagged with multiple tags after deployment:</p> <pre><code>portfolio-backend:v1.2.3\nportfolio-backend:latest\nportfolio-backend:prod-latest\n</code></pre>"},{"location":"reference/versioning/#53-git-directory-requirement","title":"5.3 Git Directory Requirement","text":"<p>CI/CD pipeline copies <code>.git</code> directory to deployment location for frontend version generation.</p>"},{"location":"reference/versioning/#6-release-procedures","title":"6. Release Procedures","text":""},{"location":"reference/versioning/#61-standard-release","title":"6.1 Standard Release","text":"<pre><code>git add .\ngit commit -m \"feat: implement new feature\"\ngit tag -a v1.1.0 -m \"Release v1.1.0: New feature description\"\ngit push origin main v1.1.0\n</code></pre>"},{"location":"reference/versioning/#62-release-candidate","title":"6.2 Release Candidate","text":"<pre><code>git tag -a v1.1.0-rc1 -m \"Release Candidate 1 for v1.1.0\"\ngit push origin v1.1.0-rc1\n</code></pre>"},{"location":"reference/versioning/#63-hotfix-release","title":"6.3 Hotfix Release","text":"<pre><code>git tag -a v1.0.1 -m \"Hotfix: Critical bug correction\"\ngit push origin v1.0.1\n</code></pre>"},{"location":"reference/versioning/#64-manual-version-update","title":"6.4 Manual Version Update","text":"<p>Frontend: <pre><code># Edit portfolio-frontend/package.json \u2192 \"version\": \"1.1.0\"\nnpm run version:generate\nnpm run build\n</code></pre></p> <p>Backend: <pre><code># Edit portfolio-backend/build.gradle \u2192 version = '1.1.0'\n./gradlew clean bootJar\n</code></pre></p>"},{"location":"reference/versioning/#65-version-verification","title":"6.5 Version Verification","text":"<pre><code># Git version\ngit describe --tags --always --dirty\n\n# Frontend version\ncat portfolio-frontend/src/environments/version.ts\n\n# Backend version\ncurl http://localhost:8080/actuator/info | jq '.build.version'\n\n# Docker images\ndocker images | grep portfolio\n</code></pre>"},{"location":"reference/versioning/#7-best-practices","title":"7. Best Practices","text":""},{"location":"reference/versioning/#71-tagging-standards","title":"7.1 Tagging Standards","text":"<p>Use annotated tags with descriptive messages:</p> <pre><code># Good\ngit tag -a v1.0.0 -m \"Release 1.0.0: Add authentication and error handling\"\n\n# Avoid\ngit tag v1.0.0\n</code></pre>"},{"location":"security/","title":"Security Documentation","text":""},{"location":"security/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Introduction</li> <li>Authentication</li> <li>Authorization</li> <li>Password Security</li> <li>Rate Limiting</li> <li>Security Best Practices</li> <li>Initial Setup</li> </ol>"},{"location":"security/#1-introduction","title":"1. Introduction","text":"<p>This section provides comprehensive documentation of the Portfolio application security architecture. The application implements multiple layers of security including JWT authentication, role-based access control, password hashing, and rate limiting.</p> <p>Security Stack: - Authentication: JWT (JSON Web Tokens) with access + refresh tokens - Authorization: Spring Security with role-based access control (RBAC) - Password Hashing: BCrypt with salt (10 rounds) - Rate Limiting: Redis-backed IP-based rate limiting - HTTPS: SSL/TLS encryption in production</p> <p>Key Security Principles: - Defense in depth (multiple security layers) - Least privilege (users have minimum required permissions) - Stateless authentication (no server-side sessions) - Secure by default (restrictive default configuration) - Token rotation (automatic refresh token rotation)</p>"},{"location":"security/#2-authentication","title":"2. Authentication","text":""},{"location":"security/#21-authentication-architecture","title":"2.1 Authentication Architecture","text":"<p>File: authentication.md</p> <p>Description: Complete authentication architecture with JWT dual-token system, login flow, and token management.</p> <p>Key Features: - JWT dual-token system (access + refresh) - Stateless authentication (no server-side sessions) - Automatic token refresh via HTTP interceptor - Token revocation on logout (refresh tokens) - BCrypt password hashing</p> <p>Token Lifetimes: - Access Token: 15 minutes (JWT, stateless) - Refresh Token: 7 days (UUID, stored in database)</p> <p>Authentication Flow: <pre><code>User Login \u2192 Credentials Validation \u2192 Generate Tokens\n\u2192 Frontend stores in localStorage \u2192 Attach to requests\n\u2192 Token expires (401) \u2192 Automatic refresh \u2192 Retry request\n</code></pre></p>"},{"location":"security/#22-jwt-implementation","title":"2.2 JWT Implementation","text":"<p>File: jwt-implementation.md</p> <p>Description: Detailed JWT implementation with token generation, validation, and refresh flow.</p> <p>Key Components: - JwtTokenProvider: Token generation and validation service - JwtAuthenticationFilter: Spring Security filter for token validation - Frontend JWT Interceptor: Automatic token refresh on 401</p> <p>Token Structure: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"username\",\n  \"authorities\": [{\"authority\": \"ROLE_ADMIN\"}],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p> <p>Configuration: <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}      # HS256 secret (256+ bits)\n    expiration: 900000         # 15 minutes\n    refresh-expiration: 7      # 7 days\n</code></pre></p>"},{"location":"security/#3-authorization","title":"3. Authorization","text":""},{"location":"security/#31-role-based-access-control-rbac","title":"3.1 Role-Based Access Control (RBAC)","text":"<p>File: rbac.md</p> <p>Description: Complete RBAC implementation with roles, permissions, and endpoint protection.</p> <p>Roles:</p> Role Authority Description USER <code>ROLE_USER</code> Standard authenticated user ADMIN <code>ROLE_ADMIN</code> Administrator with full access <p>Endpoint Protection:</p> Endpoint Pattern Required Role Access <code>/api/auth/**</code> Public Login, refresh, logout <code>/api/projects</code> Public Read-only access <code>/api/articles</code> Public Published articles only <code>/api/admin/**</code> ROLE_ADMIN All admin operations <p>Implementation: - Backend: Spring Security <code>SecurityFilterChain</code> configuration - Frontend: Route guards (<code>authGuard</code>, <code>adminGuard</code>) - Method-level: <code>@PreAuthorize(\"hasRole('ADMIN')\")</code></p>"},{"location":"security/#4-password-security","title":"4. Password Security","text":""},{"location":"security/#41-password-management","title":"4.1 Password Management","text":"<p>File: password-management.md</p> <p>Description: Secure password management with BCrypt hashing and password change workflow.</p> <p>Hashing Configuration: - Algorithm: BCrypt with automatic salt generation - Strength: 10 rounds (1,024 iterations, ~100ms) - No plain-text storage (all passwords hashed)</p> <p>Password Requirements: - Minimum length: 8 characters (backend enforced) - Optional frontend validation: uppercase, lowercase, numbers</p> <p>Password Change Flow: 1. User submits current password + new password 2. Backend verifies current password (BCrypt comparison) 3. If valid: hash new password and update database 4. If invalid: return 400 Bad Request</p> <p>Security Features: - Current password verification required - BCrypt slow hashing (resistant to brute force) - Salted hashes (prevents rainbow table attacks) - No password reset feature (admin-managed system)</p>"},{"location":"security/#5-rate-limiting","title":"5. Rate Limiting","text":""},{"location":"security/#51-rate-limiting-implementation","title":"5.1 Rate Limiting Implementation","text":"<p>File: rate-limiting.md</p> <p>Description: IP-based rate limiting with Redis for spam prevention and abuse protection.</p> <p>Strategy: Fixed window (1-hour window, resets after expiration)</p> <p>Storage: Redis with atomic operations (thread-safe, distributed)</p> <p>Rate Limits by Environment:</p> Environment Max Requests/Hour Use Case Development 10 Lenient for testing Staging 5 Production-like testing Production 3 Strict spam prevention <p>Protected Endpoints: - <code>POST /api/contact</code> (public contact form)</p> <p>Redis Key Format: <code>rate_limit:contact:{ip_address}</code></p> <p>Error Response (429): <pre><code>{\n  \"status\": 429,\n  \"error\": \"Too Many Requests\",\n  \"message\": \"Rate limit exceeded. Maximum 3 messages per hour.\"\n}\n</code></pre></p> <p>Features: - IP extraction with X-Forwarded-For support (proxy-aware) - Atomic Redis increment operations (no race conditions) - Automatic cleanup via TTL (1 hour expiration) - Distributed tracking (works across multiple servers)</p>"},{"location":"security/#6-security-best-practices","title":"6. Security Best Practices","text":""},{"location":"security/#61-backend-security-checklist","title":"6.1 Backend Security Checklist","text":"<p>Authentication &amp; Authorization: - Short-lived access tokens (15 minutes) - Long-lived refresh tokens with database storage (revocable) - Token signature verification (HMAC-SHA256) - Role-based access control (RBAC) - Backend enforces all permissions (never trust frontend) - Method-level authorization with <code>@PreAuthorize</code></p> <p>Password Security: - BCrypt hashing with salt (10 rounds) - Current password verification for changes - No plain-text password storage - No password reset (admin-managed system)</p> <p>Input Validation: - Bean Validation (<code>@Valid</code>, <code>@NotBlank</code>, <code>@Size</code>) - MIME type validation (magic bytes, not file extensions) - File size limits (10 MB) - Path traversal prevention (sanitized filenames) - SVG sanitization (whitelist-based XSS/XXE prevention) - see svg-sanitization.md</p> <p>Rate Limiting: - IP-based rate limiting (contact form) - Redis-backed atomic operations - Environment-specific limits</p> <p>Error Handling: - Generic error messages (no sensitive info leak) - Consistent error response format - Stack traces disabled in production</p>"},{"location":"security/#62-frontend-security-checklist","title":"6.2 Frontend Security Checklist","text":"<p>Token Management: - localStorage for token storage (XSS mitigation via CSP) - Automatic token refresh via HTTP interceptor - Logout clears all stored tokens</p> <p>Route Protection: - authGuard for authenticated routes - adminGuard for admin-only routes - Redirect to login on unauthorized access</p> <p>Input Sanitization: - Angular built-in XSS protection (template binding) - Automatic escaping for user-generated content - Sanitization for innerHTML (when necessary)</p>"},{"location":"security/#63-production-deployment-security-checklist","title":"6.3 Production Deployment Security Checklist","text":"<p>Before Production Deployment:</p> <ul> <li> Change JWT secret to strong, random value (256+ bits)</li> <li> Enable HTTPS with valid SSL/TLS certificates</li> <li> Configure CORS (restrict allowed origins)</li> <li> Disable stack traces in error responses</li> <li> Enable production rate limits (strict values)</li> <li> Disable Swagger UI in production</li> <li> Configure firewall rules (database, Redis ports closed)</li> <li> Enable database backups (automated, encrypted)</li> <li> Set up monitoring and alerting (failed logins, rate limit violations)</li> <li> Review log levels (WARN or ERROR only in production)</li> <li> Validate all environment variables (no defaults in production)</li> <li> Test authentication and authorization flows</li> <li> Review file upload permissions and storage paths</li> <li> Enable Redis password authentication</li> <li> Configure session timeout (frontend activity monitor)</li> </ul>"},{"location":"security/#64-security-configuration-reference","title":"6.4 Security Configuration Reference","text":"<p>JWT Security: <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}              # Strong random secret (256+ bits)\n    expiration: 900000                 # 15 minutes\n    refresh-expiration: 7              # 7 days\n</code></pre></p> <p>Rate Limiting: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3         # Production: strict\n</code></pre></p> <p>File Upload Security: <pre><code>file:\n  upload:\n    max-size: 10MB                     # Prevent large uploads\n    allowed-extensions:                # Whitelist only\n      - jpg\n      - jpeg\n      - png\n      - webp\n      - pdf\n</code></pre></p> <p>CORS Configuration: <pre><code>cors:\n  allowed-origins: https://yoursite.com  # Production domain only\n  allowed-methods: GET,POST,PUT,DELETE\n  allowed-headers: Authorization,Content-Type\n</code></pre></p>"},{"location":"security/#7-initial-setup","title":"7. Initial Setup","text":"<p>File: initial-setup.md</p> <p>Description: Security-critical configuration required before production deployment.</p> <p>Required Environment Variables:</p> Variable Description Required In <code>ADMIN_PASSWORD_HASH</code> BCrypt hash for admin user All environments <code>JWT_SECRET</code> JWT signing secret (256+ bits) Prod, Staging <p>Configuration Steps: 1. Generate BCrypt hash for admin password 2. Generate secure JWT secret (openssl rand -base64 64) 3. Set environment variables in <code>.env</code> or CI/CD secrets 4. Configure Docker Compose to inject variables</p> <p>Validation: - <code>JwtSecurityConfig</code>: Validates JWT secret at startup (crashes if invalid in prod/staging) - <code>AdminSeeder</code>: Creates admin user from environment variable at startup</p>"},{"location":"security/#related-documentation","title":"Related Documentation","text":"<p>Security Documentation: - Initial Setup - Admin user and JWT secret configuration - SVG Sanitization - SVG upload security (XSS/XXE prevention) - JWT Implementation - JWT token generation and validation - RBAC - Role-based access control - Password Management - BCrypt hashing and password security - Rate Limiting - IP-based rate limiting</p> <p>Related Modules: - API: Authentication - Authentication API endpoints - Architecture: Frontend - Frontend security patterns - Architecture: Error Handling - Error handling strategy - Features: Contact Form - Contact form with rate limiting - Features: File Storage - General file upload security - Reference: Configuration Properties - Security configuration - Reference: Error Codes - Security error codes (401, 403, 429) - Deployment: CI/CD - Secure deployment pipeline</p>"},{"location":"security/authentication/","title":"Authentication Architecture","text":""},{"location":"security/authentication/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>JWT Architecture</li> <li>Authentication Flow</li> <li>Token Management</li> <li>Security Features</li> <li>Configuration</li> </ol>"},{"location":"security/authentication/#1-overview","title":"1. Overview","text":"<p>The Portfolio application uses stateless JWT (JSON Web Tokens) authentication with a dual-token system.</p> <p>Technology Stack: - Backend: Spring Security 6.x + JJWT library - Frontend: Angular 18 with HTTP interceptors - Storage: Database for refresh tokens, localStorage for client tokens</p> <p>Key Features: - Stateless authentication (no server-side sessions) - Dual-token system (access + refresh) - Automatic token refresh - Role-based access control (RBAC) - BCrypt password hashing</p>"},{"location":"security/authentication/#2-jwt-architecture","title":"2. JWT Architecture","text":""},{"location":"security/authentication/#token-types","title":"Token Types","text":"<p>The system uses two types of JWT tokens:</p>"},{"location":"security/authentication/#access-token","title":"Access Token","text":"<p>Purpose: Short-lived token for API requests</p> <p>Characteristics: - Validity: 15 minutes - Storage: Client-side only (localStorage) - Usage: Included in <code>Authorization</code> header for all protected requests - Cannot be revoked: Stateless design, valid until expiration</p> <p>Token Structure: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"admin\",\n  \"authorities\": [\n    {\n      \"authority\": \"ROLE_ADMIN\"\n    }\n  ],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p> <p>Payload Fields: | Field | Description | |-------|-------------| | <code>type</code> | Token type (\"access\") | | <code>sub</code> | Subject (username) | | <code>authorities</code> | User roles (for authorization) | | <code>iss</code> | Issuer (backend identifier) | | <code>aud</code> | Audience (frontend identifier) | | <code>iat</code> | Issued at (timestamp) | | <code>exp</code> | Expiration (timestamp) |</p>"},{"location":"security/authentication/#refresh-token","title":"Refresh Token","text":"<p>Purpose: Long-lived token for obtaining new access tokens</p> <p>Characteristics: - Validity: 7 days - Storage: Client-side (localStorage) + Database - Usage: Used only for <code>/api/auth/refresh</code> endpoint - Can be revoked: Stored in database, deleted on logout</p> <p>Token Structure: <pre><code>{\n  \"type\": \"refresh\",\n  \"sub\": \"admin\",\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700604800\n}\n</code></pre></p> <p>Database Storage: <pre><code>CREATE TABLE refresh_tokens (\n  id BIGSERIAL PRIMARY KEY,\n  token VARCHAR(500) NOT NULL UNIQUE,\n  user_id BIGINT NOT NULL REFERENCES users(id),\n  expiry_date TIMESTAMP NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n</code></pre></p>"},{"location":"security/authentication/#3-authentication-flow","title":"3. Authentication Flow","text":""},{"location":"security/authentication/#31-login-flow","title":"3.1 Login Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502                \u2502 Spring Boot \u2502               \u2502 Database \u2502\n\u2502 Client  \u2502                \u2502   Backend   \u2502               \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                            \u2502                           \u2502\n     \u2502 1. POST /auth/login        \u2502                           \u2502\n     \u2502    {username, password}    \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 2. Load user by username  \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                            \u2502   User entity             \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 3. Verify password        \u2502\n     \u2502                            \u2502    (BCrypt comparison)    \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 4. Generate access token  \u2502\n     \u2502                            \u2502    (JWT, 15 min)          \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 5. Generate refresh token \u2502\n     \u2502                            \u2502    (JWT, 7 days)          \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 6. Store refresh token    \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 7. Return tokens           \u2502                           \u2502\n     \u2502    {accessToken, ...}      \u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 8. Store tokens            \u2502                           \u2502\n     \u2502    localStorage.setItem()  \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n</code></pre> <p>Steps: 1. User submits username and password 2. Backend loads user from database 3. Password verified with BCrypt 4. Access token generated (15 min expiry) 5. Refresh token generated (7 day expiry) 6. Refresh token stored in database with user association 7. Both tokens returned to client 8. Client stores tokens in localStorage</p>"},{"location":"security/authentication/#32-token-refresh-flow","title":"3.2 Token Refresh Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502                \u2502 Spring Boot \u2502               \u2502 Database \u2502\n\u2502 Client  \u2502                \u2502   Backend   \u2502               \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                            \u2502                           \u2502\n     \u2502 1. Access token expired    \u2502                           \u2502\n     \u2502    (detected via 401)      \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 2. POST /auth/refresh      \u2502                           \u2502\n     \u2502    {refreshToken}          \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 3. Validate refresh token \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                            \u2502   Token exists &amp; valid    \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 4. Delete old token       \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 5. Generate new tokens    \u2502\n     \u2502                            \u2502    (access + refresh)     \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 6. Store new refresh token\u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 7. Return new tokens       \u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 8. Update localStorage     \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 9. Retry original request  \u2502                           \u2502\n     \u2502    with new access token   \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502    Success                 \u2502                           \u2502\n</code></pre> <p>Key Points: - Old refresh token is deleted (single-use) - New refresh token is generated and stored - Access token is also regenerated - Client automatically retries failed request</p>"},{"location":"security/authentication/#33-logout-flow","title":"3.3 Logout Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502                \u2502 Spring Boot \u2502               \u2502 Database \u2502\n\u2502 Client  \u2502                \u2502   Backend   \u2502               \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                            \u2502                           \u2502\n     \u2502 1. POST /auth/logout       \u2502                           \u2502\n     \u2502    {refreshToken}          \u2502                           \u2502\n     \u2502    Authorization: Bearer   \u2502                           \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502                            \u2502 2. Delete refresh token   \u2502\n     \u2502                            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 3. Success response        \u2502                           \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 4. Clear localStorage      \u2502                           \u2502\n     \u2502    removeItem(tokens)      \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n     \u2502 5. Redirect to login       \u2502                           \u2502\n     \u2502                            \u2502                           \u2502\n</code></pre> <p>Note: Access token cannot be revoked (stateless), but will expire within 15 minutes.</p>"},{"location":"security/authentication/#4-token-management","title":"4. Token Management","text":""},{"location":"security/authentication/#token-generation","title":"Token Generation","text":"<p>Backend Code (JwtTokenProvider.java): <pre><code>@Component\npublic class JwtTokenProvider {\n\n    @Value(\"${jwt.secret}\")\n    private String jwtSecret;\n\n    @Value(\"${jwt.access-token-expiration}\")\n    private long accessTokenExpiration; // 900000 ms (15 min)\n\n    @Value(\"${jwt.refresh-token-expiration}\")\n    private long refreshTokenExpiration; // 604800000 ms (7 days)\n\n    public String generateAccessToken(Authentication authentication) {\n        UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n\n        return Jwts.builder()\n                .claim(\"type\", \"access\")\n                .claim(\"authorities\", userDetails.getAuthorities())\n                .setSubject(userDetails.getUsername())\n                .setIssuer(\"portfolio-backend\")\n                .setAudience(\"portfolio-frontend\")\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + accessTokenExpiration))\n                .signWith(SignatureAlgorithm.HS256, jwtSecret)\n                .compact();\n    }\n\n    public String generateRefreshToken(String username) {\n        return Jwts.builder()\n                .claim(\"type\", \"refresh\")\n                .setSubject(username)\n                .setIssuer(\"portfolio-backend\")\n                .setAudience(\"portfolio-frontend\")\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + refreshTokenExpiration))\n                .signWith(SignatureAlgorithm.HS256, jwtSecret)\n                .compact();\n    }\n}\n</code></pre></p>"},{"location":"security/authentication/#token-validation","title":"Token Validation","text":"<p>Backend Code: <pre><code>public boolean validateToken(String token) {\n    try {\n        Jwts.parser()\n            .setSigningKey(jwtSecret)\n            .parseClaimsJws(token);\n        return true;\n    } catch (SignatureException ex) {\n        log.error(\"[JWT_VALIDATION] Invalid JWT signature\");\n    } catch (MalformedJwtException ex) {\n        log.error(\"[JWT_VALIDATION] Invalid JWT token\");\n    } catch (ExpiredJwtException ex) {\n        log.error(\"[JWT_VALIDATION] Expired JWT token\");\n    } catch (UnsupportedJwtException ex) {\n        log.error(\"[JWT_VALIDATION] Unsupported JWT token\");\n    } catch (IllegalArgumentException ex) {\n        log.error(\"[JWT_VALIDATION] JWT claims string is empty\");\n    }\n    return false;\n}\n</code></pre></p>"},{"location":"security/authentication/#token-rotation","title":"Token Rotation","text":"<p>Refresh Token Rotation (security best practice):</p> <ol> <li>When <code>/auth/refresh</code> is called:</li> <li>Old refresh token is validated</li> <li>Old refresh token is deleted from database</li> <li>New refresh token is generated and stored</li> <li> <p>New access token is also generated</p> </li> <li> <p>This prevents:</p> </li> <li>Refresh token reuse attacks</li> <li>Stolen token exploitation</li> <li>Long-term token persistence</li> </ol> <p>Implementation: <pre><code>public AuthResponse refreshTokens(RefreshTokenRequest request) {\n    String refreshToken = request.getRefreshToken();\n\n    // Validate token\n    if (!jwtTokenProvider.validateToken(refreshToken)) {\n        throw new InvalidTokenException(\"Invalid refresh token\");\n    }\n\n    // Get username from token\n    String username = jwtTokenProvider.getUsernameFromToken(refreshToken);\n\n    // Delete old refresh token (single-use)\n    refreshTokenRepository.deleteByToken(refreshToken);\n\n    // Generate new tokens\n    User user = userRepository.findByUsername(username)\n        .orElseThrow(() -&gt; new UserNotFoundException(\"User not found\"));\n\n    String newAccessToken = jwtTokenProvider.generateAccessToken(user);\n    String newRefreshToken = jwtTokenProvider.generateRefreshToken(user.getUsername());\n\n    // Store new refresh token\n    RefreshToken newToken = new RefreshToken(newRefreshToken, user);\n    refreshTokenRepository.save(newToken);\n\n    return new AuthResponse(newAccessToken, newRefreshToken);\n}\n</code></pre></p>"},{"location":"security/authentication/#user-details-loading","title":"User Details Loading","text":"<p>CustomUserDetailsService handles user loading for Spring Security authentication.</p> <p>Location: <code>security/CustomUserDetailsService.java</code></p> <p>Implementation: <pre><code>@Service\n@RequiredArgsConstructor\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(\"User not found: \" + username));\n\n        return org.springframework.security.core.userdetails.User.builder()\n            .username(user.getUsername())\n            .password(user.getPassword())\n            .authorities(user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList()))\n            .build();\n    }\n}\n</code></pre></p> <p>Purpose: - Loads user from database by username - Converts application <code>User</code> entity to Spring Security <code>UserDetails</code> - Maps user roles to Spring Security authorities - Used by <code>DaoAuthenticationProvider</code> during authentication</p>"},{"location":"security/authentication/#5-security-features","title":"5. Security Features","text":""},{"location":"security/authentication/#password-security","title":"Password Security","text":"<p>Hashing Algorithm: BCrypt with strength 10</p> <p>Example: <pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder(10);\n}\n\n// Usage\nString hashedPassword = passwordEncoder.encode(rawPassword);\nboolean matches = passwordEncoder.matches(rawPassword, hashedPassword);\n</code></pre></p> <p>Benefits: - Salt automatically generated - Computationally expensive (prevents brute-force) - Industry-standard algorithm</p>"},{"location":"security/authentication/#token-security","title":"Token Security","text":"<p>JWT Secret: - Minimum 256 bits (32 characters) - Stored in environment variables (not in code) - Different secrets for dev/staging/prod</p> <p>Token Expiration: - Access: 15 minutes (limits exposure) - Refresh: 7 days (balance between security and UX)</p> <p>Token Validation: - Signature verification - Expiration check - Issuer/audience validation - Type claim verification</p>"},{"location":"security/authentication/#cors-configuration","title":"CORS Configuration","text":"<p>Allowed Origins: <pre><code>@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(\n        \"http://localhost:4200\",  // Angular dev\n        \"http://localhost:3000\",  // Staging\n        \"https://yoursite.com\"    // Production\n    ));\n    configuration.setAllowedMethods(Arrays.asList(\"GET\", \"POST\", \"PUT\", \"DELETE\"));\n    configuration.setAllowedHeaders(Arrays.asList(\"*\"));\n    configuration.setAllowCredentials(true);\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(\"/api/**\", configuration);\n    return source;\n}\n</code></pre></p>"},{"location":"security/authentication/#6-configuration","title":"6. Configuration","text":""},{"location":"security/authentication/#application-properties","title":"Application Properties","text":"<p>File: <code>application.yml</code></p> <pre><code>jwt:\n  secret: ${JWT_SECRET:your-256-bit-secret-key-change-in-production}\n  access-token-expiration: 900000      # 15 minutes in milliseconds\n  refresh-token-expiration: 604800000  # 7 days in milliseconds\n  issuer: portfolio-backend\n  audience: portfolio-frontend\n</code></pre>"},{"location":"security/authentication/#environment-variables","title":"Environment Variables","text":"<p>Required: <pre><code># Production\nJWT_SECRET=your-strong-secret-key-min-256-bits\n\n# Development (optional, uses default)\n# JWT_SECRET not set, uses application.yml default\n</code></pre></p>"},{"location":"security/authentication/#related-documentation","title":"Related Documentation","text":"<ul> <li>API: Authentication - Authentication endpoints</li> <li>Security: RBAC - Role-based access control</li> <li>Security: Password Management - Password policies</li> <li>Development: Testing - Testing authentication</li> </ul>"},{"location":"security/initial-setup/","title":"Initial Security Setup","text":""},{"location":"security/initial-setup/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Admin User Setup</li> <li>JWT Secret Setup</li> <li>Database Password Setup</li> <li>Mail Configuration</li> <li>Environment Variables Summary</li> <li>Docker Compose Configuration</li> </ol>"},{"location":"security/initial-setup/#1-overview","title":"1. Overview","text":"<p>Security-critical configuration for the Portfolio application. Requirements vary by environment.</p>"},{"location":"security/initial-setup/#11-requirements-by-environment","title":"1.1 Requirements by Environment","text":"Variable Dev (local) Staging Production <code>DB_USER_PASSWORD</code> Required Required Required <code>MAIL_USERNAME</code> Required Required Required <code>MAIL_APP_PASSWORD</code> Required Required Required <code>JWT_SECRET</code> Optional (uses default) Required Required <code>ADMIN_PASSWORD_HASH</code> Optional (admin not created) Required Required"},{"location":"security/initial-setup/#12-quick-start-by-environment","title":"1.2 Quick Start by Environment","text":"<p>Development (local): <pre><code># Minimum required in .env:\nDB_USER_PASSWORD=your_local_db_password\nMAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=your_gmail_app_password\n\n# Optional - add only if you need admin access:\nADMIN_PASSWORD_HASH=$2a$10$your_bcrypt_hash_here\n</code></pre></p> <p>Staging / Production: <pre><code># ALL variables required in .env:\nDB_USER_PASSWORD=secure_db_password\nMAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=your_gmail_app_password\nJWT_SECRET=your_64_char_random_secret\nADMIN_PASSWORD_HASH=$2a$10$your_bcrypt_hash_here\n</code></pre></p>"},{"location":"security/initial-setup/#13-what-happens-if-missing","title":"1.3 What Happens If Missing?","text":"Variable Dev Staging/Prod <code>JWT_SECRET</code> Uses default (warning logged) App crashes at startup <code>ADMIN_PASSWORD_HASH</code> Admin not created (warning logged) Admin not created (error logged) <code>DB_USER_PASSWORD</code> Database connection fails Database connection fails <code>MAIL_USERNAME/PASSWORD</code> Contact form emails fail Contact form emails fail"},{"location":"security/initial-setup/#14-security-principles","title":"1.4 Security Principles","text":"<ul> <li>No hardcoded credentials in codebase</li> <li>Environment-based configuration (different values per environment)</li> <li>Application startup validation (fails fast if misconfigured in prod)</li> <li>BCrypt for password hashing (one-way, salted)</li> </ul>"},{"location":"security/initial-setup/#2-admin-user-setup","title":"2. Admin User Setup","text":""},{"location":"security/initial-setup/#21-adminseeder-overview","title":"2.1 AdminSeeder Overview","text":"<p>Admin user creation is handled by <code>AdminSeeder</code> at application startup.</p> <p>Behavior: - Checks if admin user exists (by username) - If not exists and <code>ADMIN_PASSWORD_HASH</code> is set: creates admin user - If not exists and hash is missing: logs warning (dev) or error (prod/staging) - Never overwrites existing admin user</p> <p>Default Admin Credentials: - Username: <code>admin</code> (fixed) - Email: <code>admin@portfolio.local</code> (fixed, not used for login) - Role: <code>ROLE_ADMIN</code></p>"},{"location":"security/initial-setup/#22-generate-bcrypt-hash","title":"2.2 Generate BCrypt Hash","text":"<p>Using the provided script (recommended):</p> <pre><code># Unix/Linux/macOS\n./scripts/security/generate-bcrypt-hash.sh\n\n# Enter your password when prompted\n</code></pre> <p>Using Python (if bcrypt is installed):</p> <pre><code>pip install bcrypt\npython -c \"import bcrypt; print(bcrypt.hashpw(b'YourSecurePassword123!', bcrypt.gensalt(10)).decode())\"\n</code></pre> <p>Using htpasswd (Apache utils):</p> <pre><code>htpasswd -nbBC 10 \"\" \"YourSecurePassword123!\" | tr -d ':\\n' | sed 's/$2y/$2a/'\n</code></pre> <p>Using online tools (for testing only): - https://bcrypt-generator.com/ - Use 10 rounds</p> <p>Hash Format: The hash must start with <code>$2a$</code>, <code>$2b$</code>, or <code>$2y$</code> (BCrypt variants).</p> <p>Example: <code>$2a$10$K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6s</code></p>"},{"location":"security/initial-setup/#23-set-environment-variable","title":"2.3 Set Environment Variable","text":"<p>Local development (<code>.env</code> file):</p> <pre><code>ADMIN_PASSWORD_HASH=$2a$10$K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6s\n</code></pre> <p>CI/CD (GitHub Actions): - Add <code>ADMIN_PASSWORD_HASH</code> as a repository secret - Reference in workflow: <code>${{ secrets.ADMIN_PASSWORD_HASH }}</code></p> <p>Server (production/staging):</p> <pre><code>export ADMIN_PASSWORD_HASH='$2a$10$K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6s'\n</code></pre> <p>Important: Use single quotes to prevent shell expansion of <code>$</code> characters.</p>"},{"location":"security/initial-setup/#3-jwt-secret-setup","title":"3. JWT Secret Setup","text":""},{"location":"security/initial-setup/#31-jwtsecurityconfig-overview","title":"3.1 JwtSecurityConfig Overview","text":"<p>JWT secret validation is handled by <code>JwtSecurityConfig</code> at application startup.</p> <p>Validation Rules (prod/staging only): - Secret must not contain \"dev\" or \"default\" (case-insensitive) - Secret must be at least 43 characters (256 bits base64) - Validation failure causes application to crash with clear error message</p> <p>Behavior by Environment: | Environment | Default Secret Used | Result | |-------------|---------------------|--------| | <code>dev</code> | Yes | Warning logged, app starts | | <code>dev</code> | No | Info logged, app starts | | <code>staging</code> | Yes | Error, app crashes | | <code>staging</code> | No | Info logged, app starts | | <code>prod</code> | Yes | Error, app crashes | | <code>prod</code> | No | Info logged, app starts |</p>"},{"location":"security/initial-setup/#32-generate-jwt-secret","title":"3.2 Generate JWT Secret","text":"<p>Using openssl (recommended):</p> <pre><code>openssl rand -base64 64\n</code></pre> <p>This generates a 512-bit random string encoded in base64 (88 characters).</p> <p>Using /dev/urandom:</p> <pre><code>head -c 64 /dev/urandom | base64\n</code></pre> <p>Example output: <pre><code>K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6sT7uV8wX9yZ0aB1cD2eF3gH4iJ5kL6mN7oP8q==\n</code></pre></p>"},{"location":"security/initial-setup/#33-set-environment-variable","title":"3.3 Set Environment Variable","text":"<p>Local development (<code>.env</code> file):</p> <pre><code>JWT_SECRET=K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6sT7uV8wX9yZ0aB1cD2eF3gH4iJ5kL6mN7oP8q==\n</code></pre> <p>CI/CD (GitHub Actions): - Add <code>JWT_SECRET</code> as a repository secret - Reference in workflow: <code>${{ secrets.JWT_SECRET }}</code></p> <p>Server (production/staging):</p> <pre><code>export JWT_SECRET='K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6sT7uV8wX9yZ0aB1cD2eF3gH4iJ5kL6mN7oP8q=='\n</code></pre>"},{"location":"security/initial-setup/#34-configuration-files","title":"3.4 Configuration Files","text":"<p>application.yml (global with fallback for dev): <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET:defaultSecretKeyForDevOnlyChangeInProductionMustBeAtLeast256BitsLongForHS256Algorithm}\n</code></pre></p> <p>application-prod.yml (no fallback): <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}\n</code></pre></p> <p>application-staging.yml (no fallback): <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}\n</code></pre></p>"},{"location":"security/initial-setup/#4-database-password-setup","title":"4. Database Password Setup","text":""},{"location":"security/initial-setup/#41-overview","title":"4.1 Overview","text":"<p>PostgreSQL database password is required for both the Spring Boot application and the PostgreSQL container.</p> <p>Usage: - Spring Boot connects to PostgreSQL using <code>SPRING_DATASOURCE_PASSWORD</code> - PostgreSQL container uses <code>POSTGRES_PASSWORD</code> to set the database user password - Both are configured via <code>DB_USER_PASSWORD</code> environment variable</p>"},{"location":"security/initial-setup/#42-generate-database-password","title":"4.2 Generate Database Password","text":"<p>Using openssl:</p> <pre><code>openssl rand -base64 32\n</code></pre> <p>Using /dev/urandom:</p> <pre><code>head -c 24 /dev/urandom | base64\n</code></pre> <p>Requirements: - Minimum 16 characters recommended - Avoid special characters that may cause shell escaping issues (<code>$</code>, <code>!</code>, <code>`</code>) - Use alphanumeric characters and <code>-</code>, <code>_</code>, <code>.</code></p>"},{"location":"security/initial-setup/#43-set-environment-variable","title":"4.3 Set Environment Variable","text":"<p>Local development (<code>.env</code> file):</p> <pre><code>DB_USER_PASSWORD=your_secure_database_password_here\n</code></pre> <p>CI/CD (GitHub Actions): - Add <code>DB_USER_PASSWORD</code> as a repository secret - Reference in workflow: <code>${{ secrets.DB_USER_PASSWORD }}</code></p> <p>Server (production/staging):</p> <pre><code>export DB_USER_PASSWORD='your_secure_database_password_here'\n</code></pre>"},{"location":"security/initial-setup/#44-docker-compose-configuration","title":"4.4 Docker Compose Configuration","text":"<p>The password is injected into both the backend and database containers:</p> <pre><code>services:\n  spring-backend:\n    environment:\n      - SPRING_DATASOURCE_PASSWORD=${DB_USER_PASSWORD}\n\n  portfolio-db:\n    environment:\n      POSTGRES_PASSWORD: ${DB_USER_PASSWORD}\n</code></pre> <p>Important: Both services must use the same password value.</p>"},{"location":"security/initial-setup/#5-mail-configuration","title":"5. Mail Configuration","text":""},{"location":"security/initial-setup/#51-overview","title":"5.1 Overview","text":"<p>Mail configuration is required for the contact form feature. When visitors submit the contact form, the application sends an email notification via Gmail SMTP.</p> <p>Usage: - <code>MAIL_USERNAME</code>: Gmail address that sends notification emails - <code>MAIL_APP_PASSWORD</code>: Gmail App Password (not your regular Gmail password)</p>"},{"location":"security/initial-setup/#52-generate-gmail-app-password","title":"5.2 Generate Gmail App Password","text":"<p>Gmail requires an \"App Password\" for SMTP authentication (regular passwords are blocked).</p> <p>Steps: 1. Go to Google Account settings: https://myaccount.google.com/ 2. Navigate to Security &gt; 2-Step Verification (must be enabled) 3. At the bottom, click \"App passwords\" 4. Select app: \"Mail\", Select device: \"Other (Custom name)\" 5. Enter name: \"Portfolio Contact Form\" 6. Click \"Generate\" 7. Copy the 16-character password (format: <code>xxxx xxxx xxxx xxxx</code>)</p> <p>Important: - Remove spaces when setting the environment variable - App passwords can only be viewed once - save it securely - If compromised, revoke it in Google Account settings</p>"},{"location":"security/initial-setup/#53-set-environment-variables","title":"5.3 Set Environment Variables","text":"<p>Local development (<code>.env</code> file):</p> <pre><code>MAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=yourapppassword\n</code></pre> <p>CI/CD (GitHub Actions): - Add <code>MAIL_USERNAME</code> and <code>MAIL_APP_PASSWORD</code> as repository secrets - Reference in workflow: <code>${{ secrets.MAIL_APP_PASSWORD }}</code></p> <p>Server (production/staging):</p> <pre><code>export MAIL_USERNAME='your_email@gmail.com'\nexport MAIL_APP_PASSWORD='yourapppassword'\n</code></pre>"},{"location":"security/initial-setup/#54-configuration-in-applicationyml","title":"5.4 Configuration in application.yml","text":"<pre><code>spring:\n  mail:\n    host: ${MAIL_HOST:smtp.gmail.com}\n    port: ${MAIL_PORT:587}\n    username: ${MAIL_USERNAME}\n    password: ${MAIL_APP_PASSWORD}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n</code></pre>"},{"location":"security/initial-setup/#6-environment-variables-summary","title":"6. Environment Variables Summary","text":""},{"location":"security/initial-setup/#61-required-variables","title":"6.1 Required Variables","text":"Variable Description Dev Staging/Prod Default <code>DB_USER_PASSWORD</code> PostgreSQL database password Required Required None <code>MAIL_USERNAME</code> Gmail address for notifications Required Required None <code>MAIL_APP_PASSWORD</code> Gmail App Password Required Required None <code>JWT_SECRET</code> JWT signing secret (256+ bits) Optional Required Dev default <code>ADMIN_PASSWORD_HASH</code> BCrypt hash for admin password Optional Required None"},{"location":"security/initial-setup/#62-all-security-variables","title":"6.2 All Security Variables","text":"Variable Description Example <code>ADMIN_PASSWORD_HASH</code> Admin BCrypt hash <code>$2a$10$...</code> <code>JWT_SECRET</code> JWT secret (base64) <code>K7xKQYzP1q2w...</code> <code>DB_USER_PASSWORD</code> PostgreSQL password <code>SecureDbPass123</code> <code>MAIL_USERNAME</code> Gmail address <code>contact@gmail.com</code> <code>MAIL_APP_PASSWORD</code> Gmail App Password <code>abcdabcdabcdabcd</code> <code>JWT_ACCESS_TOKEN_EXPIRATION</code> Access token TTL (ms) <code>900000</code> (15 min) <code>JWT_REFRESH_TOKEN_EXPIRATION</code> Refresh token TTL (ms) <code>604800000</code> (7 days) <code>JWT_ISSUER</code> Token issuer identifier <code>portfolio-backend</code> <code>JWT_AUDIENCE</code> Token audience identifier <code>portfolio-frontend</code>"},{"location":"security/initial-setup/#63-validation-checklist","title":"6.3 Validation Checklist","text":"<p>For Development (local): - [ ] <code>DB_USER_PASSWORD</code> is set - [ ] <code>MAIL_USERNAME</code> and <code>MAIL_APP_PASSWORD</code> are set (for contact form testing) - [ ] (Optional) <code>ADMIN_PASSWORD_HASH</code> is set if you need admin access</p> <p>For Staging/Production: - [ ] <code>DB_USER_PASSWORD</code> is set with secure password - [ ] <code>MAIL_USERNAME</code> is set with valid Gmail address - [ ] <code>MAIL_APP_PASSWORD</code> is set with Gmail App Password - [ ] <code>JWT_SECRET</code> is set with secure random value (43+ chars) - [ ] <code>JWT_SECRET</code> does not contain \"dev\" or \"default\" - [ ] <code>ADMIN_PASSWORD_HASH</code> is set with valid BCrypt hash - [ ] Variables are stored securely (not in version control) - [ ] CI/CD secrets are configured</p>"},{"location":"security/initial-setup/#7-docker-compose-configuration","title":"7. Docker Compose Configuration","text":""},{"location":"security/initial-setup/#71-environment-variable-injection","title":"7.1 Environment Variable Injection","text":"<p>Docker Compose files reference variables from <code>.env</code> file or host environment.</p> <p>docker-compose.yml (base): <pre><code>services:\n  spring-backend:\n    environment:\n      - SPRING_DATASOURCE_PASSWORD=${DB_USER_PASSWORD}\n      - JWT_SECRET=${JWT_SECRET}\n      - ADMIN_PASSWORD_HASH=${ADMIN_PASSWORD_HASH}\n      - MAIL_USERNAME=${MAIL_USERNAME}\n      - MAIL_APP_PASSWORD=${MAIL_APP_PASSWORD}\n\n  portfolio-db:\n    environment:\n      POSTGRES_PASSWORD: ${DB_USER_PASSWORD}\n</code></pre></p> <p>docker-compose.prod.yml: <pre><code>services:\n  spring-backend:\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - SPRING_DATASOURCE_PASSWORD=${DB_USER_PASSWORD}\n      - JWT_SECRET=${JWT_SECRET}\n      - ADMIN_PASSWORD_HASH=${ADMIN_PASSWORD_HASH}\n      - MAIL_USERNAME=${MAIL_USERNAME}\n      - MAIL_APP_PASSWORD=${MAIL_APP_PASSWORD}\n\n  portfolio-db:\n    environment:\n      POSTGRES_PASSWORD: ${DB_USER_PASSWORD}\n</code></pre></p> <p>docker-compose.staging.yml: <pre><code>services:\n  spring-backend:\n    environment:\n      - SPRING_PROFILES_ACTIVE=staging\n      - SPRING_DATASOURCE_PASSWORD=${DB_USER_PASSWORD}\n      - JWT_SECRET=${JWT_SECRET}\n      - ADMIN_PASSWORD_HASH=${ADMIN_PASSWORD_HASH}\n      - MAIL_USERNAME=${MAIL_USERNAME}\n      - MAIL_APP_PASSWORD=${MAIL_APP_PASSWORD}\n\n  portfolio-db:\n    environment:\n      POSTGRES_PASSWORD: ${DB_USER_PASSWORD}\n</code></pre></p>"},{"location":"security/initial-setup/#72-env-file-template","title":"7.2 .env File Template","text":"<p>Create <code>.env</code> file in project root (never commit to git).</p> <p>For Development (local): <pre><code># Database (required)\nDB_USER_PASSWORD=local_dev_password\n\n# Mail (required for contact form)\nMAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=your_gmail_app_password\n\n# Optional: Add only if you need admin access in dev\n# Generated with: ./scripts/security/generate-bcrypt-hash.sh\n# ADMIN_PASSWORD_HASH=$2a$10$your_hash_here\n</code></pre></p> <p>For Staging/Production: <pre><code># Database (required)\nDB_USER_PASSWORD=secure_production_password\n\n# Mail (required)\nMAIL_USERNAME=your_email@gmail.com\nMAIL_APP_PASSWORD=your_gmail_app_password\n\n# JWT Secret (required) - Generated with: openssl rand -base64 64\nJWT_SECRET=K7xKQYzP1q2wR3sT4uV5xO6yZ7aB8cD9eF0gH1iJ2kL3mN4oP5qR6s...\n\n# Admin password hash (required) - Generated with: ./scripts/security/generate-bcrypt-hash.sh\nADMIN_PASSWORD_HASH=$2a$10$your_bcrypt_hash_here\n</code></pre></p>"},{"location":"security/initial-setup/#73-startup-verification","title":"7.3 Startup Verification","text":"<p>After starting the application, verify in logs:</p> <p>Success (staging/prod): <pre><code>[SECURITY] JWT secret validation passed for prod environment\n[ADMIN_SEEDER] Admin user created - username=admin\n</code></pre></p> <p>Failure (missing JWT_SECRET in prod): <pre><code>[SECURITY] JWT_SECRET contains default/dev value in prod environment\nSECURITY ERROR: JWT_SECRET contains default value...\n</code></pre></p> <p>Failure (missing ADMIN_PASSWORD_HASH): <pre><code>[ADMIN_SEEDER] ADMIN_PASSWORD_HASH not configured in prod environment. Admin user will NOT be created.\n</code></pre></p>"},{"location":"security/initial-setup/#related-documentation","title":"Related Documentation","text":"<ul> <li>JWT Implementation - JWT token generation and validation</li> <li>Password Management - BCrypt hashing and password security</li> <li>Configuration Properties - All configuration options</li> <li>Environments - Environment-specific configuration</li> </ul>"},{"location":"security/jwt-implementation/","title":"JWT Implementation","text":""},{"location":"security/jwt-implementation/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Token Types</li> <li>Token Generation</li> <li>Token Validation</li> <li>Token Refresh Flow</li> <li>Configuration</li> </ol>"},{"location":"security/jwt-implementation/#1-overview","title":"1. Overview","text":"<p>JWT (JSON Web Tokens) authentication system with access/refresh token pair for secure API access.</p> <p>Key Features: - Dual token system (access + refresh) - Automatic token refresh via HTTP interceptor - Token rotation for enhanced security - Refresh token revocation support - Redis-backed token storage capability</p> <p>Library: <code>io.jsonwebtoken:jjwt-api:0.12.5</code></p>"},{"location":"security/jwt-implementation/#2-token-types","title":"2. Token Types","text":""},{"location":"security/jwt-implementation/#access-token","title":"Access Token","text":"<p>Purpose: Short-lived token for API authentication</p> <p>Lifetime: 15 minutes (configurable via <code>app.jwt.expiration</code>)</p> <p>Storage: Frontend <code>localStorage</code></p> <p>Usage: Attached to every API request via <code>Authorization: Bearer {token}</code> header</p> <p>Claims: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"username\",\n  \"authorities\": [{\"authority\": \"ROLE_ADMIN\"}],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#refresh-token","title":"Refresh Token","text":"<p>Purpose: Long-lived token for obtaining new access tokens</p> <p>Lifetime: 7 days (configurable via <code>app.jwt.refresh-expiration</code>)</p> <p>Storage: - Frontend <code>localStorage</code> - Backend database (<code>refresh_tokens</code> table)</p> <p>Usage: Used only at <code>/api/auth/refresh</code> endpoint</p> <p>Format: UUID (not JWT)</p>"},{"location":"security/jwt-implementation/#3-token-generation","title":"3. Token Generation","text":""},{"location":"security/jwt-implementation/#jwttokenprovider","title":"JwtTokenProvider","text":"<p>Service: <code>com.emmanuelgabe.portfolio.security.JwtTokenProvider</code></p> <p>Access Token Generation: <pre><code>public String generateAccessToken(String username, Set&lt;Role&gt; roles) {\n    Date now = new Date();\n    Date expiryDate = new Date(now.getTime() + jwtExpiration);\n\n    return Jwts.builder()\n        .claim(\"type\", \"access\")\n        .subject(username)\n        .claim(\"authorities\", roles.stream()\n            .map(role -&gt; Map.of(\"authority\", role.getName()))\n            .collect(Collectors.toList()))\n        .issuer(jwtIssuer)\n        .audience().add(jwtAudience).and()\n        .issuedAt(now)\n        .expiration(expiryDate)\n        .signWith(key)\n        .compact();\n}\n</code></pre></p> <p>Refresh Token Generation: <pre><code>public RefreshToken createRefreshToken(Long userId) {\n    RefreshToken refreshToken = new RefreshToken();\n    refreshToken.setUser(userRepository.findById(userId).orElseThrow());\n    refreshToken.setToken(UUID.randomUUID().toString());\n    refreshToken.setExpiryDate(\n        LocalDateTime.now().plusDays(refreshTokenDurationDays)\n    );\n    return refreshTokenRepository.save(refreshToken);\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#4-token-validation","title":"4. Token Validation","text":""},{"location":"security/jwt-implementation/#jwtauthenticationfilter","title":"JwtAuthenticationFilter","text":"<p>Purpose: Extract and validate JWT from requests</p> <p>Filter Chain Position: Before <code>UsernamePasswordAuthenticationFilter</code></p> <p>Validation Steps: 1. Extract token from <code>Authorization</code> header 2. Parse JWT and extract username 3. Validate signature 4. Check expiration 5. Load user details from database 6. Set authentication in <code>SecurityContext</code></p> <p>Implementation: <pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest request,\n                                HttpServletResponse response,\n                                FilterChain filterChain) {\n    String token = extractToken(request);\n\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\n        String username = jwtTokenProvider.getUsernameFromToken(token);\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n        UsernamePasswordAuthenticationToken authentication =\n            new UsernamePasswordAuthenticationToken(\n                userDetails, null, userDetails.getAuthorities()\n            );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    }\n\n    filterChain.doFilter(request, response);\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#5-token-refresh-flow","title":"5. Token Refresh Flow","text":""},{"location":"security/jwt-implementation/#backend-flow","title":"Backend Flow","text":"<p>Endpoint: <code>POST /api/auth/refresh</code></p> <p>Request: <pre><code>{\n  \"refreshToken\": \"550e8400-e29b-41d4-a716-446655440000\"\n}\n</code></pre></p> <p>Process: 1. Validate refresh token exists in database 2. Check if token is revoked 3. Check if token is expired 4. Generate new access token 5. Return new access token</p> <p>Response: <pre><code>{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiJ9...\",\n  \"refreshToken\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"tokenType\": \"Bearer\",\n  \"expiresIn\": 900\n}\n</code></pre></p>"},{"location":"security/jwt-implementation/#frontend-automatic-refresh","title":"Frontend Automatic Refresh","text":"<p>JWT Interceptor (<code>jwt.interceptor.ts</code>):</p> <p>Trigger: 401 Unauthorized response</p> <p>Flow: <pre><code>1. Request fails with 401\n2. Interceptor catches error\n3. Call AuthService.refreshToken()\n4. If refresh succeeds:\n   - Get new access token\n   - Retry original request with new token\n5. If refresh fails:\n   - Logout user\n   - Redirect to login\n</code></pre></p> <p>Implementation: <pre><code>return next(authReq).pipe(\n  catchError((error: HttpErrorResponse) =&gt; {\n    if (error.status === 401 &amp;&amp; !isAuthEndpoint) {\n      return authService.refreshToken().pipe(\n        switchMap(() =&gt; {\n          const newToken = authService.getToken();\n          const retryReq = req.clone({\n            setHeaders: { Authorization: `Bearer ${newToken}` }\n          });\n          return next(retryReq);\n        }),\n        catchError((refreshError) =&gt; {\n          authService.logout();\n          return throwError(() =&gt; refreshError);\n        })\n      );\n    }\n    return throwError(() =&gt; error);\n  })\n);\n</code></pre></p>"},{"location":"security/jwt-implementation/#6-configuration","title":"6. Configuration","text":""},{"location":"security/jwt-implementation/#application-properties","title":"Application Properties","text":"<p>JWT Configuration: <pre><code>app:\n  jwt:\n    secret: ${JWT_SECRET}  # HS256 secret key (min 256 bits)\n    expiration: 900000     # Access token: 15 minutes (in ms)\n    refresh-expiration: 7  # Refresh token: 7 days\n    issuer: portfolio-backend\n    audience: portfolio-frontend\n</code></pre></p>"},{"location":"security/jwt-implementation/#startup-validation-jwtsecurityconfig","title":"Startup Validation (JwtSecurityConfig)","text":"<p>Class: <code>com.emmanuelgabe.portfolio.config.JwtSecurityConfig</code></p> <p>Purpose: Validates JWT secret at application startup to prevent insecure deployments.</p> <p>Validation Rules (prod/staging environments): - Secret must not contain \"dev\" or \"default\" (case-insensitive) - Secret must be at least 43 characters (256 bits in base64) - Validation failure causes application startup to fail with clear error message</p> <p>Behavior by Environment: | Environment | Invalid Secret | Result | |-------------|----------------|--------| | <code>dev</code> | Yes | Warning logged, app starts | | <code>staging</code> | Yes | Error, app crashes | | <code>prod</code> | Yes | Error, app crashes |</p> <p>Generate Secure Secret: <pre><code>openssl rand -base64 64\n</code></pre></p> <p>See Initial Setup for complete configuration instructions.</p>"},{"location":"security/jwt-implementation/#security-configuration","title":"Security Configuration","text":"<p>Public Endpoints (no authentication): - <code>POST /api/auth/login</code> - <code>POST /api/auth/refresh</code> - <code>GET /api/projects</code> - <code>GET /api/articles</code> - <code>POST /api/contact</code></p> <p>Protected Endpoints (requires valid JWT): - <code>POST /api/admin/**</code> (requires ROLE_ADMIN)</p>"},{"location":"security/jwt-implementation/#related-documentation","title":"Related Documentation","text":"<ul> <li>Initial Setup - JWT secret and admin user configuration</li> <li>Authentication API - Auth endpoints</li> <li>Security: RBAC - Role-based access control</li> <li>Architecture: Frontend - Frontend auth flow</li> </ul>"},{"location":"security/password-management/","title":"Password Management","text":""},{"location":"security/password-management/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Password Requirements</li> <li>Password Hashing</li> <li>Password Change Flow</li> <li>Implementation Details</li> </ol>"},{"location":"security/password-management/#1-overview","title":"1. Overview","text":"<p>The Portfolio application implements secure password management using industry-standard practices.</p> <p>Key Features: - BCrypt hashing with configurable strength - Password validation requirements - Secure password change workflow - No password recovery (admin-managed system)</p> <p>Security Stack: - Algorithm: BCrypt with salt - Strength: 10 rounds (configurable) - Backend: Spring Security PasswordEncoder - Frontend: Validation before submission</p>"},{"location":"security/password-management/#2-password-requirements","title":"2. Password Requirements","text":""},{"location":"security/password-management/#backend-validation","title":"Backend Validation","text":"<p>Minimum Requirements: | Requirement | Value | Enforced On | |-------------|-------|-------------| | Minimum Length | 8 characters | Change password only | | Maximum Length | No limit | Not enforced | | Complexity | None | Not enforced | | Special Characters | Not required | Not enforced |</p> <p>Validation Annotation: <pre><code>public class ChangePasswordRequest {\n\n    @NotBlank(message = \"Current password is required\")\n    private String currentPassword;\n\n    @NotBlank(message = \"New password is required\")\n    @Size(min = 8, message = \"Password must be at least 8 characters\")\n    private String newPassword;\n}\n</code></pre></p>"},{"location":"security/password-management/#frontend-validation-recommended","title":"Frontend Validation (Recommended)","text":"<p>Enhanced Requirements (optional, frontend only): <pre><code>export interface PasswordRequirements {\n  minLength: number;          // 8\n  requireUppercase: boolean;  // true\n  requireLowercase: boolean;  // true\n  requireNumber: boolean;     // true\n  requireSpecial: boolean;    // false\n}\n\nexport function validatePassword(password: string, requirements: PasswordRequirements): ValidationResult {\n  const errors: string[] = [];\n\n  if (password.length &lt; requirements.minLength) {\n    errors.push(`Password must be at least ${requirements.minLength} characters`);\n  }\n\n  if (requirements.requireUppercase &amp;&amp; !/[A-Z]/.test(password)) {\n    errors.push('Password must contain at least one uppercase letter');\n  }\n\n  if (requirements.requireLowercase &amp;&amp; !/[a-z]/.test(password)) {\n    errors.push('Password must contain at least one lowercase letter');\n  }\n\n  if (requirements.requireNumber &amp;&amp; !/[0-9]/.test(password)) {\n    errors.push('Password must contain at least one number');\n  }\n\n  if (requirements.requireSpecial &amp;&amp; !/[!@#$%^&amp;*(),.?\":{}|&lt;&gt;]/.test(password)) {\n    errors.push('Password must contain at least one special character');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n</code></pre></p>"},{"location":"security/password-management/#3-password-hashing","title":"3. Password Hashing","text":""},{"location":"security/password-management/#bcrypt-algorithm","title":"BCrypt Algorithm","text":"<p>Why BCrypt? - Adaptive function (computationally expensive) - Automatic salt generation - Configurable work factor (strength) - Industry-standard and proven secure - Resistant to rainbow table attacks</p>"},{"location":"security/password-management/#configuration","title":"Configuration","text":"<p>Backend Configuration: <pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(10);\n    }\n}\n</code></pre></p> <p>Strength Parameter: | Strength | Iterations | Hash Time (approx) | Security Level | |----------|------------|---------------------|----------------| | 4 | 16 | ~5 ms | Low (testing only) | | 10 | 1024 | ~100 ms | Standard (recommended) | | 12 | 4096 | ~400 ms | High security | | 15 | 32768 | ~3 seconds | Very high (not practical) |</p> <p>Current Setting: Strength 10 (good balance between security and performance)</p>"},{"location":"security/password-management/#hash-format","title":"Hash Format","text":"<p>BCrypt Hash Structure: <pre><code>$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy\n\u2502  \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  \u2502  \u2502                       Hash (31 chars)\n\u2502  \u2502  \u2514\u2500 Salt (22 chars)\n\u2502  \u2514\u2500\u2500\u2500\u2500 Cost factor (10 = 2^10 iterations)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Algorithm version (2a = BCrypt)\n</code></pre></p> <p>Example: <pre><code>Algorithm: $2a\nCost:      $10\nSalt:      $N9qo8uLOickgx2ZMRZoMye\nHash:      IjZAgcfl7p92ldGxad68LJZdL17lhWy\n</code></pre></p>"},{"location":"security/password-management/#usage","title":"Usage","text":"<p>Encoding: <pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n\n    private final PasswordEncoder passwordEncoder;\n    private final UserRepository userRepository;\n\n    public void createUser(String username, String rawPassword) {\n        String hashedPassword = passwordEncoder.encode(rawPassword);\n\n        User user = new User();\n        user.setUsername(username);\n        user.setPassword(hashedPassword);\n\n        userRepository.save(user);\n\n        log.info(\"[CREATE_USER] User created - username={}\", username);\n        // Note: Never log the password (raw or hashed)\n    }\n}\n</code></pre></p> <p>Verification: <pre><code>@Service\n@RequiredArgsConstructor\npublic class AuthService {\n\n    private final PasswordEncoder passwordEncoder;\n    private final UserRepository userRepository;\n\n    public boolean verifyPassword(String username, String rawPassword) {\n        User user = userRepository.findByUsername(username)\n            .orElseThrow(() -&gt; new UserNotFoundException(\"User not found\"));\n\n        return passwordEncoder.matches(rawPassword, user.getPassword());\n    }\n}\n</code></pre></p>"},{"location":"security/password-management/#4-password-change-flow","title":"4. Password Change Flow","text":""},{"location":"security/password-management/#flow-diagram","title":"Flow Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Angular \u2502              \u2502 Spring Boot \u2502              \u2502 Database \u2502\n\u2502 Client  \u2502              \u2502   Backend   \u2502              \u2502          \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                          \u2502                          \u2502\n     \u2502 1. Enter current         \u2502                          \u2502\n     \u2502    and new password      \u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502 2. POST /auth/           \u2502                          \u2502\n     \u2502    change-password       \u2502                          \u2502\n     \u2502    Authorization: Bearer \u2502                          \u2502\n     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 3. Extract username      \u2502\n     \u2502                          \u2502    from JWT token        \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 4. Load user             \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n     \u2502                          \u2502   User entity            \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 5. Verify current        \u2502\n     \u2502                          \u2502    password (BCrypt)     \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 6. Hash new password     \u2502\n     \u2502                          \u2502    (BCrypt)              \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 7. Update user password  \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502                          \u2502\n     \u2502                          \u2502 8. Invalidate refresh    \u2502\n     \u2502                          \u2502    tokens (security)     \u2502\n     \u2502                          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n     \u2502                          \u2502                          \u2502\n     \u2502 9. Success response      \u2502                          \u2502\n     \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n     \u2502                          \u2502                          \u2502\n     \u2502 10. Show success message \u2502                          \u2502\n     \u2502     Redirect to login    \u2502                          \u2502\n     \u2502                          \u2502                          \u2502\n</code></pre>"},{"location":"security/password-management/#steps-explained","title":"Steps Explained","text":"<ol> <li>User Input: User enters current password and new password</li> <li>Request: Frontend sends request with passwords and auth token</li> <li>Extract User: Backend extracts username from JWT token</li> <li>Load User: User entity loaded from database</li> <li>Verify Current: Current password verified with BCrypt</li> <li>Hash New: New password hashed with BCrypt</li> <li>Update: Password updated in database</li> <li>Invalidate Tokens: All refresh tokens invalidated (force re-login)</li> <li>Response: Success message returned</li> <li>Redirect: User redirected to login page to re-authenticate</li> </ol>"},{"location":"security/password-management/#5-implementation-details","title":"5. Implementation Details","text":"<p>API Endpoint: <code>POST /api/auth/change-password</code></p> <p>Required Headers: <pre><code>Authorization: Bearer &lt;access_token&gt;\nContent-Type: application/json\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"currentPassword\": \"OldPassword123\",\n  \"newPassword\": \"NewSecurePassword456\"\n}\n</code></pre></p> <p>Backend Configuration: <pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder(10);\n}\n</code></pre></p> <p>Key Implementation Points: - Current password verified with BCrypt matches - New password hashed with BCrypt before storage - All refresh tokens invalidated on password change - User forced to re-login after successful change</p>"},{"location":"security/password-management/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: Authentication - JWT authentication architecture</li> <li>Security: RBAC - Role-based access control</li> <li>API: Authentication - Authentication endpoints</li> <li>Development: Testing - Testing guidelines</li> </ul>"},{"location":"security/rate-limiting/","title":"Rate Limiting","text":""},{"location":"security/rate-limiting/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Implementation</li> <li>Redis Storage</li> <li>Configuration</li> <li>Authentication Rate Limiting</li> </ol>"},{"location":"security/rate-limiting/#1-overview","title":"1. Overview","text":"<p>IP-based rate limiting using Redis for distributed tracking. Prevents spam and abuse on public endpoints.</p> <p>Current Implementation: Contact form endpoint only</p> <p>Strategy: Fixed window (1-hour window, resets after expiration)</p> <p>Storage: Redis for distributed rate limit tracking</p>"},{"location":"security/rate-limiting/#2-implementation","title":"2. Implementation","text":""},{"location":"security/rate-limiting/#ratelimitservice","title":"RateLimitService","text":"<p>Interface: <pre><code>public interface RateLimitService {\n    boolean isAllowed(String ip);\n    long getRemainingAttempts(String ip);\n}\n</code></pre></p> <p>Implementation: <pre><code>@Service\npublic class RateLimitServiceImpl implements RateLimitService {\n    private static final String RATE_LIMIT_KEY_PREFIX = \"rate_limit:contact:\";\n    private static final long WINDOW_SIZE_HOURS = 1;\n\n    @Value(\"${app.rate-limit.contact.max-requests-per-hour:5}\")\n    private int maxRequestsPerHour;\n\n    @Override\n    public boolean isAllowed(String ip) {\n        String key = RATE_LIMIT_KEY_PREFIX + ip;\n        Long count = redisTemplate.opsForValue().increment(key);\n\n        // Set expiration on first request\n        if (count == 1) {\n            redisTemplate.expire(key, WINDOW_SIZE_HOURS, TimeUnit.HOURS);\n        }\n\n        return count &lt;= maxRequestsPerHour;\n    }\n\n    @Override\n    public long getRemainingAttempts(String ip) {\n        String key = RATE_LIMIT_KEY_PREFIX + ip;\n        String value = redisTemplate.opsForValue().get(key);\n        long count = value != null ? Long.parseLong(value) : 0;\n        return Math.max(0, maxRequestsPerHour - count);\n    }\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#controller-integration","title":"Controller Integration","text":"<p>Pattern: <pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; sendContactMessage(\n        @Valid @RequestBody ContactRequest request,\n        HttpServletRequest httpRequest) {\n\n    String ip = IpAddressExtractor.extractIpAddress(httpRequest);\n\n    // Check rate limit\n    if (!rateLimitService.isAllowed(ip)) {\n        String errorMessage = String.format(\n            \"Rate limit exceeded. Maximum %d messages per hour.\",\n            maxRequestsPerHour\n        );\n        return ResponseEntity.status(HttpStatus.TOO_MANY_REQUESTS)\n            .body(ContactResponse.error(errorMessage));\n    }\n\n    // Process request\n    ContactResponse response = contactService.sendContactEmail(request);\n    return ResponseEntity.ok(response);\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#3-redis-storage","title":"3. Redis Storage","text":""},{"location":"security/rate-limiting/#key-format","title":"Key Format","text":"<p>Pattern: <code>rate_limit:contact:{ip}</code></p> <p>Examples: <pre><code>rate_limit:contact:192.168.1.100 = 3   (TTL: 2400s)\nrate_limit:contact:10.0.0.50 = 5       (TTL: 1800s)\n</code></pre></p>"},{"location":"security/rate-limiting/#atomic-operations","title":"Atomic Operations","text":"<p>Increment Counter: <pre><code>Long count = redisTemplate.opsForValue().increment(key);\n</code></pre></p> <p>Benefits: - Thread-safe in distributed environments - No race conditions - Automatic key creation if doesn't exist</p> <p>Set Expiration: <pre><code>redisTemplate.expire(key, WINDOW_SIZE_HOURS, TimeUnit.HOURS);\n</code></pre></p> <p>Benefits: - Automatic cleanup after 1 hour - No manual cleanup required - Memory efficient</p>"},{"location":"security/rate-limiting/#4-configuration","title":"4. Configuration","text":""},{"location":"security/rate-limiting/#application-properties","title":"Application Properties","text":"<p>Rate Limit Configuration: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 5  # Configurable per environment\n</code></pre></p> <p>Redis Configuration: <pre><code>spring:\n  data:\n    redis:\n      host: ${REDIS_HOST:localhost}\n      port: ${REDIS_PORT:6379}\n      password: ${REDIS_PASSWORD:}\n      timeout: 3000ms\n</code></pre></p>"},{"location":"security/rate-limiting/#redistemplate-configuration","title":"RedisTemplate Configuration","text":"<p>Bean Configuration: <pre><code>@Configuration\npublic class RateLimitConfig {\n    @Bean\n    public RedisTemplate&lt;String, Long&gt; redisTemplate(\n            RedisConnectionFactory connectionFactory) {\n        RedisTemplate&lt;String, Long&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(connectionFactory);\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new GenericToStringSerializer&lt;&gt;(Long.class));\n        return template;\n    }\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#environment-specific-settings","title":"Environment-Specific Settings","text":"<p>Development: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 10  # More lenient for testing\n</code></pre></p> <p>Production: <pre><code>app:\n  rate-limit:\n    contact:\n      max-requests-per-hour: 3   # Stricter for production\n</code></pre></p>"},{"location":"security/rate-limiting/#5-authentication-rate-limiting","title":"5. Authentication Rate Limiting","text":""},{"location":"security/rate-limiting/#authratelimitfilter","title":"AuthRateLimitFilter","text":"<p>A dedicated filter protects authentication endpoints against brute force attacks.</p> <p>Protected Endpoints: - <code>POST /api/auth/login</code> - <code>POST /api/auth/refresh</code></p> <p>Implementation: <pre><code>@Component\npublic class AuthRateLimitFilter extends OncePerRequestFilter {\n\n    private static final String LOGIN_PATH = \"/api/auth/login\";\n    private static final String REFRESH_PATH = \"/api/auth/refresh\";\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n            HttpServletResponse response, FilterChain filterChain) {\n\n        String ip = IpAddressExtractor.extractIpAddress(request);\n\n        if (LOGIN_PATH.equals(path)) {\n            if (!authRateLimitService.isLoginAllowed(ip)) {\n                sendRateLimitResponse(response, \"login\", maxLoginRequestsPerHour);\n                return;\n            }\n        } else if (REFRESH_PATH.equals(path)) {\n            if (!authRateLimitService.isRefreshAllowed(ip)) {\n                sendRateLimitResponse(response, \"refresh\", maxRefreshRequestsPerHour);\n                return;\n            }\n        }\n\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#authratelimitservice","title":"AuthRateLimitService","text":"<p>Interface: <pre><code>public interface AuthRateLimitService {\n    boolean isLoginAllowed(String ip);\n    boolean isRefreshAllowed(String ip);\n    int getMaxLoginRequestsPerHour();\n    int getMaxRefreshRequestsPerHour();\n}\n</code></pre></p>"},{"location":"security/rate-limiting/#configuration","title":"Configuration","text":"<pre><code>app:\n  rate-limit:\n    auth:\n      login:\n        max-requests-per-hour: 10\n      refresh:\n        max-requests-per-hour: 20\n</code></pre>"},{"location":"security/rate-limiting/#response-format","title":"Response Format","text":"<p>When rate limit is exceeded, returns HTTP 429:</p> <pre><code>{\n  \"status\": 429,\n  \"error\": \"Too Many Requests\",\n  \"message\": \"Rate limit exceeded for login. Maximum 10 attempts per hour.\",\n  \"timestamp\": \"2024-06-20T14:45:00\"\n}\n</code></pre>"},{"location":"security/rate-limiting/#related-documentation","title":"Related Documentation","text":"<ul> <li>Features: Contact Form - Contact form implementation</li> <li>Contact API - API documentation</li> <li>Authentication - JWT authentication</li> <li>Reference: Configuration Properties - All config options</li> </ul>"},{"location":"security/rbac/","title":"Role-Based Access Control (RBAC)","text":""},{"location":"security/rbac/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Roles and Permissions</li> <li>Backend Authorization</li> <li>Frontend Route Guards</li> <li>Permission Matrix</li> <li>Implementation Details</li> </ol>"},{"location":"security/rbac/#1-overview","title":"1. Overview","text":"<p>The Portfolio application implements Role-Based Access Control (RBAC) to manage user permissions and restrict access to sensitive operations.</p> <p>Authorization Model: - Backend: Spring Security method-level authorization - Frontend: Angular route guards - Token-Based: User roles embedded in JWT access token</p> <p>Key Principles: - Public endpoints require no authentication - Admin endpoints require ROLE_ADMIN - Authorization checked on both frontend and backend - Backend is the source of truth (frontend guards are UX only)</p>"},{"location":"security/rbac/#2-roles-and-permissions","title":"2. Roles and Permissions","text":""},{"location":"security/rbac/#available-roles","title":"Available Roles","text":"<p>The system currently supports two roles:</p> Role Authority Description USER <code>ROLE_USER</code> Standard authenticated user ADMIN <code>ROLE_ADMIN</code> Administrator with full access <p>Note: In Spring Security, role names are prefixed with <code>ROLE_</code> in authorities.</p>"},{"location":"security/rbac/#role-hierarchy","title":"Role Hierarchy","text":"<pre><code>ADMIN (inherits all USER permissions)\n  \u2514\u2500\u2500 USER (basic authenticated access)\n</code></pre> <p>Current Implementation: ADMIN does NOT automatically inherit USER permissions in Spring Security config. ADMIN has explicit permissions.</p> <p>Future Enhancement: Role hierarchy can be configured: <pre><code>@Bean\npublic RoleHierarchy roleHierarchy() {\n    RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\n    hierarchy.setHierarchy(\"ROLE_ADMIN &gt; ROLE_USER\");\n    return hierarchy;\n}\n</code></pre></p>"},{"location":"security/rbac/#3-backend-authorization","title":"3. Backend Authorization","text":""},{"location":"security/rbac/#endpoint-protection","title":"Endpoint Protection","text":"<p>SecurityFilterChain Configuration:</p> <pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .cors(Customizer.withDefaults())\n        .csrf(AbstractHttpConfigurer::disable)\n        .authorizeHttpRequests(auth -&gt; auth\n            // Public endpoints (no authentication required)\n            .requestMatchers(\"/health\", \"/api/version\", \"/actuator/health\", \"/api/health/**\").permitAll()\n            .requestMatchers(\"/api/auth/**\").permitAll()\n            .requestMatchers(HttpMethod.POST, \"/api/contact\").permitAll()\n            .requestMatchers(\"/swagger-ui/**\", \"/v3/api-docs/**\").permitAll()\n            .requestMatchers(\"/uploads/**\").permitAll()\n            .requestMatchers(\"/api/cv/current\", \"/api/cv/download\").permitAll()\n\n            // Admin endpoints (ROLE_ADMIN required)\n            .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\")\n\n            // Public read-only endpoints (GET only)\n            .requestMatchers(HttpMethod.GET, \"/api/projects\", \"/api/projects/**\").permitAll()\n            .requestMatchers(HttpMethod.GET, \"/api/skills\", \"/api/skills/**\").permitAll()\n            .requestMatchers(HttpMethod.GET, \"/api/tags\", \"/api/tags/**\").permitAll()\n            .requestMatchers(HttpMethod.GET, \"/api/experiences\", \"/api/experiences/**\").permitAll()\n            .requestMatchers(HttpMethod.GET, \"/api/articles\", \"/api/articles/**\").permitAll()\n            .requestMatchers(HttpMethod.GET, \"/api/hero\", \"/api/hero/**\").permitAll()\n            .requestMatchers(HttpMethod.GET, \"/api/configuration\").permitAll()\n\n            // All other endpoints require authentication\n            .anyRequest().authenticated()\n        )\n        .sessionManagement(session -&gt; session\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        );\n\n    return http.build();\n}\n</code></pre>"},{"location":"security/rbac/#method-level-authorization","title":"Method-Level Authorization","text":"<p>Using @PreAuthorize:</p> <pre><code>@RestController\n@RequestMapping(\"/api/admin/projects\")\n@RequiredArgsConstructor\npublic class ProjectController {\n\n    private final ProjectService projectService;\n\n    // Only ADMIN can access\n    @PreAuthorize(\"hasRole('ADMIN')\")\n    @PostMapping\n    public ResponseEntity&lt;ProjectResponse&gt; createProject(@Valid @RequestBody CreateProjectRequest request) {\n        ProjectResponse response = projectService.createProject(request);\n        return ResponseEntity.status(HttpStatus.CREATED).body(response);\n    }\n\n    // Public access (no annotation needed if endpoint is public in SecurityFilterChain)\n    @GetMapping(\"/{id}\")\n    public ResponseEntity&lt;ProjectResponse&gt; getProject(@PathVariable Long id) {\n        ProjectResponse response = projectService.getProject(id);\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre> <p>Alternative Annotations: <pre><code>@PreAuthorize(\"hasRole('ADMIN')\")              // Single role\n@PreAuthorize(\"hasAnyRole('ADMIN', 'USER')\")   // Multiple roles\n@PreAuthorize(\"hasAuthority('ROLE_ADMIN')\")    // By authority\n@PreAuthorize(\"isAuthenticated()\")             // Any authenticated user\n</code></pre></p>"},{"location":"security/rbac/#service-level-authorization","title":"Service-Level Authorization","text":"<p>Example: <pre><code>@Service\n@RequiredArgsConstructor\npublic class ProjectService {\n\n    private final ProjectRepository projectRepository;\n\n    @PreAuthorize(\"hasRole('ADMIN')\")\n    public ProjectResponse createProject(CreateProjectRequest request) {\n        // Only admins can create projects\n        Project project = projectMapper.toEntity(request);\n        Project savedProject = projectRepository.save(project);\n        return projectMapper.toResponse(savedProject);\n    }\n\n    // No authorization - public method\n    public List&lt;ProjectResponse&gt; getAllProjects() {\n        List&lt;Project&gt; projects = projectRepository.findAll();\n        return projects.stream()\n            .map(projectMapper::toResponse)\n            .toList();\n    }\n}\n</code></pre></p>"},{"location":"security/rbac/#4-frontend-route-guards","title":"4. Frontend Route Guards","text":""},{"location":"security/rbac/#auth-guard","title":"Auth Guard","text":"<p>Protects routes that require authentication (any logged-in user).</p> <p>File: <code>auth.guard.ts</code></p> <pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard {\n  private readonly tokenStorage = inject(TokenStorageService);\n  private readonly router = inject(Router);\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): boolean {\n    const hasToken = this.tokenStorage.hasValidToken();\n\n    if (!hasToken) {\n      this.router.navigate(['/login'], {\n        queryParams: { returnUrl: state.url }\n      });\n      return false;\n    }\n\n    return true;\n  }\n}\n</code></pre>"},{"location":"security/rbac/#admin-guard","title":"Admin Guard","text":"<p>Protects routes that require ADMIN role.</p> <p>File: <code>admin.guard.ts</code></p> <pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class AdminGuard {\n  private readonly tokenStorage = inject(TokenStorageService);\n  private readonly router = inject(Router);\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): boolean {\n    const accessToken = this.tokenStorage.getAccessToken();\n\n    if (!accessToken) {\n      this.router.navigate(['/login']);\n      return false;\n    }\n\n    // Decode JWT to check roles\n    try {\n      const payload = JSON.parse(atob(accessToken.split('.')[1]));\n      const roles = payload.authorities?.map((a: any) =&gt; a.authority) || [];\n\n      if (!roles.includes('ROLE_ADMIN')) {\n        this.router.navigate(['/']);\n        return false;\n      }\n\n      return true;\n    } catch (error) {\n      this.router.navigate(['/login']);\n      return false;\n    }\n  }\n}\n</code></pre>"},{"location":"security/rbac/#route-configuration","title":"Route Configuration","text":"<p>File: <code>app.routes.ts</code></p> <pre><code>export const routes: Routes = [\n  // Public routes\n  {\n    path: '',\n    component: HomeComponent\n  },\n  {\n    path: 'login',\n    component: LoginComponent\n  },\n  {\n    path: 'projects',\n    component: ProjectListComponent\n  },\n  {\n    path: 'projects/:id',\n    component: ProjectDetailComponent\n  },\n\n  // Admin routes (protected)\n  {\n    path: 'admin',\n    canActivate: [AdminGuard],\n    children: [\n      {\n        path: '',\n        component: AdminDashboardComponent\n      },\n      {\n        path: 'projects',\n        component: AdminProjectsComponent\n      },\n      {\n        path: 'skills',\n        component: AdminSkillsComponent\n      },\n      {\n        path: 'cv',\n        component: AdminCvComponent\n      }\n    ]\n  },\n\n  // 404\n  {\n    path: '**',\n    component: NotFoundComponent\n  }\n];\n</code></pre>"},{"location":"security/rbac/#5-permission-matrix","title":"5. Permission Matrix","text":""},{"location":"security/rbac/#api-endpoints","title":"API Endpoints","text":"Endpoint Method Public USER ADMIN Description <code>/api/auth/login</code> POST Yes Yes Yes Login <code>/api/auth/refresh</code> POST Yes Yes Yes Refresh token <code>/api/auth/logout</code> POST No Yes Yes Logout (authenticated) <code>/api/auth/change-password</code> POST No Yes Yes Change password <code>/api/projects</code> GET Yes Yes Yes List projects <code>/api/projects/{id}</code> GET Yes Yes Yes Get project <code>/api/admin/projects</code> POST No No Yes Create project <code>/api/admin/projects/{id}</code> PUT No No Yes Update project <code>/api/admin/projects/{id}</code> DELETE No No Yes Delete project <code>/api/admin/projects/{id}/upload-image</code> POST No No Yes Upload image <code>/api/admin/projects/{id}/delete-image</code> DELETE No No Yes Delete image <code>/api/skills</code> GET Yes Yes Yes List skills <code>/api/skills/{id}</code> GET Yes Yes Yes Get skill <code>/api/admin/skills</code> POST No No Yes Create skill <code>/api/admin/skills/{id}</code> PUT No No Yes Update skill <code>/api/admin/skills/{id}</code> DELETE No No Yes Delete skill <code>/api/cv/current</code> GET Yes Yes Yes Get current CV <code>/api/cv/download/{id}</code> GET Yes Yes Yes Download CV <code>/api/admin/cv/upload</code> POST No No Yes Upload CV <code>/api/admin/cv/all</code> GET No No Yes List all CVs <code>/api/admin/cv/{id}/set-current</code> PUT No No Yes Set current CV <code>/api/admin/cv/{id}</code> DELETE No No Yes Delete CV <code>/api/admin/upload</code> POST No No Yes Generic file upload <code>/api/configuration</code> GET Yes Yes Yes Site configuration <code>/api/tags</code> GET Yes Yes Yes List tags <code>/api/tags/{id}</code> GET Yes Yes Yes Get tag <code>/api/admin/tags</code> POST No No Yes Create tag <code>/api/admin/tags/{id}</code> PUT No No Yes Update tag <code>/api/admin/tags/{id}</code> DELETE No No Yes Delete tag <code>/api/experiences</code> GET Yes Yes Yes List experiences <code>/api/experiences/{id}</code> GET Yes Yes Yes Get experience <code>/api/admin/experiences</code> POST No No Yes Create experience <code>/api/admin/experiences/{id}</code> PUT No No Yes Update experience <code>/api/admin/experiences/{id}</code> DELETE No No Yes Delete experience <code>/api/articles</code> GET Yes Yes Yes List articles <code>/api/articles/{slug}</code> GET Yes Yes Yes Get article by slug <code>/api/admin/articles</code> POST No No Yes Create article <code>/api/admin/articles/{id}</code> PUT No No Yes Update article <code>/api/admin/articles/{id}</code> DELETE No No Yes Delete article <code>/api/hero</code> GET Yes Yes Yes Hero section <code>/api/admin/hero</code> PUT No No Yes Update hero section <code>/api/contact</code> POST Yes Yes Yes Send contact message <code>/actuator/health</code> GET Yes Yes Yes Health check <p>Legend: - Yes = Allowed - No = Forbidden (401 or 403)</p>"},{"location":"security/rbac/#frontend-routes","title":"Frontend Routes","text":"Route Public USER ADMIN Description <code>/</code> Yes Yes Yes Home page <code>/login</code> Yes Yes Yes Login page <code>/projects</code> Yes Yes Yes Project list <code>/projects/:id</code> Yes Yes Yes Project detail <code>/admin</code> No No Yes Admin dashboard <code>/admin/projects</code> No No Yes Manage projects <code>/admin/skills</code> No No Yes Manage skills <code>/admin/cv</code> No No Yes Manage CVs"},{"location":"security/rbac/#6-implementation-details","title":"6. Implementation Details","text":""},{"location":"security/rbac/#user-entity-with-roles","title":"User Entity with Roles","text":"<p>File: <code>User.java</code></p> <pre><code>@Entity\n@Table(name = \"users\")\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = \"user_roles\", joinColumns = @JoinColumn(name = \"user_id\"))\n    @Column(name = \"role\")\n    @Enumerated(EnumType.STRING)\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    @Column(nullable = false)\n    private LocalDateTime createdAt = LocalDateTime.now();\n}\n</code></pre> <p>Role Enum: <pre><code>public enum Role {\n    ROLE_USER,\n    ROLE_ADMIN\n}\n</code></pre></p> <p>Database Schema: <pre><code>CREATE TABLE users (\n    id BIGSERIAL PRIMARY KEY,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE user_roles (\n    user_id BIGINT NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n    role VARCHAR(20) NOT NULL,\n    PRIMARY KEY (user_id, role)\n);\n</code></pre></p>"},{"location":"security/rbac/#userdetailsservice-implementation","title":"UserDetailsService Implementation","text":"<p>File: <code>CustomUserDetailsService.java</code></p> <pre><code>@Service\n@RequiredArgsConstructor\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(\"User not found: \" + username));\n\n        return org.springframework.security.core.userdetails.User.builder()\n            .username(user.getUsername())\n            .password(user.getPassword())\n            .authorities(user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.name()))\n                .toArray(GrantedAuthority[]::new))\n            .accountExpired(false)\n            .accountLocked(false)\n            .credentialsExpired(false)\n            .disabled(false)\n            .build();\n    }\n}\n</code></pre>"},{"location":"security/rbac/#jwt-token-with-roles","title":"JWT Token with Roles","text":"<p>Token Generation: <pre><code>public String generateAccessToken(Authentication authentication) {\n    UserDetails userDetails = (UserDetails) authentication.getPrincipal();\n\n    return Jwts.builder()\n        .claim(\"type\", \"access\")\n        .claim(\"authorities\", userDetails.getAuthorities())  // Includes roles\n        .setSubject(userDetails.getUsername())\n        .setIssuer(\"portfolio-backend\")\n        .setAudience(\"portfolio-frontend\")\n        .setIssuedAt(new Date())\n        .setExpiration(new Date(System.currentTimeMillis() + accessTokenExpiration))\n        .signWith(SignatureAlgorithm.HS256, jwtSecret)\n        .compact();\n}\n</code></pre></p> <p>Token Payload Example: <pre><code>{\n  \"type\": \"access\",\n  \"sub\": \"admin\",\n  \"authorities\": [\n    {\n      \"authority\": \"ROLE_ADMIN\"\n    }\n  ],\n  \"iss\": \"portfolio-backend\",\n  \"aud\": \"portfolio-frontend\",\n  \"iat\": 1700000000,\n  \"exp\": 1700000900\n}\n</code></pre></p>"},{"location":"security/rbac/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security: Authentication - JWT authentication architecture</li> <li>Security: Password Management - Password policies</li> <li>API: Authentication - Authentication endpoints</li> <li>Development: Testing - Testing guidelines</li> </ul>"},{"location":"security/svg-sanitization/","title":"SVG Sanitization","text":""},{"location":"security/svg-sanitization/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Overview</li> <li>Security Risks</li> <li>Sanitization Strategy</li> <li>Allowed Elements</li> <li>Allowed Attributes</li> <li>Blocked Content</li> <li>Configuration</li> </ol>"},{"location":"security/svg-sanitization/#1-overview","title":"1. Overview","text":"<p>SVG files can contain executable code, making them a potential vector for XSS (Cross-Site Scripting) and XXE (XML External Entity) attacks. The application sanitizes all uploaded SVG files using a whitelist approach before storing them.</p> <p>Service: <code>SvgStorageService</code></p> <p>Library: Jsoup 1.18.1 (XML parser)</p> <p>Strategy: Whitelist-based sanitization (only explicitly allowed elements and attributes are kept)</p> <p>Use Case: Skill icons in the portfolio (uploaded via admin panel)</p>"},{"location":"security/svg-sanitization/#2-security-risks","title":"2. Security Risks","text":""},{"location":"security/svg-sanitization/#21-xss-via-svg","title":"2.1 XSS via SVG","text":"<p>SVG files can contain JavaScript that executes when the SVG is rendered in a browser.</p> <p>Attack Vectors: - <code>&lt;script&gt;</code> elements embedded in SVG - Event handlers (<code>onclick</code>, <code>onload</code>, <code>onerror</code>) - <code>javascript:</code> URLs in <code>xlink:href</code> attributes - CSS <code>expression()</code> in style attributes</p> <p>Example malicious SVG: <pre><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\"&gt;\n  &lt;script&gt;alert('XSS')&lt;/script&gt;\n  &lt;circle cx=\"50\" cy=\"50\" r=\"40\" onclick=\"alert('XSS')\"/&gt;\n  &lt;a xlink:href=\"javascript:alert('XSS')\"&gt;\n    &lt;text&gt;Click me&lt;/text&gt;\n  &lt;/a&gt;\n&lt;/svg&gt;\n</code></pre></p>"},{"location":"security/svg-sanitization/#22-xxe-via-svg","title":"2.2 XXE via SVG","text":"<p>SVG is XML-based and can be exploited for XXE attacks.</p> <p>Attack Vectors: - DOCTYPE declarations with external entities - Parameter entity references - External DTD references</p> <p>Example XXE payload: <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE svg [\n  &lt;!ENTITY xxe SYSTEM \"file:///etc/passwd\"&gt;\n]&gt;\n&lt;svg xmlns=\"http://www.w3.org/2000/svg\"&gt;\n  &lt;text&gt;&amp;xxe;&lt;/text&gt;\n&lt;/svg&gt;\n</code></pre></p>"},{"location":"security/svg-sanitization/#3-sanitization-strategy","title":"3. Sanitization Strategy","text":""},{"location":"security/svg-sanitization/#31-process-flow","title":"3.1 Process Flow","text":"<ol> <li>Pre-validation: Check file size, extension, MIME type</li> <li>Pattern detection: Reject files with dangerous patterns (before parsing)</li> <li>DOCTYPE removal: Strip XML declaration and DOCTYPE (XXE prevention)</li> <li>Parse: Parse SVG with Jsoup XML parser</li> <li>Element filtering: Remove elements not in whitelist</li> <li>Attribute filtering: Remove attributes not in whitelist</li> <li>Value sanitization: Check attribute values for dangerous content</li> <li>Output: Generate clean SVG with safe XML declaration</li> </ol>"},{"location":"security/svg-sanitization/#32-whitelist-approach","title":"3.2 Whitelist Approach","text":"<p>Only explicitly allowed elements and attributes are preserved. Everything else is removed.</p> <p>Why whitelist over blacklist: - Blacklists can be bypassed with encoding tricks - New attack vectors are discovered regularly - Whitelist is more restrictive and secure by default - SVG for icons has limited legitimate use of elements</p>"},{"location":"security/svg-sanitization/#4-allowed-elements","title":"4. Allowed Elements","text":"<p>Elements preserved during sanitization:</p>"},{"location":"security/svg-sanitization/#41-structure-elements","title":"4.1 Structure Elements","text":"Element Description <code>svg</code> Root SVG container <code>g</code> Group container <code>defs</code> Definitions container <code>symbol</code> Reusable symbol definition <code>use</code> Reference to symbol/element <code>title</code> Accessible title <code>desc</code> Accessible description"},{"location":"security/svg-sanitization/#42-shape-elements","title":"4.2 Shape Elements","text":"Element Description <code>path</code> Arbitrary path <code>circle</code> Circle shape <code>ellipse</code> Ellipse shape <code>line</code> Line segment <code>polyline</code> Connected line segments <code>polygon</code> Closed polygon <code>rect</code> Rectangle"},{"location":"security/svg-sanitization/#43-gradient-and-pattern-elements","title":"4.3 Gradient and Pattern Elements","text":"Element Description <code>linearGradient</code> Linear color gradient <code>radialGradient</code> Radial color gradient <code>stop</code> Gradient color stop <code>pattern</code> Repeating pattern <code>clipPath</code> Clipping path <code>mask</code> Masking element"},{"location":"security/svg-sanitization/#44-filter-elements","title":"4.4 Filter Elements","text":"Element Description <code>filter</code> Filter container <code>feGaussianBlur</code> Blur effect <code>feOffset</code> Offset effect <code>feBlend</code> Blend effect <code>feMerge</code> Merge layers <code>feMergeNode</code> Merge node <code>feColorMatrix</code> Color transformation <code>feFlood</code> Flood fill <code>feComposite</code> Composite operation"},{"location":"security/svg-sanitization/#5-allowed-attributes","title":"5. Allowed Attributes","text":""},{"location":"security/svg-sanitization/#51-general-attributes","title":"5.1 General Attributes","text":"<pre><code>id, class, style, viewBox, xmlns, xmlns:xlink\n</code></pre>"},{"location":"security/svg-sanitization/#52-dimension-attributes","title":"5.2 Dimension Attributes","text":"<pre><code>width, height, x, y, x1, y1, x2, y2, cx, cy, r, rx, ry\n</code></pre>"},{"location":"security/svg-sanitization/#53-path-and-shape-attributes","title":"5.3 Path and Shape Attributes","text":"<pre><code>d, points\n</code></pre>"},{"location":"security/svg-sanitization/#54-presentation-attributes","title":"5.4 Presentation Attributes","text":"<pre><code>fill, stroke, stroke-width, stroke-linecap, stroke-linejoin,\nstroke-dasharray, stroke-dashoffset, stroke-opacity, fill-opacity,\nopacity, transform, clip-path, mask, filter\n</code></pre>"},{"location":"security/svg-sanitization/#55-gradient-attributes","title":"5.5 Gradient Attributes","text":"<pre><code>offset, stop-color, stop-opacity, gradientUnits, gradientTransform,\nspreadMethod\n</code></pre>"},{"location":"security/svg-sanitization/#56-reference-attributes","title":"5.6 Reference Attributes","text":"<pre><code>xlink:href, href, preserveAspectRatio\n</code></pre>"},{"location":"security/svg-sanitization/#57-pattern-attributes","title":"5.7 Pattern Attributes","text":"<pre><code>patternUnits, patternContentUnits, patternTransform\n</code></pre>"},{"location":"security/svg-sanitization/#58-filter-attributes","title":"5.8 Filter Attributes","text":"<pre><code>stdDeviation, dx, dy, result, in, in2, mode, flood-color, flood-opacity,\noperator, k1, k2, k3, k4, type, values, color-interpolation-filters\n</code></pre>"},{"location":"security/svg-sanitization/#6-blocked-content","title":"6. Blocked Content","text":""},{"location":"security/svg-sanitization/#61-blocked-elements-always-removed","title":"6.1 Blocked Elements (always removed)","text":"Element Reason <code>script</code> JavaScript execution <code>foreignObject</code> Embeds external content <code>iframe</code> Embeds external pages <code>embed</code> Embeds external content <code>object</code> Embeds external objects <code>a</code> Links (can contain javascript:) <code>image</code> External image references <code>animate</code> Can trigger events <code>animateTransform</code> Can trigger events <code>set</code> Can trigger events <code>text</code>, <code>tspan</code> Potential XSS via text content"},{"location":"security/svg-sanitization/#62-blocked-attributes-always-removed","title":"6.2 Blocked Attributes (always removed)","text":"Pattern Reason <code>on*</code> (onclick, onload, etc.) Event handlers <code>href</code> with <code>javascript:</code> Script execution <code>href</code> with <code>data:</code> Data URI injection <code>xlink:href</code> with <code>javascript:</code> Script execution"},{"location":"security/svg-sanitization/#63-blocked-patterns-reject-file","title":"6.3 Blocked Patterns (reject file)","text":"<p>The following patterns in raw SVG content cause the upload to be rejected:</p> <pre><code>(?i)(on\\w+\\s*=|javascript:|data:|vbscript:)\n</code></pre> <p>This catches: - Event handlers: <code>onclick=</code>, <code>onload=</code>, <code>onerror=</code> - JavaScript URLs: <code>javascript:alert()</code> - Data URIs: <code>data:text/html,&lt;script&gt;</code> - VBScript: <code>vbscript:msgbox()</code></p>"},{"location":"security/svg-sanitization/#64-blocked-doctype-and-xml-declaration","title":"6.4 Blocked DOCTYPE and XML Declaration","text":"<p>Removed during sanitization: <pre><code>&lt;!DOCTYPE svg [...]&gt;\n&lt;?xml version=\"1.0\" ... ?&gt;\n</code></pre></p> <p>A safe XML declaration is added back after sanitization: <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n</code></pre></p>"},{"location":"security/svg-sanitization/#7-configuration","title":"7. Configuration","text":""},{"location":"security/svg-sanitization/#71-application-properties","title":"7.1 Application Properties","text":"<pre><code>svg:\n  storage:\n    upload-dir: ${SVG_UPLOAD_DIR:uploads/icons}\n    base-path: ${SVG_BASE_PATH:/uploads/icons}\n    max-file-size: ${SVG_MAX_FILE_SIZE:102400}  # 100KB\n    allowed-extensions:\n      - svg\n    allowed-mime-types:\n      - image/svg+xml\n</code></pre>"},{"location":"security/svg-sanitization/#72-file-size-limit","title":"7.2 File Size Limit","text":"<p>Maximum SVG file size: 100 KB</p> <p>This limit is intentionally small because: - Icon SVGs should be optimized - Larger files increase attack surface - Prevents DoS via large file uploads</p>"},{"location":"security/svg-sanitization/#73-validation-order","title":"7.3 Validation Order","text":"<ol> <li>File not null/empty</li> <li>No path traversal in filename</li> <li>File size within limit</li> <li>Extension is <code>.svg</code></li> <li>MIME type is <code>image/svg+xml</code></li> <li>Contains <code>&lt;svg</code> tag</li> <li>No dangerous patterns detected</li> <li>Sanitization successful</li> </ol>"},{"location":"security/svg-sanitization/#related-documentation","title":"Related Documentation","text":"<ul> <li>File Storage - General file upload security</li> <li>Security Best Practices - Input validation section</li> <li>Image Processing - Image upload handling</li> </ul>"}]}