# =============================================================================
# Environment Variables Template
# =============================================================================
# Copy this file to .env and set your values
# NEVER commit .env to version control
#
# See docs/security/initial-setup.md for detailed instructions
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION VERSION (Optional)
# -----------------------------------------------------------------------------
# Application version for frontend display and cache busting
# Automatically set during CI/CD build
VERSION=0.0.0-dev

# -----------------------------------------------------------------------------
# DATABASE (Required for all environments)
# -----------------------------------------------------------------------------
# PostgreSQL password for the application database
# Generate with: openssl rand -base64 24
DB_USER_PASSWORD=

# -----------------------------------------------------------------------------
# REDIS (Required for staging/production, optional for dev)
# -----------------------------------------------------------------------------
# Redis authentication password for cache security
# Generate with: openssl rand -base64 24
#
# DEV: Leave empty (Redis runs without authentication)
# STAGING/PROD: Required (deployment fails if missing)
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# MAIL (Required for all environments)
# -----------------------------------------------------------------------------
# Gmail configuration for contact form notifications
#
# MAIL_USERNAME: Your Gmail address
# MAIL_APP_PASSWORD: Gmail App Password (NOT your regular password)
MAIL_USERNAME=
MAIL_APP_PASSWORD=

# -----------------------------------------------------------------------------
# JWT SECRET (Required for staging/production, optional for dev)
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens (min 43 characters)
# Generate with: openssl rand -base64 64
#
# DEV: Leave empty to use default (warning logged, app starts)
# STAGING/PROD: Required (app crashes if missing or contains "dev"/"default")
JWT_SECRET=

# -----------------------------------------------------------------------------
# ADMIN PASSWORD (Required for staging/production, optional for dev)
# -----------------------------------------------------------------------------
# BCrypt hash of the admin password
# Generate with: ./scripts/security/generate-bcrypt-hash.sh
# Or: python3 -c "import bcrypt; print(bcrypt.hashpw(b'YourPassword', bcrypt.gensalt(10)).decode())"
#
# DEV: Leave empty if you don't need admin access (warning logged)
# STAGING/PROD: Required for admin panel access
#
# Format: $$2a$$10$$... (BCrypt hash, 60 characters)
# IMPORTANT: Each $ must be escaped as $$ for Docker Compose
# Example: $$2b$$10$$your_hash_here
ADMIN_PASSWORD_HASH=


# -----------------------------------------------------------------------------
# SENTRY (Optional - requires cookie consent if enabled)
# -----------------------------------------------------------------------------
# Error tracking and performance monitoring
# Get DSN from: sentry.io → Project Settings → Client Keys (DSN)
#
# SENTRY_DSN: Backend (Spring Boot) project DSN
# SENTRY_DSN_FRONTEND: Frontend (Angular) project DSN
#
# DEV: Leave empty (Sentry disabled)
# STAGING/PROD: Optional for error tracking
SENTRY_DSN=
SENTRY_DSN_FRONTEND=

# -----------------------------------------------------------------------------
# FEATURE FLAGS - Privacy by Default (GDPR Compliant)
# -----------------------------------------------------------------------------
# These features are DISABLED by default to avoid cookie consent requirement.
# Enable them only if you implement a cookie consent banner.
#
# SENTRY_ENABLED: Enable Sentry error tracking in frontend
# WEB_VITALS_ENABLED: Enable Web Vitals performance metrics collection
# VISITOR_TRACKING_ENABLED: Enable real-time visitor tracking (heartbeats)
#
# Values: true | false (default: false)
#
# WARNING: Setting any of these to 'true' requires a cookie consent banner
# to be GDPR compliant, as they involve tracking/analytics functionality.
SENTRY_ENABLED=false
WEB_VITALS_ENABLED=false
VISITOR_TRACKING_ENABLED=false

# -----------------------------------------------------------------------------
# FEATURE FLAGS - Services (Optional)
# -----------------------------------------------------------------------------
# Enable/disable optional backend services.
# All default to 'true' - set to 'false' to disable.
#
# KAFKA_ENABLED: Event streaming for analytics and admin actions
# ELASTICSEARCH_ENABLED: Full-text search for articles/projects
# RABBITMQ_ENABLED: Async message processing (email, images, audit)
# BATCH_ENABLED: Scheduled batch jobs (cleanup, reports, sitemap)
#
# DEV: Can disable to reduce resource usage
# STAGING/PROD: Keep enabled for full functionality
KAFKA_ENABLED=true
ELASTICSEARCH_ENABLED=true
RABBITMQ_ENABLED=true
BATCH_ENABLED=true

# -----------------------------------------------------------------------------
# GRAPHQL (Optional - Security settings)
# -----------------------------------------------------------------------------
# GraphQL API security settings.
# All default to 'true' in dev, 'false' in staging/prod.
#
# GRAPHQL_GRAPHIQL_ENABLED: Interactive GraphQL IDE at /graphiql
# GRAPHQL_SCHEMA_PRINTER_ENABLED: Schema SDL endpoint
# GRAPHQL_INTROSPECTION_ENABLED: Schema introspection queries
#
# DEV: Leave as default (enabled for development)
# STAGING/PROD: Disabled by default for security (can temporarily enable)
#
# WARNING: Enabling introspection in production exposes your full API schema
GRAPHQL_GRAPHIQL_ENABLED=true
GRAPHQL_SCHEMA_PRINTER_ENABLED=true
GRAPHQL_INTROSPECTION_ENABLED=true

# -----------------------------------------------------------------------------
# ELASTICSEARCH (Required for staging/production)
# -----------------------------------------------------------------------------
# Elasticsearch password for search functionality
# Generate with: openssl rand -base64 24
#
# DEV: Uses default 'changeme' (warning: not secure)
# STAGING/PROD: Required for secure Elasticsearch access
ELASTICSEARCH_PASSWORD=

# -----------------------------------------------------------------------------
# RABBITMQ (Required for all environments)
# -----------------------------------------------------------------------------
# RabbitMQ credentials for async message processing
# Used for: email sending, image processing, audit logging
#
# Generate password with: openssl rand -base64 24
#
# DEV: Required (no fallback to guest/guest for security)
# STAGING/PROD: Required (deployment fails if missing)
RABBITMQ_USERNAME=portfolio_app
RABBITMQ_PASSWORD=

# -----------------------------------------------------------------------------
# GRAFANA (Required for monitoring stack)
# -----------------------------------------------------------------------------
# Grafana admin credentials for monitoring dashboards
# Only needed if using docker-compose.monitoring.yml
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=

# QUICK START
#
# FOR DEVELOPMENT (minimum required):
#   DB_USER_PASSWORD=local_dev_password
#   MAIL_USERNAME=your_email@gmail.com
#   MAIL_APP_PASSWORD=your_gmail_app_password
#   RABBITMQ_USERNAME=portfolio_app
#   RABBITMQ_PASSWORD=local_dev_password
#
# FOR STAGING/PRODUCTION (all required):
#   DB_USER_PASSWORD=secure_random_password
#   REDIS_PASSWORD=secure_random_password
#   RABBITMQ_USERNAME=portfolio_app
#   RABBITMQ_PASSWORD=secure_random_password
#   MAIL_USERNAME=your_email@gmail.com
#   MAIL_APP_PASSWORD=your_gmail_app_password
#   JWT_SECRET=your_64_char_random_secret
#   ADMIN_PASSWORD_HASH=$2a$10$your_bcrypt_hash
#   SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
#   SENTRY_DSN_FRONTEND=https://xxx@xxx.ingest.sentry.io/xxx
#   GRAFANA_ADMIN_PASSWORD=secure_password
